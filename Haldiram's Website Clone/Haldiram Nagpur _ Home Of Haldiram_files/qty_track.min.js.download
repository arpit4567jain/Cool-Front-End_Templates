define(['jquery'],function($){'use strict';return function(targetModule){return targetModule.extend({increaseQty:function($data){try{var $arr=$data.split('/');var $id=$arr[0];if(window.isNaN(this.defaultQty)){console.log('NaN recieved');this.defaultQty=1;if(typeof $arr[1]!=='undefined'){this.defaultQty=window.parseInt($arr[1]);}}
var prodId=$(document.getElementById($id)).closest('[data-tracker-identifier]').data('tracker-identifier');if(prodId){window.shopti_data_layer.products.forEach(function(product){if(product.product_id==prodId||product.id==prodId){product.quantity+=window.parseInt(this.defaultQty);}}.bind(this));}else{window.shopti_data_layer.products[0].quantity=window.parseInt($(document.getElementById($id)).val())+window.parseInt(this.defaultQty);}}catch(error){console.log(error);}
return this._super();},decreaseQty:function($data){try{var $arr=$data.split('/');var $id=$arr[0];if(window.isNaN(this.defaultQty)){console.log('NaN recieved');this.defaultQty=1;if(typeof $arr[1]!=='undefined'){this.defaultQty=window.parseInt($arr[1]);}}
var prodId=$(document.getElementById($id)).closest('[data-tracker-identifier]').data('tracker-identifier');if(prodId){window.shopti_data_layer.products.forEach(function(product){if(product.product_id==prodId||product.id==prodId){product.quantity-=window.parseInt(this.defaultQty);if(product.quantity<window.parseInt(this.defaultQty)){product.quantity=window.parseInt(this.defaultQty);}}}.bind(this));}else{window.shopti_data_layer.products[0].quantity=window.parseInt($(document.getElementById($id)).val())-window.parseInt(this.defaultQty);if(window.shopti_data_layer.products[0].quantity<window.parseInt(this.defaultQty)){window.shopti_data_layer.products[0].quantity=window.parseInt(this.defaultQty);}}}catch(error){console.log(error);}
return this._super();}});};});