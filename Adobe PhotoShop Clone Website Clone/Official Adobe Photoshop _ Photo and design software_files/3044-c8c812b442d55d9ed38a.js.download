(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3044,179],{56:function(n,e,t){"use strict";t.d(e,{PF:function(){return A},lj:function(){return _},TZ:function(){return m}});var r,o,i=t(82492),a=t.n(i),u=t(67294),l=(t(52007),t(52253)),c=t(28919),d=t(298),s=t(19291),f=t(57332),p=t(55988),v=(u.createElement,[]),E=!1;!function(){if((0,s.Lf)()){var n=(0,c.vW)();if(!n.includes(f.Z.DTM_IFRAME)&&!n.includes(f.Z.PRELOAD)){var e=t(48316).AdobeLaunchAnalytics;o=new e}}}();var m=function(){var n=(0,p.t)().pathname;return(0,u.useEffect)((function(){n!=="/".concat(f.Z.DTM_IFRAME)&&n!=="/".concat(f.Z.PRELOAD)&&I()}),[n]),o},T=function(n){var e,t;return!E&&null!==(e=window)&&void 0!==e&&e.digitalData&&null!==n&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.unifiedCheckout&&(n.data.unifiedCheckout.cartAddToLocation=n.data.unifiedCheckout.previousPageToUC,E=!0),n},_=function(n,e,t){t?v.push({data:n,doTrack:e,eventLinkType:t}):v.push({data:n,doTrack:e}),I()},I=function(){v.forEach((function(n){var e,t,o,i,u=(null===(e=n=T(n))||void 0===e||null===(t=e.data)||void 0===t||null===(o=t.page)||void 0===o||null===(i=o.pageInfo)||void 0===i?void 0:i.pageName)||"";if(u.includes(l.Fp.PAGE_PRICE_TAX_LOAD)||u.includes(l.Fp.PAGE_CONFIRMATION))window.digitalData=a()(window.digitalData,n.data);else{var c=(0,d.um)(r);window.digitalData=a()(window.digitalData,n.data,c)}window._satellite&&n.doTrack&&(n.eventLinkType?window._satellite.track(l.RC.EVENT_LINK_TYPE,{digitalData:window.digitalData._snapshot()}):window._satellite.track(l.RC.EVENT_STATE_TYPE,{digitalData:window.digitalData._snapshot()}))})),v=[]},A=function(n){var e=n.route;return r=e,null}},96137:function(n,e,t){"use strict";t.d(e,{h:function(){return i}});var r=t(27261);function o(){var n=(0,r.Z)(["\n  query GET_COUNTRY($id: ID!) {\n    country(id: $id) {\n      id\n      marketSegmentDetails {\n        marketSegmentId\n        taxSupported\n      }\n    }\n  }\n"]);return o=function(){return n},n}var i=(0,t(71439).gql)(o())},47095:function(n,e,t){"use strict";t.d(e,{dp:function(){return r},Tc:function(){return l},yA:function(){return c},Pm:function(){return d},eR:function(){return s},n2:function(){return f},d2:function(){return p}});var r,o=t(56746),i=t(66738),a=t(3810),u=t(46829);function l(n){return n===r.AVAILABLE}function c(n){return n===r.CLAIMED}function d(n){return n===r.INVALID}function s(n){return n===r.USED}function f(){return(0,u.useLazyQuery)(a.$,{fetchPolicy:"no-cache"})}function p(){return{code:i.I.INVALID_EMAIL_FORM_ERROR,type:o.ErrorType.FORM,extensions:{silent:!0}}}!function(n){n.AVAILABLE="AVAILABLE",n.CLAIMED="CLAIMED",n.USED="USED",n.INVALID="INVALID"}(r||(r={}))},3810:function(n,e,t){"use strict";t.d(e,{m:function(){return a},$:function(){return u}});var r=t(27261),o=t(71439);function i(){var n=(0,r.Z)(["\n  query getAccountStatus($userEmail: String!) {\n    account(email: $userEmail) {\n      status\n    }\n  }\n"]);return i=function(){return n},n}var a="getAccountStatus",u=(0,o.gql)(i())},87246:function(n,e,t){"use strict";t.d(e,{$:function(){return M}});var r=t(34937),o=(0,r.defineContents)("PageFooterContent",{copyright:{id:"copyrightText",type:"string",placeholderContent:"\xa9 2022 Adobe. All rights reserved."},copyrightWithYearToken:{id:"copyrightTextWithYearToken",type:"string",placeholderContent:"\xa9 {copyrightYear} Adobe. All rights reserved."},termsOfUse:{id:"termsLinkLabel",type:"string",placeholderContent:"Terms of Use"},termsOfUseUrl:{id:"termsLinkUrl",type:"string",placeholderContent:"https://www.stage.adobe.com/legal/terms.html"},privacyLinkLabel:{id:"privacyLinkLabel",type:"string",placeholderContent:"Privacy Policy"},privacyPolicyUrl:{id:"privacyLinkUrl",type:"string",placeholderContent:"https://www.stage.adobe.com/privacy.html"},countryRegion:{id:"countryLabel",type:"string",placeholderContent:"Country/Region:"},secureTransactionLabel:{id:"secureTransactionLabel",type:"string",placeholderContent:"Secure transaction"},secureTransactionText:{id:"secureTransactionText",type:"string",placeholderContent:"We\u2019re serious about protecting your personal information. To ensure your account details are safe, this transaction is encrypted and secure."}}),i=t(67294),a=t(62577),u=t(92673),l=t(56746),c=t(20929),d=t(298),s=t(65455),f=t(61792),p=t(56381),v=t(53006),E=t(32389),m=t(77059),T=i.createElement,_=function(){return T("svg",{className:m.Z.lock,xmlns:"http://www.w3.org/2000/svg",width:"12",height:"15",viewBox:"0 0 12 15"},T("path",{fill:"#fd9d01",d:"M14.5,8H14V7A5,5,0,1,0,4,7V8H3.5a.5.5,0,0,0-.5.5v8a.5.5,0,0,0,.5.5h11a.5.5,0,0,0,.5-.5v-8A.5.5,0,0,0,14.5,8ZM6,7a3,3,0,1,1,6,0V8H6Zm4,6.111V14.5a.5.5,0,0,1-.5.5h-1a.5.5,0,0,1-.5-.5V13.111a1.5,1.5,0,1,1,2,0Z",transform:"translate(-3 -2)"}))},I=i.createElement,A=function(n){var e=n.label,t=n.hoverText;return I(p.default,{placement:"top",trigger:["click","hover"]},I("span",{className:v.Z.lockItem},I(_,null),e),I(E.default,{className:v.Z.lockItemHover},t))},O=t(57332),C=t(62452),S=t(55988),P=t(276),R=t(52007),N=t(49865),y=i.createElement,g="Footer:TermsOfUse:Click",D="TermsOfUse",L="Footer:PrivacyPolicy:Click",U="PrivacyPolicy",h=function(n){var e=n.className;return y("span",{className:a.Z[e]},y("span",{className:a.Z.footerLinkSeparator},"|"))},b=function(){setTimeout((function(){var n=document.querySelector(".spectrum-Popover.react-spectrum-Popover.is-open.spectrum-Dropdown-popover.spectrum-Dropdown-popover--quiet");if(n){n.classList.add(a.Z.countryPopover);var e=n.getElementsByTagName("ul")[0],t=e.scrollHeight;e.scrollTop=e.scrollTop+350>=t?e.scrollTop:e.scrollTop-175}}),200)},M=(0,N.r)("pageFooter",o)((function(){var n=(new Date).getFullYear(),e=(0,R.useTrackEvent)(),t=(0,P.useSelector)(s.dm),p=t.privacyPolicyUrl,v=t.termsOfUseUrl,E=(0,r.useContentEntry)(o),m=(0,S.t)().currentRoute,T=(0,P.useSelector)(s.Im),_=(0,P.useSelector)(s.mT),I=[O.Z.SEGMENTATION,O.Z.PAYMENT,O.Z.CONFIRMATION,O.Z.ERROR,O.Z.ACADEMIC],N=(0,P.useSelector)(f.OQ)&&-1===I.indexOf(m),M=(0,C.KW)(),F=y(l.AppErrorBoundary,{logMeta:{componentName:"Footer",errorLoadingComponent:"CountryDropdown"}},y(c.P,{imsLocale:T,defaultValue:_,onOpen:b,onChange:function(n){M(null===n||void 0===n?void 0:n.value)}})),k=N?y(i.Fragment,null,y("span",null,E.get(o.countryRegion),F),y(h,{className:"countryDropdownSeparator"})):null,w=m===O.Z.PAYMENT||m===O.Z.ACADEMIC?y(A,{label:E.get(o.secureTransactionLabel),hoverText:E.get(o.secureTransactionText)}):null,Z=function(n,t){var r=(0,d.W6)(n,t);e(r)};return y("div",{className:a.Z.footer},w,y("div",{className:a.Z.footerContent},y("span",null,E.format(o.copyrightWithYearToken,{copyrightYear:n})),y(h,{className:"copyrightSeparator"}),k,y("span",null,y(u.A11yLink,{href:v,target:"_blank",onClick:function(){return Z(g,D)}},E.get(o.termsOfUse)),y(h,{className:"privacyLinkLabel"}),y(u.A11yLink,{href:p,target:"_blank",onClick:function(){return Z(L,U)}},E.get(o.privacyLinkLabel)))))}))},10432:function(n,e,t){"use strict";t.d(e,{h:function(){return on},L:function(){return rn}});var r,o,i,a=t(26265),u=t(32292),l=t(67294),c=t(52645),d=t(5152),s=t(62870),f=t(82532),p=t(69362),v=t(86041),E=t(40720),m=l.createElement,T="red",_="white",I=function(n){var e=n.variant,t=(void 0===e?T:e)===_,r=t?v.Jq.WHITE:v.Jq.RED;return m("div",{role:"img","aria-label":"Adobe logo container",className:t?E.Z.adobeLogoWhiteVariant:E.Z.adobeLogo},m(v.DZ,{fillColor:r}),m("p",{className:E.Z.AdobeLogoText},"Adobe"))},A=t(56746),O=t(11057),C=t(298),S=t(92488),P=t(65455),R=t(61792),N=t(27261),y=t(37244),g=t.n(y),D=t(46829),L=t(71439),U=t(59180),h=t(96029),b=t(36623),M=t(68160),F=t(24817),k=t(57876),w=t(55988),Z=t(276),x=l.createElement;function Y(){var n=(0,N.Z)(["\n      fragment HelpCurrentOfferFragment on PersonalizedOffer {\n        offer {\n          productArrangementCode\n        }\n      }\n    "]);return Y=function(){return n},n}!function(n){n.GENERAL="general",n.TRY="try",n.BUY="buy",n.STUDENT="student"}(r||(r={})),function(n){n.GENERAL="general",n.MAC="mac-os",n.MOBILE="mobile",n.WINDOWS="windows-os"}(o||(o={})),function(n){n.INAPP="inapp",n.WEB="web"}(i||(i={}));var V=function(){var n,e,t=(0,Z.useSelector)(R.Ax),a=(0,Z.useSelector)(h.vl),u=(0,k._)().setIsJarvisChatEnabled,l=a[g().app.CTX.name],c=(0,D.useApolloClient)(),d=(0,w.t)().currentRoute,s=(0,U._b)(d),f=(0,Z.useSelector)(b.Jm),p=c.readFragment({id:"PersonalizedOffer:".concat(s,":").concat(f),fragment:(0,L.gql)(Y())}),v=r.TRY,E=function(n){var e=o.GENERAL;return n.isMobile?e=o.MOBILE:n.isWindows?e=o.WINDOWS:n.isMac&&(e=o.MAC),e}(t),m=null===t||void 0===t||null===(n=t.browser)||void 0===n?void 0:n.toLowerCase(),T=(0,F.Z0)(l)?i.INAPP:i.WEB,_=null===p||void 0===p||null===(e=p.offer)||void 0===e?void 0:e.productArrangementCode,I=(0,Z.useSelector)(P.n$),A={contentType:v,pageName:d,platform:E,browser:m,source:T,product:_};return x(M.mH,{onChatClick:function(){var n,e,t;u(!0),null===(n=window)||void 0===n||null===(e=n.AdobeMessagingExperienceClient)||void 0===e||null===(t=e.openMessagingWindow)||void 0===t||t.call(e)},filters:A,language:"zh-hant"===I?"zh_TW":I})},B=t(49338),G=t(34937),j=(0,G.defineContents)("pageHeader",{browserTitle:{id:"browserTitle",type:"string",placeholderContent:"Thank you, {firstName}! Your trial has started successfully."},companyLogo:{id:"companyLogo",type:"string",placeholderContent:"https://www.adobe.com/content/dam/cc/icons/Adobe_Corporate_Horizontal_Red_HEX.svg"},companyName:{id:"companyName",type:"string",placeholderContent:"Adobe"},signIn:{id:"signIn",type:"string",placeholderContent:"Sign In"}}),W=t(52253),H=t(11051),q=t(14157),K=t(83005),$=t(12510),X=t(52007),Q=t(49865),z=t(2037),J=l.createElement;function nn(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function en(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?nn(Object(t),!0).forEach((function(e){(0,a.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nn(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var tn=(0,d.default)((function(){return t.e(4554).then(t.bind(t,40146)).then((function(n){return n.ProfileMenu}))}),{ssr:!1,loadableGenerated:{webpack:function(){return[40146]},modules:["@pandora/react-profile-menu"]}}),rn={BLUE:"blue",GREEN:"green",WHITE:"white"},on=(0,Q.r)("pageHeader",j)((function(n){var e,t,r,o,i=(0,X.useTrackEvent)(),a=(0,$.useSelector)(R.PR),d=(0,O.Il)(),v=(0,u.Z)(d,1)[0],E=(0,w.t)().currentRoute,m=(0,q.k)(),N=(0,K.a)(),y=(0,H.useCommerceAppContext)(),g=y.emitMessage,D=y.isInApp,L=y.isInIframe,U=(0,l.useCallback)((function(){var n=(0,C.W6)("".concat(W.ps.SIGNIN_CLICK_EVENT_NAME,":").concat(W.ps.CLICK),W.ps.SIGNIN_CLICK_EVENT_ACTION);i(n),v(E,O.Np.SIGN_IN_REQUESTED)}),[v,E,i]),h=function(n,e){[B.L.SPACEBAR,B.L.ENTER].includes(n.keyCode)&&(n.preventDefault(),b(e))},b=function(e){var t=(0,C.W6)(W.ps.CHECKOUT_MODAL_CLOSE_CLICK,W.ps.CHECKOUT_MODAL_CLOSE_ACTION);i(t);var r={actionUrl:n.closeActionUrl,status:e};g(H.SystemMessage.CLOSE,r)},M=D()||L(),F=(0,$.useStore)(),k=(0,P.jz)(F.getState()),Z=(0,G.useContentEntry)(j),x=n.variant||rn.WHITE,Y=(0,S.getAppLocale)("globalnav",Z.locale,"en");switch(x){case rn.WHITE:e=T,t=s.Z.headerWhite;break;case rn.GREEN:e=_,t=s.Z.greenHeader,r=!0,o=!k;break;case rn.BLUE:e=_,t=s.Z.blueHeader,r=!0,o=!k;break;default:e=T,t=s.Z.headerWhite}var Q=n.children?J("div",{className:s.Z.headerContent},n.children):J("div",{className:s.Z.headerContent});(0,l.useEffect)((function(){var n=window;a.accessToken&&(n.adobeIMS=en(en({},window.adobeIMS),{},{getAccessToken:function(){return a.accessToken},isSignedInUser:function(){return!!a.accessToken},getUserProfile:function(){return{userId:a.profile.userId,first_name:a.profile.firstName,last_name:a.profile.lastName,displayName:a.profile.displayName,email:a.profile.email}},signOut:function(){return N()}}))}),[a,N]);var nn=(0,l.useMemo)((function(){return{callback:function(n,e){var t=!!n.subType?"".concat(n.subType,":").concat(n.type):n.type;i({primaryEvent:{eventInfo:{eventName:"".concat(W.ps.PROFILE_MENU,":").concat(t),eventAction:W.ps.PROFILE_MENU}}}),e()}}}),[i]),on=M?J("div",{className:s.Z.trimmedProfile},J(A.AppErrorBoundary,{logMeta:{componentName:"Header",errorLoadingComponent:"Email"}},k?J(f.kC,{position:"relative",columnGap:"size-100",marginX:"size-100",wrap:"nowrap"},J("span",null,"|"),J("span",{"data-testid":"header-email"},a.profile.email)):J(l.Fragment,null,J(f.kC,{position:"relative",columnGap:"size-100",marginX:"size-100",wrap:"nowrap"},J("span",null,"|"),J("span",{"data-testid":"header-email"},a.profile.email),J("span",null,"|")),J(p.Kk,{isQuiet:!0,onPress:function(){return b(z.WorkflowStatus.ORDER_INCOMPLETE)},onKeyDown:function(n){return h(n,z.WorkflowStatus.ORDER_INCOMPLETE)},height:"auto",right:"size-0","data-testid":"header-close"},J(c.default,{size:"S"}))))):J("div",{className:s.Z.profile},J(A.AppErrorBoundary,{logMeta:{componentName:"Header",errorLoadingComponent:"ProfileMenu"}},J(tn,{locale:Y,analytics:nn}))),an=m?z.WorkflowStatus.DELEGATION_CANCELLED:z.WorkflowStatus.ORDER_COMPLETE;return J("div",{className:t,"data-testid":"headerContainer"},J(I,{variant:e}),Q,!r&&J(A.AppErrorBoundary,{logMeta:{componentName:"Header",errorLoadingComponent:"Help"}},J("div",{"data-testid":"header-help"},J(V,null))),!r&&(a.accessToken?on:J("div",{className:s.Z.signIn},J(A.AppErrorBoundary,{logMeta:{componentName:"Header",errorLoadingComponent:"Button - Sign In CTA"}},!M&&J(p.Kk,{isQuiet:!0,onPress:U,"data-testid":"header-sign-in"},Z.get(j.signIn))))),o&&!k&&M&&J(p.Kk,{staticColor:"white",isQuiet:!0,onPress:function(){return b(an)},onKeyDown:function(n){return h(n,an)},height:"auto",position:"absolute",top:21,right:38,"data-testid":"header-close"},J(c.default,{size:"M"})))})),an=(0,Q.r)("susiDynamicContextContent",O.tC)((function(){return null})).queryCollection;on.queryCollection.merge(an)},57876:function(n,e,t){"use strict";t.d(e,{Z:function(){return G},_:function(){return B}});var r=t(26265),o=t(67294),i=t(37244),a=t.n(i),u=t(46829),l=t(39948),c=t(87835),d=t(96137),s=t(61792),f=t(20544),p=t(36623),v=t(65455),E=t(41681),m=t(67348),T=t(96029),_=t(24817),I=t(27261);function A(){var n=(0,I.Z)(["\n  fragment JarvisOfferFragment on PersonalizedOffer {\n    offer {\n      analytics {\n        actionBlockId\n        campaignId\n        containerId\n        controlGroupId\n        treatmentId\n        variationId\n      }\n      commitment\n      customerSegment\n      id\n      currency {\n        code\n        delimiterValue\n        formatString\n        precision\n        symbol\n      }\n      offerContent {\n        productName\n        productIconUrls\n      }\n      offerType\n      productArrangement {\n        cloud\n        code\n        family\n      }\n      promotion {\n        promotionTerm\n        promotionTermValue\n      }\n      term\n    }\n  }\n"]);return A=function(){return n},n}var O,C,S,P=(0,t(71439).gql)(A()),R=t(59180),N=t(12510),y=t(11051),g=t(29550),D=t(14157),L=t(55988),U=t(276),h=t(8703),b=o.createElement;function M(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function F(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?M(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}!function(n){n.INAPP="inapp",n.WEB="web"}(C||(C={})),function(n){n.UPGRADE="UPGRADE",n.PURCHASE="PURCHASE"}(S||(S={}));var k,w="mcid";!function(n){n.SET_IS_JARVIS_CHAT_ENABLED="SET_IS_JARVIS_CHAT_ENABLED",n.SET_CHAT_MODE="SET_CHAT_MODE"}(k||(k={}));var Z="jarvis",x=(O={},(0,r.Z)(O,k.SET_IS_JARVIS_CHAT_ENABLED,(function(n,e,t){return F(F({},t),{},{isJarvisChatEnabled:e.payload})})),(0,r.Z)(O,k.SET_CHAT_MODE,(function(n,e,t){return F(F({},t),{},{chatMode:e.payload})})),O),Y=function(n){var e,t;return null!==(e=null===(t=n.jarvis)||void 0===t?void 0:t.isJarvisChatEnabled)&&void 0!==e&&e},V=function(n){var e;return null===(e=n.jarvis)||void 0===e?void 0:e.chatMode},B=function(){var n=(0,N.useStoreSlice)(Z,x,{isJarvisChatEnabled:!1,chatMode:l.jE.OPEN}).dispatch;return{setIsJarvisChatEnabled:(0,o.useCallback)((function(e){n({type:k.SET_IS_JARVIS_CHAT_ENABLED,payload:e})}),[n]),setChatMode:(0,o.useCallback)((function(e){n({type:k.SET_CHAT_MODE,payload:e})}),[n])}};var G=function(){var n=(0,U.useSelector)(T.vl),e=(0,U.useSelector)(v.mT),t=(0,U.useSelector)(v.n$),r=function(){var n,e,t,r,o,i,l,c,f,E,_,I=((0,U.useSelector)(s.et)||{}).userId,A=(0,U.useSelector)(p.NO),O=(0,U.useSelector)(p.FP),N=(0,U.useSelector)(p.fq),b=(0,U.useSelector)(v.mT),M=(0,U.useStore)(),k=(0,U.useSelector)(p.jd),w=(0,U.useSelector)(m.wr),Z=(0,U.useSelector)(T.vl)[a().app.CLIENT_ID.name],x=(0,u.useApolloClient)(),Y=(0,y.useCommerceAppContext)().isInApp,V=M.getState(),B=(0,s.PQ)(V),G=(0,L.t)().pathname,j=(0,U.useSelector)(s.OQ),W=(0,D.k)(),H=(0,g.x1)(),q=(0,u.useQuery)(d.h,{variables:{id:b},skip:!b}).data,K=((null===q||void 0===q||null===(n=q.country)||void 0===n||null===(e=n.marketSegmentDetails)||void 0===e?void 0:e[0])||{}).marketSegmentId,$=null!==N&&void 0!==N&&N.length?{products:N.map((function(n){var e,t,r,o,i,a=x.readFragment({id:"PersonalizedOffer:".concat(R.xb.COMMITMENT_VARIANTS,":").concat(n.offerId),fragment:P}).offer,u=null===n||void 0===n||null===(e=n.offerVariants)||void 0===e||null===(t=e.offers)||void 0===t?void 0:t.find((function(n){var e;return(null===(e=n.offer)||void 0===e?void 0:e.term)===a.term}));return{price:null===u||void 0===u||null===(r=u.offer)||void 0===r||null===(o=r.offerPriceDisplay)||void 0===o?void 0:o.displayUnitPrice,productName:null===a||void 0===a||null===(i=a.offerContent)||void 0===i?void 0:i.productName,quantity:n.quantity||1,sku:null===a||void 0===a?void 0:a.materialId}}))}:{},X=W?S.UPGRADE:S.PURCHASE,Q=W?h.v.TEAM:h.v.INDIVIDUAL,z=null!==(t=null===k||void 0===k?void 0:k.customerSegment)&&void 0!==t?t:Q,J="".concat(K,"-").concat(z,"-").concat(X).toUpperCase(),nn=O?{offerId:null===O||void 0===O||null===(r=O.cart)||void 0===r||null===(o=r.cartItems)||void 0===o?void 0:o.map((function(n){return null===n||void 0===n?void 0:n.offerId}))}:{},en=H?{error:{code:null===H||void 0===H?void 0:H.code,message:null===H||void 0===H?void 0:H.message}}:{},tn=O?{order:{id:A,orderNumber:O.orderNumber,currency:null===k||void 0===k||null===(i=k.currency)||void 0===i?void 0:i.code,marketSegment:K,customerSegment:null===k||void 0===k?void 0:k.customerSegment,paymentMethod:w}}:{},rn=null!==O&&void 0!==O&&O.cartPrice?{price:{base:null===O||void 0===O||null===(l=O.cartPrice)||void 0===l?void 0:l.subtotalWithoutTax,savings:null===O||void 0===O||null===(c=O.cartPrice)||void 0===c?void 0:c.discountsTotalWithoutTax,subtotal:null===O||void 0===O||null===(f=O.cartPrice)||void 0===f?void 0:f.subtotalWithTax,tax:null===O||void 0===O||null===(E=O.cartPrice)||void 0===E?void 0:E.totalTax,total:null===O||void 0===O||null===(_=O.cartPrice)||void 0===_?void 0:_.totalWithTax}}:{};return{subtype:"Checkout",type:"InfoForAgents",data:F(F(F(F(F({workflow:J,hostId:Z,hostContext:Y?C.INAPP:C.WEB,step:G,user:{id:I,signedIn:B,newBuyer:j}},nn),tn),$),rn),en)}}(),i=n[a().app.CTX.name],I=(0,_.Z0)(i)?C.INAPP:C.WEB,A=(0,f.D)()===c.T.PRODUCTION?l.CQ.PROD:l.CQ.STAGE,O=(0,U.useSelector)(s.hP),M=(0,E.$M)(i);(0,N.useStoreSlice)(Z,x,{isJarvisChatEnabled:!1,chatMode:l.jE.OPEN});var k=(0,U.useSelector)(Y),B={accessToken:O,appType:I,countryCode:e,env:A,language:t,chatMode:(0,U.useSelector)(V),imsClientId:M,siteCatalystMcid:w,surfaceContext:r};return k?b(l.Z$,B):b(o.Fragment,null)}},60718:function(n,e,t){"use strict";t.d(e,{HQ:function(){return Z},Ar:function(){return a},Ru:function(){return Q},Wh:function(){return ln},uN:function(){return rn},hg:function(){return on}});var r=t(67294),o=t(43928),i=r.createElement,a=function(n){var e=n.children,t=e.find((function(n){return"header"===n.props.id})),r=e.find((function(n){return"main"===n.props.id})),a=e.find((function(n){return"footer"===n.props.id}));return i("div",{className:o.Z.app},i("header",{className:o.Z.upperSection},t),i("main",{className:o.Z.middleSection},r),i("footer",{className:o.Z.lowerSection},a))},u=t(91229),l=t(56746),c=t(87246),d=t(10432),s=t(34937),f=t(5435),p=t(99246),v=t(27261);function E(){var n=(0,v.Z)(["\n  fragment OfferSegmentsAndCloud on PersonalizedOffer {\n    offer {\n      id\n      customerSegment\n      marketSegments\n      productArrangement {\n        cloud\n      }\n    }\n  }\n"]);return E=function(){return n},n}var m=(0,t(71439).gql)(E()),T=t(94797),_=t(65455),I=t(23239),A=t(11051),O=t(62482),C=t(96029),S=t(80827),P=t(77974),R=t(62452),N=t(55988),y=t(12510),g=t(2037),D=r.createElement,L=function(n){var e=(0,P.p)(),t=e.handleInAppRestartWorkflow,r=e.isInAppSessionTimeout,o=(0,A.useCommerceAppContext)(),i=o.emitMessage,a=o.isInIframe,c=(0,R.eR)(S.NavigationType.EXTERNAL),d=(0,y.useSelector)(C.vl),s=(0,N.t)().currentRoute;return D(l.ErrorDisplays.FatalError,(0,u.Z)({},n,{onPrimaryCtaClicked:function(n){if(null===n||void 0===n||n.preventDefault(),r())t();else if(i(A.SystemMessage.ERROR,{code:A.ErrorCode.SESSION_TIMEOUT}),a()){var e=(0,O.tl)(d,s);c(e,{navigationType:S.NavigationType.EXTERNAL}),i(A.SystemMessage.CLOSE,{status:g.WorkflowStatus.ORDER_INCOMPLETE})}}}))},U=t(4190),h=t(49786),b=t(41196),M=t(276),F=function(){var n=(0,h.h)(m).offer,e=(0,b.$U)(n),t=(0,M.useSelector)(_.dm),o=t.resellersUrl,i=t.faqUrl,a=t.otherProductsUrl,u=(0,M.useSelector)(_.n$);o=o.replace(/{{languageCode}}/,u);var c=!e,d=(0,r.useCallback)((function(n){var e=function(n){return n.code===l.RUNTIME_ERROR_CODE?(0,T.cs)():n}(n);return e.code===f.AW&&c?(0,T.cs)(f.Es):e}),[c]),s=(0,r.useMemo)((function(){return{salesPhoneNumber:e,resellersUrl:o,faqUrl:i,otherProductsUrl:a}}),[e,o,i,a]);return(0,r.useMemo)((function(){return{aemResourceName:"checkout/app-error-message",variables:s,displayErrorTransformer:d}}),[s,d])},k=function(){var n=(0,U.useFeatureFlags)(p.R.UC_COMMERCE_CORE_APP_SHELL)[p.R.UC_COMMERCE_CORE_APP_SHELL],e=(0,l.useOnAppError)((function(n){return n.code===I.ir.SESSION_TIMEOUT_FATAL_ERROR})),t=(0,A.useCommerceAppContext)().isInWeb;return(0,r.useMemo)((function(){if(n&&e&&!t())return L}),[n,t,e])},w=r.createElement,Z=function(n){var e=n.children,t=F(),r=k();return w(a,null,w(d.h,{id:"header"}),w("div",{id:"main"},w("div",{id:"appErrorLayout"},w(l.AppErrorLayout,(0,u.Z)({},t,{ErrorDisplay:r}),e))),w(c.$,{id:"footer"}))},x=new s.QueryableContentModelCollection;x.merge(d.h.queryCollection),x.merge(c.$.queryCollection),Z.queryCollection=x;var Y=(0,s.defineContents)("WizardLayoutContent",{loadingText:{id:"loadingText",type:"string",placeholderContent:"Loading..."},loadingPlaceOrderText:{id:"loadingPlaceOrderText",type:"string",placeholderContent:"Placing your order..."}}),V=t(19726),B=t(67348),G=t(57663),j=t(36623),W=t(70721),H=t(57332),q=t(5764),K=t(49865),$=t(74007),X=r.createElement,Q=(0,K.r)("wizardLayout",Y)((function(n){var e,t=n.header,r=n.children,o=(0,q.R_)(),i=o.loading,a=o.direction,u=(0,s.useContentEntry)(Y),l=(0,N.t)().currentRoute,c=(0,M.useSelector)(j.OS),d=(0,M.useSelector)(B.ai),f=(0,M.useSelector)(G.l6),p=(0,M.useSelector)(G.V4);return e=c?l===H.Z.ACADEMIC&&a===$.qR.FORWARD?u.get(Y.loadingPlaceOrderText):u.get(Y.loadingText):l!==H.Z.PAYMENT||a!==$.qR.FORWARD||d&&(!f||p)?u.get(Y.loadingText):u.get(Y.loadingPlaceOrderText),X(Z,null,(i||p)&&X(W.a,{delay:600,message:e}),X("div",{className:V.Z.rootContainer},t,X("div",{className:V.Z.childrenContainer},r)))}));Q.queryCollection.merge(Z.queryCollection);var z=t(26265),J=t(94184),nn=t.n(J),en=t(22861),tn=r.createElement,rn=function(n){var e=n.children,t=(0,U.useFeatureFlags)([p.R.UC_I2T_FAST_FOLLOW_FEB]);return tn("div",{className:nn()(en.Z.stepPanelContainer,(0,z.Z)({},en.Z.symmetricPadding,t[p.R.UC_I2T_FAST_FOLLOW_FEB]))},e)},on=function(n){var e=n.children,t=(0,y.useSelector)(C.El)?"".concat(en.Z.stepPanelBodyContainer," ").concat(en.Z.stepPanelBodyContainerReader):en.Z.stepPanelBodyContainer;return tn("div",{className:t},e)},an=t(28377),un=r.createElement,ln=function(n){var e=n.className,t=void 0===e?"":e,r=n.children,o=n.style,i=n.sticky,a=void 0!==i&&i,u=t?"".concat(an.Z.detailsPanelContainer," ").concat(t):"".concat(an.Z.detailsPanelContainer),l=a?"".concat(an.Z.innerDetailsPanelContainer," ").concat(an.Z.stickyInnerDetailsPanelContainer):"".concat(an.Z.innerDetailsPanelContainer);return un("div",{className:u,style:o},un("div",{className:l},r))}},70721:function(n,e,t){"use strict";t.d(e,{a:function(){return u}});var r=t(67294),o=t(43072),i=t(13187),a=r.createElement,u=function(n){var e=n.delay,t=void 0===e?0:e,u=n.message,l=void 0===u?"":u,c=n.showRedirect,d=void 0!==c&&c,s=(0,r.useState)(!t),f=s[0],p=s[1],v=(0,r.useRef)();return(0,r.useEffect)((function(){return t&&(v.current=setTimeout((function(){p(!0)}),t)),function(){clearTimeout(v.current)}}),[t]),d?f&&a("div",{className:o.Z.redirect},a(i.ProgressCircle,{"data-testid":"redirecting-indicator",size:"L",isIndeterminate:!0}),l&&a("div",{className:o.Z.redirectingText},l)):f&&a("div",{className:o.Z.loader},a("div",{className:o.Z.center},a(i.ProgressCircle,{"data-testid":"loading-indicator",size:"L",isIndeterminate:!0}),l&&a("div",{className:o.Z.loadingText},l)))}},54214:function(n,e,t){"use strict";t.d(e,{O:function(){return _},k:function(){return T}});var r,o=t(26265),i=t(67294),a=t(20544),u=t(77081),l=t(82e3),c=t(12510),d=t(85686),s=t(276),f=i.createElement;function p(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function v(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?p(Object(t),!0).forEach((function(e){(0,o.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}!function(n){n.SET_SHERLOCK_TOKEN="SET_SHERLOCK_TOKEN"}(r||(r={}));var E="sherlock",m=(0,o.Z)({},r.SET_SHERLOCK_TOKEN,(function(n,e,t){return v(v({},t),{},{sherlockToken:e.payload})})),T=function(n){var e,t;return null!==(e=null===(t=n.sherlock)||void 0===t?void 0:t.sherlockToken)&&void 0!==e?e:""},_=function(){var n=(0,s.useSelector)(u.Gg).clientSessionId,e=(0,d.useLogger)(),t=(0,c.useStoreSlice)(E,m,{sherlockToken:void 0}).dispatch;var o={env:(0,a.D)(),loadAsync:!0,clientSessionId:n,successCallback:function(n){e.info({label:E,message:n.message,status:n.status},"Sherlock Load Success")},errorCallback:function(n){e.error({label:E,error:n},"Sherlock Error")},tokenCallback:function(n){var o;t({type:r.SET_SHERLOCK_TOKEN,payload:n}),o=n?"Sherlock Token received":"Sherlock Token not received",e.info({label:E},o)}};return(0,i.useEffect)((function(){var n;null===(n=(0,l.P_)())||void 0===n||n.reportPageChange()})),f(l.Mx,o)}},6056:function(n,e,t){"use strict";t.d(e,{Tm:function(){return E},ZR:function(){return m},Ct:function(){return T},zk:function(){return _},Q5:function(){return I}});var r,o=t(26265),i=t(22222),a=t(36623),u=t(12510),l=t(67294);function c(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function d(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?c(Object(t),!0).forEach((function(e){(0,o.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var s,f={blockAutoRenewal:!1,billingStateCode:""};!function(n){n.SET_BLOCK_AUTO_RENEWAL="SET_BLOCK_AUTO_RENEWAL",n.SET_BILLING_STATE_CODE="SET_BILLING_STATE_CODE"}(s||(s={}));var p="termsOfUse",v=(r={},(0,o.Z)(r,s.SET_BLOCK_AUTO_RENEWAL,(function(n,e,t){return d(d({},t),{},{blockAutoRenewal:e.payload})})),(0,o.Z)(r,s.SET_BILLING_STATE_CODE,(function(n,e,t){return d(d({},t),{},{billingStateCode:e.payload})})),r),E=function(n){var e;return null===(e=n.termsOfUse)||void 0===e?void 0:e.blockAutoRenewal},m=function(n){var e;return null===(e=n.termsOfUse)||void 0===e?void 0:e.billingStateCode},T=(0,i.createSelector)(a.fq,(function(n){return n.map((function(n){var e=n.offerId,t=(0,a.rL)(n),r=t.offerContent,o=t.offerPrice,i=t.offerType;return{offerId:e,offerType:i,productName:r.productName,displayUnitPriceWithoutTax:(0,a.rp)(o,i),displayUnitPriceWithTax:(0,a.SQ)(o,i)}}))})),_=function(n,e){var t=Array.isArray(null===n||void 0===n?void 0:n.cartItems)?null===n||void 0===n?void 0:n.cartItems:[];return e.map((function(n){var e,r,o,i=t.filter((function(e){return n.offerId===e.offerId}));return{offerId:n.offerId,offerType:n.offerType,promotion:null===i||void 0===i||null===(e=i[0])||void 0===e?void 0:e.promotion,displayUnitPriceWithoutTax:n.displayUnitPriceWithoutTax,displayUnitPriceWithTax:n.displayUnitPriceWithTax,offerOrderPrices:null===i||void 0===i||null===(r=i[0])||void 0===r?void 0:r.price,appliedPromotionInfo:null===i||void 0===i||null===(o=i[0])||void 0===o?void 0:o.appliedPromotions,productName:n.productName}}))},I=function(){var n=(0,u.useStoreSlice)(p,v,f).dispatch;return{setBlockAutoRenewal:(0,l.useCallback)((function(e){n({type:s.SET_BLOCK_AUTO_RENEWAL,payload:e})}),[n]),setBillingStateCode:(0,l.useCallback)((function(e){n({type:s.SET_BILLING_STATE_CODE,payload:e})}),[n])}}},83005:function(n,e,t){"use strict";t.d(e,{n:function(){return N},a:function(){return O}});var r=t(67294),o=t(76202),i=t(10760),a=t(96029),u=t(61792),l=t(49338),c=t(32292),d=t(37244),s=t.n(d),f=t(62482),p=t(41681);var v=t(80827),E=t(98192),m=t(57332),T=t(62452),_=t(55988),I=t(12510),A=t(89106);var O=function(){var n=(0,_.t)().currentRoute,e=(0,T.eR)(v.NavigationType.SWITCH),t=(0,I.useSelector)(a.vl),o=(0,I.useSelector)(u.hP),i=(0,A.G)(),l=(0,c.Z)(i,1)[0],d=t[s().app.CTX.name];return(0,r.useCallback)((function(){t[s().app.STARTING_STEP.name]===m.Z.PAYMENT&&(t[s().app.STARTING_STEP.name]=m.Z.EMAIL),l(void 0,E.L);var r,i=(0,f.mr)((0,f.Yj)((r=n)===m.Z.ACADEMIC||r===m.Z.PAYMENT?m.Z.EMAIL:r===m.Z.TEAMS_PLAN_PAYMENT?m.Z.TEAMS_PLAN_PLANS:r),t),a=function(n,e,t){var r=(0,p.ft)(n),o={access_token:e,client_id:r.clientId,redirect_uri:t},i=(0,f.tW)(o);return"".concat(r.domain,"/ims/logout/v1?").concat(i)}(d,o,i);e(a)}),[o,d,n,t,l,e])},C=t(83237),S=t(276),P=t(5764),R=r.createElement,N=function(n){var e=n.title,t=n.change,r=(0,P.R_)().goToPreviousStepWithUpdatedItems,c=(0,C.a)().invalidatePaypal,d=(0,S.useSelector)(u.et).email,s=(0,S.useSelector)(u.PQ),f=O();function p(){c(),s?f():r()}var v,E=(0,S.useSelector)(a.El),m=i.Z.heading;return E&&(m="".concat(i.Z.heading," ").concat(i.Z.headingReader),v=i.Z.userEmail),R("div",{"data-testid":"user"},R("h3",{"data-testid":"user-title",className:m},e),R("div",{"data-testid":"user-email",className:v},R("span",{"data-cs-mask":!0},d," "),R(o.default,{role:"button",className:i.Z.changeLink,"data-testid":"user-link",onClick:p,tabIndex:0,onKeyDown:function(n){n.keyCode!==l.L.ENTER&&n.keyCode!==l.L.SPACEBAR||p()}},t)))}},74007:function(n,e,t){"use strict";t.d(e,{FC:function(){return Z},en:function(){return B},qR:function(){return O},R_:function(){return G},OK:function(){return j}});var r=t(809),o=t.n(r),i=t(92447),a=t(28140),u=t(26265),l=t(57557),c=t.n(l),d=t(37244),s=t.n(d),f=t(67294),p=t(55988),v=t(46829),E=t(73864),m=t(69355),T=t(19014);var _,I,A,O,C=t(97127),S=t(4190),P=t(99246),R=t(29550),N=t(36623),y=t(96029),g=t(24166),D=t(57332),L=t(62482),U=t(12510),h=t(56746),b=f.createElement;function M(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function F(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?M(Object(t),!0).forEach((function(e){(0,u.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}!function(n){n.SET_STEP_ACTIVE_STATE="SET_STEP_ACTIVE_STATE",n.MERGE_STEP_STATE="MERGE_STEP_STATE",n.SET_LOADING="SET_LOADING",n.SET_PAGE_NAVIGATION="SET_PAGE_NAVIGATION"}(A||(A={})),function(n){n.FORWARD="FORWARD",n.BACKWARD="BACKWARD"}(O||(O={}));var k=function(n){return(0,N.fq)(n).map((function(n){return{id:null===n||void 0===n?void 0:n.offerId,q:null===n||void 0===n?void 0:n.quantity}}))},w=(_={},(0,u.Z)(_,A.SET_STEP_ACTIVE_STATE,(function(n,e,t){var r=(0,a.Z)(t.steps),o=r.findIndex((function(n){return n.name===e.payload.name}));return o<0?t:(r[o]={name:e.payload.name,isActive:e.payload.isActive},F(F({},t),{},{steps:r}))})),(0,u.Z)(_,A.MERGE_STEP_STATE,(function(n,e,t){var r=e.payload,o=r.newStepsState,i=r.currentRoute,u=t.steps.findIndex((function(n){return n.name===i}));if(u>=0){var l=[].concat((0,a.Z)(t.steps.slice(0,u)),(0,a.Z)(o.slice(u)));return F(F({},t),{},{steps:l})}return t})),(0,u.Z)(_,A.SET_LOADING,(function(n,e,t){return t.loading===e.payload?t:F(F({},t),{},{loading:e.payload})})),(0,u.Z)(_,A.SET_PAGE_NAVIGATION,(function(n,e,t){return t.direction===e.payload&&t.loading?t:F(F({},t),{},{direction:e.payload,loading:!0})})),_),Z="stepWizard",x=function(n,e,t,r,o,i){var a=i&&0!==i.length?i:V(n.getState(),e);return(0,f.useMemo)((function(){return(0,g.xW)(r,n.getState(),a)||(0,T.EL)(a,e,n.getState(),t,r,o)}),[t,e,n,r])},Y=(I={},(0,u.Z)(I,C.CF.I2T,C.Z4),(0,u.Z)(I,C.CF.DEFAULT,C.fT),I);function V(n,e){var t;if((null===n||void 0===n||null===(t=n[Z])||void 0===t?void 0:t.length)>0)return n[Z].steps.map((function(n){return n.name}));var r=(0,g.sr)(e);return Y[r]}var B=function(n){var e=n.children,t=n.initWizardStepNames,r=void 0===t?C.fT:t,o=(0,U.useStore)(),i=(0,p.t)(),a=i.currentRoute,u=i.replaceRoute,l=i.updateQueryParams,c=(0,v.useApolloClient)(),d=(0,m.useCookies)(),s=(0,h.useAppError)().dismissError,E=(0,h.useAppError)(R.dn).dismissError,_=(0,f.useState)(!1),I=_[0],O=_[1],N=(0,S.useFeatureFlags)([P.R.P_UC_USE_TEST_CAMPAIGNS,P.R.UC_FORCE_SEGMENTATION_CHALLENGER,P.R.UC_FLEXIBLE_PROMOTIONS]);(0,f.useEffect)((function(){I&&(s(),E(),O(!1))}),[I]),(0,f.useEffect)((function(){var n,e=function(){O(!0)};return null===(n=window)||void 0===n||n.addEventListener("popstate",e),function(){var n;null===(n=window)||void 0===n||n.removeEventListener("popstate",e)}}),[]);var D=x(o,a,c,d,N,r),L=(0,U.useStoreSlice)(Z,w,D).dispatch,M=(0,U.useSelector)((function(n){return n[Z]}))||D;(0,f.useEffect)((function(){L({type:A.SET_LOADING,payload:!1})}),[a,L]),(0,f.useEffect)((function(){L({type:A.MERGE_STEP_STATE,payload:{newStepsState:D.steps,currentRoute:a}})}),[D,a,L]),(0,f.useEffect)((function(){var n,e=M.steps.find((function(n){return n.name===a}));if(!(null===(n=null===e||void 0===e?void 0:e.isActive)||void 0===n||n)){var t=(0,T.X$)(M,a).name,r=(0,y.vl)(o.getState());t&&u(t,r)}}),[a,u,M,o]),(0,f.useEffect)((function(){l((0,y.vl)(o.getState()))}),[o,l]);var F=(0,f.useCallback)((function(){var n=o.getState();(0,g.OI)(d,n,a)}),[a,d,o]);return(0,f.useEffect)((function(){var n;return null===(n=window)||void 0===n||n.addEventListener("beforeunload",F),function(){var n;null===(n=window)||void 0===n||n.removeEventListener("beforeunload",F)}}),[F]),b(f.Fragment,null,e)},G=function(){var n=(0,U.useStoreSlice)(Z,w,void 0).dispatch,e=(0,U.useStore)(),t=(0,p.t)(),r=t.transitionToRoute,a=t.currentRoute,l=t.replaceRoute,c=(0,v.useApolloClient)(),d=(0,m.useCookies)(),E=(0,S.useFeatureFlags)([P.R.P_UC_USE_TEST_CAMPAIGNS,P.R.UC_FORCE_SEGMENTATION_CHALLENGER,P.R.UC_FLEXIBLE_PROMOTIONS]),_=x(e,a,c,d,E),I=(0,h.useAppError)().dismissError,R=(0,U.useSelector)((function(n){return n[Z]}))||_,N=(0,T.X$)(R,a).name,g=(0,T.k1)(R,a).name;(0,f.useEffect)((function(){N&&t.prefetch(N),g&&t.prefetch(g)}),[N,g]);var L=(0,f.useCallback)((function(e){N&&(n({type:A.SET_PAGE_NAVIGATION,payload:O.FORWARD}),r(N,e))}),[N,r,n]),b=(0,f.useCallback)((function(){var n=e.getState(),t=(0,y.vl)(n),r=k(n),o=F(F({},t),{},(0,u.Z)({},s().app.ITEMS.name,r));L(o)}),[L,e]),M=(0,f.useCallback)((function(e,t){g&&(t||I(),n({type:A.SET_PAGE_NAVIGATION,payload:O.BACKWARD}),l(g,e))}),[g,l,I,n]),Y=(0,f.useCallback)((function(n){var t=e.getState(),r=(0,y.vl)(t),o=k(t),i=F(F({},r),{},(0,u.Z)({},s().app.ITEMS.name,o));M(i,n)}),[M,e]),V=(0,f.useCallback)((function(e){n({type:A.SET_STEP_ACTIVE_STATE,payload:{name:e,isActive:!0}})}),[n]),B=(0,f.useCallback)((function(e,t){n({type:A.SET_STEP_ACTIVE_STATE,payload:{name:e,isActive:!0}}),r(e,t)}),[n,r]),G=(0,f.useCallback)((function(e){n({type:A.SET_STEP_ACTIVE_STATE,payload:{name:e,isActive:!1}})}),[n]),j=(0,f.useCallback)(function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N&&(n({type:A.SET_STEP_ACTIVE_STATE,payload:{name:a,isActive:!1}}),l(N,t));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[a,n,N,l]),W=(0,f.useCallback)((function(){return(0,T.LG)(R)}),[R]),H=(0,f.useCallback)((function(){return(0,T.y6)(R,a)}),[a,R]),q=(0,f.useCallback)((function(){return!(0,T.$x)(R,a)}),[a,R]),K=(0,f.useCallback)((function(){var n;return null===(n=(0,T.LG)(R))||void 0===n?void 0:n.includes(D.Z.ACADEMIC)}),[R]),$=(0,f.useCallback)((function(){var n,e;return null!==(n=null===(e=(0,T.LG)(R))||void 0===e?void 0:e.some((function(n){return C.Z4.includes(n)})))&&void 0!==n&&n}),[R]),X=(0,f.useCallback)((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n({type:A.SET_LOADING,payload:e})}),[n]);return{loading:R.loading,direction:R.direction,setLoading:X,goToNextStep:L,goToNextStepWithUpdatedItems:b,goToPreviousStep:M,goToPreviousStepWithUpdatedItems:Y,setStepActive:V,setStepActiveAndGo:B,setStepInactive:G,skipCurrentStep:j,getActiveStepNames:W,getStepIndicatorRange:H,hasPreviousStep:q,getIsAcademicWorkflow:K,getIsI2tWorkflow:$}},j=function(n,e,t){var r=n.apolloClient,o=n.store.getState(),i=(0,m.buildCookies)(n.req,n.res),a=V(o,e),u=function(){var n={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(e){n[e]=!0})),n}(null===t||void 0===t?void 0:t.features),l=(0,T.EL)(a,e,o,r,i,u);if(!(0,T.LG)(l).includes(e)){var d=o[Z],f=d?null===d||void 0===d?void 0:d.steps.map((function(n){return n.name===e?{name:n.name,isActive:!1}:n})):l.steps;o[Z]=F(F({},o[Z]),{steps:f});var v,_,I=null===d||void 0===d?void 0:d.direction,A=null!==t&&void 0!==t&&t.stepBackward||I===O.BACKWARD?(0,T.k1)(l,e):(0,T.X$)(l,e),C=(null===t||void 0===t?void 0:t.newQueryParams)||(0,y.vl)(o),S=(0,L.tW)(C[s().app.STARTING_STEP.name]===e?c()(C,[s().app.STARTING_STEP.name,s().app.STEP_WIZARD_COOKIE.name]):C);if(e!==D.Z.PAYMENT&&(0,g.OI)(i,o,A.name),n.res)null===n||void 0===n||null===(v=n.res)||void 0===v||v.writeHead(302,{Location:"".concat(E.APP_FULL_PATH,"/").concat(A.name,"?").concat(S)}),null===n||void 0===n||null===(_=n.res)||void 0===_||_.end();else p.Z.replace({pathname:"/".concat(A.name),query:S})}}},97127:function(n,e,t){"use strict";t.d(e,{fT:function(){return i},Z3:function(){return a},Z4:function(){return u},CF:function(){return r}});var r,o=t(57332),i=[o.Z.SEGMENTATION,o.Z.BUNDLE,o.Z.COMMITMENT,o.Z.RECOMMENDATION,o.Z.EMAIL,o.Z.PAYMENT,o.Z.ACADEMIC,o.Z.CONFIRMATION],a=[o.Z.SEGMENTATION,o.Z.CONFIRMATION,o.Z.TEAMS_PLAN_CONFIRMATION],u=[o.Z.TEAMS_PLAN_PLANS,o.Z.TEAMS_PLAN_ADDON,o.Z.TEAMS_PLAN_PAYMENT,o.Z.TEAMS_PLAN_CONFIRMATION];!function(n){n.DEFAULT="default",n.I2T="i2t"}(r||(r={}))},5764:function(n,e,t){"use strict";t.d(e,{en:function(){return r.en},R_:function(){return r.R_},OK:function(){return r.OK}});var r=t(74007)},19014:function(n,e,t){"use strict";t.d(e,{y6:function(){return U},$x:function(){return h},LG:function(){return b},Xx:function(){return M},X$:function(){return F},k1:function(){return k},EL:function(){return w}});var r,o=t(26265),i=t(27261),a=t(37244),u=t.n(a),l=t(71439),c=t(99246),d=t(9556),s=t(44890),f=t(22965),p=t(33482),v=t(11426),E=t(65455),m=t(47565),T=t(96029),_=t(36623),I=t(93719),A=t(40705),O=t(61792),C=t(97127),S=t(47095),P=t(2385),R=t(59180),N=t(57332),y=t(74007);function g(){var n=(0,i.Z)(["\n      fragment StepRepresentativeOffer on PersonalizedOffer {\n        offer {\n          marketSegments\n        }\n      }\n    "]);return g=function(){return n},n}var D=function(n,e,t){var r,o,i=(0,_.Jm)(n),a=t===N.Z.BUNDLE?R.xb.BUNDLES:R.xb.COMMITMENT_VARIANTS,u=e.readFragment({id:"PersonalizedOffer:".concat(a,":").concat(i),fragment:(0,l.gql)(g())});return(null===u||void 0===u||null===(r=u.offer)||void 0===r||null===(o=r.marketSegments)||void 0===o?void 0:o[0])===P.ii.Edu},L=(r={},(0,o.Z)(r,N.Z.SEGMENTATION,(function(n){var e=n.storeState,t=n.isInActiveWorkflow,r=n.apolloClient,o=n.currentRoute,i=n.features;if(o===N.Z.SEGMENTATION){var a,l,d,s=(0,E.mT)(e),p=(0,E.n$)(e),v=(0,T.vl)(e)[u().app.PA_CODE.name],_=(0,T.vl)(e)[u().app.OFFER_TYPE.name],I=(0,T.vl)(e)[u().app.CLIENT_ID.name],A=(0,T.vl)(e)[u().app.SVAR.name],C=null===i||void 0===i?void 0:i[c.R.P_UC_USE_TEST_CAMPAIGNS],S=null===(a=(0,O.et)(e))||void 0===a?void 0:a.userId,P=(0,m.j)(e,null===i||void 0===i?void 0:i[c.R.UC_FLEXIBLE_PROMOTIONS]),R=r.readQuery({query:f.j_,variables:(0,f.WC)(s,v,p,_,S,I,A,P,C)});if(R){var y,g;d=null===R||void 0===R||null===(y=R.segmentationOffers)||void 0===y||null===(g=y.result[0])||void 0===g?void 0:g.offers}else{var D=r.readQuery({query:f.VQ,variables:(0,f.tH)(s,v,p,_,S,I,A,P,C)});d=null===D||void 0===D?void 0:D.segmentationBundleOffers}return t&&(null===(l=d)||void 0===l?void 0:l.length)>1}return t})),(0,o.Z)(r,N.Z.BUNDLE,(function(n){var e=n.storeState,t=n.isInActiveWorkflow,r=n.apolloClient,o=n.currentRoute,i=n.features;if((0,A.WM)(e,i))return!1;if(o===N.Z.BUNDLE){var a,l=(0,E.mT)(e),s=(0,E.n$)(e),f=null===(a=(0,O.et)(e))||void 0===a?void 0:a.userId,_=(0,v.tT)(e),I=(0,T.yq)(e),C=(0,T.vl)(e)[u().app.CLIENT_ID.name],S=(0,T.vl)(e)[u().app.SVAR.name],P=null===i||void 0===i?void 0:i[c.R.P_UC_USE_TEST_CAMPAIGNS],R=(0,m.j)(e,null===i||void 0===i?void 0:i[c.R.UC_FLEXIBLE_PROMOTIONS]),y=r.readQuery({query:d.d7,variables:(0,d.DA)({country:l,locale:s,offerIds:_?[_]:I,userId:f,clientId:C,svar:S,promotionCodes:R,useTestCampaign:P})}),g=(0,p.R)(null===y||void 0===y?void 0:y.bundleOffers);return t&&g.length>1}var L=D(e,r,o);return t&&!L})),(0,o.Z)(r,N.Z.ACADEMIC,(function(n){var e=n.apolloClient,t=n.storeState,r=n.currentRoute,o=n.isInActiveWorkflow,i=D(t,e,r);return o&&i})),(0,o.Z)(r,N.Z.EMAIL,(function(n){var e=n.storeState;return!(0,O.PQ)(e)})),(0,o.Z)(r,N.Z.PAYMENT,(function(n){var e=n.isInActiveWorkflow,t=n.storeState,r=n.currentRoute,o=n.cookies;if(r===N.Z.PAYMENT){var i=(0,O.PQ)(t),a=(0,O.et)(t),u=a.email,l=a.emailStatus,c=(0,I.zl)(o).orderNonce;if(!(i||u&&(0,S.Tc)(l)||c))return!1}return e})),(0,o.Z)(r,N.Z.RECOMMENDATION,(function(n){var e=n.isInActiveWorkflow,t=n.storeState,r=n.apolloClient,o=n.currentRoute,i=n.features;if(o===N.Z.RECOMMENDATION){var a,l,d,f,p=(0,E.mT)(t),v=(0,O.et)(t),_=(0,E.n$)(t),I=(0,T.VS)(t),A=(0,T.vl)(t)[u().app.CLIENT_ID.name],C=(0,T.vl)(t)[u().app.SVAR.name],S=null===i||void 0===i?void 0:i[c.R.P_UC_USE_TEST_CAMPAIGNS],P=(0,m.j)(t,null===i||void 0===i?void 0:i[c.R.UC_FLEXIBLE_PROMOTIONS]),R=(null===I||void 0===I?void 0:I.length)>0?r.readQuery({query:s.y3,variables:(0,s.Mw)({country:p,locale:_,offerIds:I,userId:v.userId,clientId:A,svar:C,promotionCodes:P,useTestCampaign:S})}):{},y=!!R&&(!(null===R||void 0===R||null===(a=R.addonOffers)||void 0===a||null===(l=a.result)||void 0===l||!l.length)||!(null===R||void 0===R||null===(d=R.upsellOffers)||void 0===d||null===(f=d.result)||void 0===f||!f.length));return e&&y}return e})),(0,o.Z)(r,N.Z.TEAMS_PLAN_ADDON,(function(n){return n.currentRoute===N.Z.TEAMS_PLAN_ADDON})),(0,o.Z)(r,N.Z.TEAMS_PLAN_PLANS,(function(n){var e,t,r,o=n.storeState;return((null===o||void 0===o||null===(e=o.queryParams)||void 0===e||null===(t=e.params)||void 0===t||null===(r=t[u().app.CURRENT_SUBSCRIPTION_IDS.name])||void 0===r?void 0:r.length)||0)<2})),r),U=function(n,e){var t=b(n).filter((function(n){return!C.Z3.includes(n)}));return[t.findIndex((function(n){return n===e}))+1,t.length]},h=function(n,e){if(C.Z3.includes(e))return!0;var t=b(n);return!t.length||e===t[0]},b=function(n){return n.steps.reduce((function(n,e){var t=e.isActive,r=e.name;return t&&n.push(r),n}),[])},M=function(n){return C.Z4.includes(n)},F=function(n,e){for(var t=n.steps,r=t.findIndex((function(n){return n.name===e}))+1;r<t.length;){if(t[r].isActive)return t[r];r++}return{name:null}},k=function(n,e){for(var t=n.steps,r=t.findIndex((function(n){return n.name===e}))-1;r>=0;){if(t[r].isActive)return t[r];r--}return{name:null}};var w=function(n,e,t,r,o,i){var a,l,c=function(n,e,t){if(n===e)return n;var r=t.indexOf(n)+1,o=t.indexOf(e)+1;return r&&o?r<o?n:e:t[(r||o||1)-1]}(e,null===t||void 0===t||null===(a=t.queryParams)||void 0===a||null===(l=a.params)||void 0===l?void 0:l[u().app.STARTING_STEP.name],n);return{steps:function(n,e,t,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},u=n.indexOf(e);return n.map((function(n,e){var l,c,d=e>=u;return{name:n,isActive:null!==(l=null===L||void 0===L||null===(c=L[n])||void 0===c?void 0:c.call(L,{storeState:t,apolloClient:r,currentRoute:o,isInActiveWorkflow:d,cookies:i,features:a}))&&void 0!==l?l:d}}))}(n,c,t,r,e,o,i),loading:!1,direction:y.qR.FORWARD}}},24166:function(n,e,t){"use strict";t.d(e,{xW:function(){return m},OI:function(){return _},sr:function(){return I}});var r=t(26265),o=t(73864),i=t(20236),a=t(69355),u=t(36623),l=t(96029),c=t(97127),d=t(61792),s=t(57332),f=t(74007),p=t(8703);function v(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function E(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?v(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var m=function(n,e,t){var r,o=n.get(i.e.STEP_WIZARD_COOKIE),a=(0,l.v0)(e);if(null!==o&&void 0!==o&&o[a]&&(0,u.lr)(e)===p.v.INDIVIDUAL){var c=o[a];c&&(r=T(c,t))}return r},T=function(n,e){var t=n.split("").reduce((function(n,e){return n[e]=!0,n}),{});return{steps:e.map((function(n,e){return{name:n,isActive:!t[String(e)]}})),loading:!1,direction:null}},_=function(n,e,t){if(!c.Z3.includes(t)&&(0,u.lr)(e)===p.v.INDIVIDUAL){var v,m,T=n.get(i.e.STEP_WIZARD_COOKIE)||{},_=(0,d.PQ)(e),I=(0,l.v0)(e),A=null===(v=e[f.FC])||void 0===v||null===(m=v.steps)||void 0===m?void 0:m.reduce((function(n,e,t){return e.isActive||n.push(t),n}),[]).join(""),O=E(E({},T),(0,r.Z)({},I,A)),C=t;_||t!==s.Z.PAYMENT&&t!==s.Z.ACADEMIC?_&&t===s.Z.ACADEMIC&&(C=s.Z.PAYMENT):C=s.Z.EMAIL,n.set(i.e.STEP_WIZARD_COOKIE,O,a.CookieTypes.REQUIRED,{maxAge:3600,secure:!0,path:"".concat(o.APP_FULL_PATH,"/").concat(C),sameSite:"None"})}},I=function(n){return c.Z4.includes(n)?c.CF.I2T:c.CF.DEFAULT}},86041:function(n,e,t){"use strict";t.d(e,{Jq:function(){return a},kO:function(){return l},DZ:function(){return c}});var r=t(67294),o=t(31416),i=r.createElement,a={RED:"#FF0000",WHITE:"#FFFFFF"},u=function(n){var e=n.fillColor;return i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"18",viewBox:"0 0 24 20",role:"img","aria-label":"Adobe Logo"},i("path",{fill:e,d:"M15.1,0H24v20L15.1,0z M8.9,0H0v20L8.9,0z M12,7.4L17.6,20h-3.8l-1.6-4H8.1L12,7.4z"}))},l=function(n){var e=n.fillColor,t=u({fillColor:e});return(0,o.svgToBase64)(t)},c=function(n){var e=n.fillColor;return u({fillColor:e})}},49865:function(n,e,t){"use strict";t.d(e,{r:function(){return r.withContentSelector}});var r=t(3971)},61274:function(n,e,t){"use strict";t.d(e,{V:function(){return d},d:function(){return s}});var r=t(99246),o=t(47565),i=t(57332),a=t(4190),u=t(67294),l=t(55988),c=t(12510),d=function(){var n=(0,l.t)().currentRoute,e=(0,a.useFeatureFlags)([r.R.UC_FLEXIBLE_PROMOTIONS_OVERRIDE])[r.R.UC_FLEXIBLE_PROMOTIONS_OVERRIDE];return(0,u.useMemo)((function(){return(n===i.Z.PAYMENT||n===i.Z.ACADEMIC)&&e}),[n,e])},s=function(){var n=(0,c.useStore)().getState(),e=(0,a.useFeatureFlags)([r.R.UC_FLEXIBLE_PROMOTIONS])[r.R.UC_FLEXIBLE_PROMOTIONS];return(0,u.useMemo)((function(){return(0,o.j)(n,e)}),[n,e])}},29550:function(n,e,t){"use strict";t.d(e,{dn:function(){return i},pS:function(){return a},$F:function(){return u},x1:function(){return l},uk:function(){return c}});var r=t(56746),o=t(67294),i="FORM_ERRORS";function a(n,e){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=(0,r.useOnAppError)(void 0,i),u=(0,r.useAppError)(i),l=u.setError,c=u.dismissError;(0,o.useEffect)((function(){n?!a&&n&&l(e(),t):c()}),[n])}function u(){var n=(0,r.useOnAppError)(void 0,i);return!(null===n||void 0===n||!n.type)}function l(){return(0,r.useOnAppError)(void 0,i)}function c(){var n=(0,r.useAppError)(i);return{setError:n.setError,dismissError:n.dismissError}}},14157:function(n,e,t){"use strict";t.d(e,{k:function(){return a}});var r=t(99246),o=t(4190),i=t(5764);function a(){var n=(0,o.useFeatureFlags)([r.R.UC_I2T]),e=(0,i.R_)().getIsI2tWorkflow;return n[r.R.UC_I2T]&&"function"===typeof e&&e()}},77974:function(n,e,t){"use strict";t.d(e,{p:function(){return A}});var r=t(26265),o=t(32292),i=t(37244),a=t.n(i),u=t(54589),l=t(62482),c=t(96029),d=t(61792),s=t(80827),f=t(23239),p=t(89106),v=t(11051),E=t(67294),m=t(56746),T=t(55988),_=t(12510);function I(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}var A=function(){var n=(0,_.useStore)().getState(),e=(0,c.vl)(n),t=(0,_.useSelector)(d.PQ),r=(0,T.t)().currentRoute,i=(0,v.useCommerceAppContext)(),a=i.emitMessage,u=i.isInApp,l=i.navigate,s=!!(0,m.useOnAppError)((function(n){return n.code===f.ir.SESSION_TIMEOUT_FATAL_ERROR})),I=(0,p.G)(),A=(0,o.Z)(I,1)[0],P=(0,E.useCallback)((function(){return S(s,u)}),[s,u]),R=(0,E.useCallback)((function(){return C(t,u)}),[t,u]);return{handleInAppRestartWorkflow:(0,E.useCallback)((function(){O(r,a,l,e,A)}),[r,a,l,e,A]),isInAppSessionTimeout:P,isInAppUnauth:R}},O=function(n,e,t,o,i){if(o[a().app.NGL_IMS.name]){t(encodeURIComponent((0,l.tl)(o,n)),s.NavigationType.EXTERNAL)}else{i();var c=(0,u.y)(n,o);e(v.SystemMessage.ERROR,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?I(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}({},c))}},C=function(n,e){return!n&&e()},S=function(n,e){return n&&e()}},49786:function(n,e,t){"use strict";t.d(e,{h:function(){return u}});var r=t(46829),o=t(36623),i=t(59180),a=t(12510),u=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.xb.COMMITMENT_VARIANTS,t=(0,r.useApolloClient)(),u=(0,a.useSelector)(o.Jm),l=t.readFragment({id:"PersonalizedOffer:".concat(e,":").concat(u),fragment:n})||{};return l}},83237:function(n,e,t){"use strict";t.d(e,{a:function(){return T}});var r=t(809),o=t.n(r),i=t(92447),a=t(46829),u=t(99246),l=t(57663),c=t(96029),d=t(98192),s=t(52379),f=t(67294),p=t(4190),v=t(14157),E=t(55988),m=t(12510),T=function(){var n=(0,m.useStore)(),e=(0,a.useApolloClient)(),t=(0,p.useFeatureFlags)([u.R.UC_COMMERCE_CORE_APP_SHELL,u.R.UC_M09,u.R.UC_FLEXIBLE_PROMOTIONS,u.R.UC_FLEXIBLE_PROMOTIONS_OVERRIDE]),r=(0,E.t)().updateQueryParams,T=(0,v.k)();return{invalidatePaypal:(0,f.useCallback)((0,i.Z)(o().mark((function i(){var a,u,f,p,v,E,m,_,I=arguments;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(a=I.length>0&&void 0!==I[0]?I[0]:{},u=a.forceInvalidation,f=void 0!==u&&u,p=a.updateOrder,v=void 0===p||p,E=a.updateQueryParamsInUrl,m=void 0!==E&&E,!(0,l.l6)(n.getState())&&!f){o.next=10;break}if(n.dispatch((0,l.p6)(!1)),_=(0,c.vl)(n.getState()),d.L.forEach((function(n){return delete _[n]})),n.dispatch((0,c.BT)(_)),m&&r(_),!v){o.next=10;break}return o.abrupt("return",(0,s.Yz)({store:n,apolloClient:e,features:t,isChangePlan:T}));case 10:return o.abrupt("return",Promise.resolve());case 11:case"end":return o.stop()}}),i)}))),[n,e,t,T,r])}}},41196:function(n,e,t){"use strict";t.d(e,{$U:function(){return d}});var r,o;t(2385);!function(n){n.purchaseOrder="PURCHASE_ORDER",n.sales="SALES",n.support="SUPPORT"}(r||(r={})),function(n){n.document="DOCUMENT",n.creative="CREATIVE"}(o||(o={}));var i=t(90325),a=t(65455),u=t(67294),l=t(12510),c=function(n,e){var t,r=(0,l.useStore)();return function(n,e){var t=e.channel,r=e.customerSegment,o=e.marketSegment,a=e.cloud,u=(0,i.IG)({customerSegment:r,marketSegments:[o]}),l=n[t],c=null===l||void 0===l?void 0:l.default,d=null===l||void 0===l?void 0:l[u];return d&&(d[a]||d.default)||c}((0,u.useMemo)((function(){var n=r.getState();return(0,a.mD)(n)}),[r]),{channel:n,customerSegment:null===e||void 0===e?void 0:e.customerSegment,marketSegment:null===e||void 0===e?void 0:e.marketSegments[0],cloud:null===e||void 0===e||null===(t=e.productArrangement)||void 0===t?void 0:t.cloud})},d=function(n){return c(r.sales,n)}},62452:function(n,e,t){"use strict";t.d(e,{eR:function(){return Y},KW:function(){return G},Sd:function(){return j},tD:function(){return W},sY:function(){return H},nV:function(){return q},r9:function(){return X}});var r=t(809),o=t.n(r),i=t(92447),a=t(27261),u=t(26265),l=t(28140),c=t(32292),d=t(37244),s=t.n(d),f=t(46829),p=t(71439),v=t(41681),E=t(99246),m=t(61792),T=t(62482),_=t(96029),I=t(28919),A=t(36623),O=t(80827),C=t(52176),S=t(2385),P=t(98192),R=t(57332),N=t(29843),y=t(67294),g=t(11051),D=t(4190),L=t(14157),U=t(85686),h=t(55988),b=t(12510),M=t(89106);function F(){var n=(0,a.Z)(["\n  query GET_UCV2_JUMP_URL_QUERY(\n    $url: String!\n    $clientId: String!\n    $scopes: String!\n  ) {\n    user {\n      singleSignOnJumpUrl(\n        redirectUrl: $url\n        targetClientId: $clientId\n        targetScope: $scopes\n      )\n    }\n  }\n"]);return F=function(){return n},n}function k(){var n=(0,a.Z)(["\n    fragment ChangePlanOrderStatus on ChangePlan {\n      status\n      paymentInstrument {\n        ... on PaypalPaymentInstrument {\n          redirectUrl\n        }\n      }\n    }\n  "]);return k=function(){return n},n}function w(){var n=(0,a.Z)(["\n    fragment OrderStatus on Order {\n      status\n      paymentInstrument {\n        ... on PaypalPaymentInstrument {\n          redirectUrl\n        }\n      }\n    }\n  "]);return w=function(){return n},n}function Z(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function x(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(t),!0).forEach((function(e){(0,u.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var Y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O.NavigationType.DEFAULT,e=(0,D.useFeatureFlags)([E.R.UC_COMMERCE_CORE_APP_SHELL]),t=e[E.R.UC_COMMERCE_CORE_APP_SHELL],r=B(n),o=V();return(0,y.useCallback)((function(n,e){return t?r(n,e):o(n)}),[r,o,t])},V=function(){var n=(0,U.useLogger)();return(0,y.useCallback)((function(e){(0,I.uX)(e,n)}),[n])},B=function(n){var e=(0,g.useCommerceAppContext)().navigate,t=(0,U.useLogger)();return(0,y.useCallback)((function(r,o){r&&(null===t||void 0===t||t.info({label:"redirect",location:(0,N.H)(r),documentReferrer:(0,N.H)((0,I.vW)())}),e(r,n,o))}),[t,e,n])},G=function(){var n=(0,b.useSelector)(_.vl),e=(0,M.G)(),t=(0,c.Z)(e,1)[0],r=(0,h.t)().currentRoute,o=Y(O.NavigationType.DEFAULT),i=(0,D.useFeatureFlags)([E.R.UC_M09]);return(0,y.useCallback)((function(e){!function(n){var e=n._redirect,t=n.country,r=n.urlParams,o=n.route,i=n.storeAppState,a=n.featureFlags;if(!t)return;var u={co:t},c=a[E.R.UC_M09]?[].concat((0,l.Z)(P.L),[s().app.RECOMMENDATION_REQUEST_ITEMS.name]):(0,l.Z)(P.L),d=x(x({},r),u);c.forEach((function(n){return delete d[n]})),i(u,c);var f=Q({currentQueryParams:d,route:o});e(f)}({_redirect:o,country:e,urlParams:n,route:r,storeAppState:t,featureFlags:i})}),[o,n,r,t,i])};var j=function(){var n=Y(O.NavigationType.DEFAULT),e=(0,y.useMemo)((function(){return[E.R.UC_I2T,E.R.UC_I2T_WIZARD]}),[]);return(0,y.useCallback)((function(t){!function(n){var e,t=n.nextQueryParams,r=n._redirect,o=n.featureFlags,i=R.Z.TEAMS_PLAN_PAYMENT,a=function(n){var e=n.currentQueryParams,t=n.route;return(0,T.Bi)((0,T.Yj)(t),e)}({currentQueryParams:x(x({},t),{},(e={},(0,u.Z)(e,s().app.ADD_FEATURES.name,o.join(",")),(0,u.Z)(e,s().app.CLIENT_ID.name,"adobe_com"),e)),route:i});r(a)}({nextQueryParams:t,_redirect:n,featureFlags:e})}),[n,e])};var W=function(){var n=(0,b.useSelector)(_.vl),e=(0,h.t)().currentRoute,t=(0,M.G)(),r=(0,c.Z)(t,1)[0],o=Y(O.NavigationType.RETURN_BACK),i=(0,(0,g.useCommerceAppContext)().isInApp)()?(0,T.tl)(n,e):Q({currentQueryParams:n,route:e});return{cancelUrl:encodeURIComponent((0,b.useSelector)(_.nv)||i),redirect:(0,y.useCallback)((function(n){return function(n,e,t,r){n(),e(t,{returnUrl:r})}(r,o,n,i)}),[o,i,r])}};var H=function(){var n=(0,f.useApolloClient)(),e=(0,b.useSelector)(_.vl),t=(0,D.useFeatureFlags)([E.R.P_UC_APP_CONTEXT_LOCAL_DEV]),r=(0,b.useSelector)(A.NO),o=(0,h.t)().currentRoute,i=(0,M.G)(),a=(0,c.Z)(i,1)[0],l=Y(O.NavigationType.PAYPAL),d=(0,g.useCommerceAppContext)().isInApp,v=(0,L.k)();return(0,y.useCallback)((function(){return function(n){var e=n._redirect,t=n.apolloClient,r=n.currentQueryParams,o=n.featureFlags,i=n.orderId,a=n.route,l=n.storeAppState,c=n.isChangePlan,d=n.isInApp;if(!i)return;var f=(0,p.gql)(w()),v=(0,p.gql)(k()),m=t.readFragment({id:c?"ChangePlan:".concat(i):"Order:".concat(i),fragment:c?v:f}),T=m.status,_=m.paymentInstrument.redirectUrl;if(T===S.iF.PaymentInitialized&&_){var A=(0,u.Z)({},s().app.ORDER_ID.name,i),O=P.L.filter((function(n){return n!==s().app.ORDER_ID.name}));O.forEach((function(n){return delete r[n]})),l(A,O);var C={returnUrl:Q({currentQueryParams:r,route:a}),returnUrlParams:[s().app.PAYPAL.name,s().app.PAYPAL_PAYER_ID.name,s().app.PAYPAL_TOKEN.name]};if(d()&&o[E.R.P_UC_APP_CONTEXT_LOCAL_DEV])(0,I.xw)(_);else e(d()?encodeURIComponent(_):_,C)}}({_redirect:l,apolloClient:n,currentQueryParams:e,featureFlags:t,orderId:r,route:o,storeAppState:a,isChangePlan:v,isInApp:d})}),[l,n,e,t,r,o,a,v,d])};var q=function(n){var e=Y(O.NavigationType.EXTERNAL),t=(0,f.useApolloClient)(),r=(0,b.useSelector)(m.hP);return(0,y.useCallback)((function(o){return function(n){return K.apply(this,arguments)}({apolloClient:t,_redirect:e,url:o,userToken:r,externalApplication:n})}),[t,e,r,n])};function K(){return(K=(0,i.Z)(o().mark((function n(e){var t,r,i,a,u,l,c,d,s,f,p;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.apolloClient,r=e._redirect,i=e.url,a=e.userToken,u=e.externalApplication,l=encodeURIComponent(i),a){n.next=6;break}r(l),n.next=18;break;case 6:return c=(0,v.Q0)(u),d=c.clientId,s=c.scopes,n.prev=7,n.next=10,t.query({query:$,variables:{url:i,clientId:d,scopes:s},context:{headers:{Authorization:"Bearer ".concat(a)}}});case 10:f=n.sent,p=f.data.user.singleSignOnJumpUrl,r(p),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(7),r(l);case 18:case"end":return n.stop()}}),n,null,[[7,15]])})))).apply(this,arguments)}var $=(0,p.gql)(F());function X(){var n=(0,b.useStore)(),e=Y(O.NavigationType.SWITCH),t=(0,g.useCommerceAppContext)().isInApp,r=q();return(0,y.useCallback)((function(o){var i=o===C.k.TRIAL_INELIGIBLE;if(i){var a=(0,_.vl)(n.getState()),u=(0,T.XU)(a,!0);t()?r(u):e(u)}return i}),[n,e,t,r])}function Q(n){var e=n.currentQueryParams,t=n.route;return(0,T.mr)((0,T.Yj)(t),e)}},55988:function(n,e,t){"use strict";t.d(e,{t:function(){return _},Z:function(){return l.default}});var r=t(26265),o=t(18446),i=t.n(o),a=t(37244),u=t.n(a),l=t(11163),c=t(62482),d=t(98192),s=t(67294);function f(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function p(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?f(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function v(n,e){var t,r,o=null===n||void 0===n||null===(t=n[u().app.ITEMS.name])||void 0===t?void 0:t.map((function(n){return n.id})),a=null===e||void 0===e||null===(r=e[u().app.ITEMS.name])||void 0===r?void 0:r.map((function(n){return n.id}));return!i()(o,a)}function E(n,e){var t=null===n||void 0===n?void 0:n[u().app.RECOMMENDATION_REQUEST_ITEMS.name],r=null===e||void 0===e?void 0:e[u().app.RECOMMENDATION_REQUEST_ITEMS.name];return!i()(t,r)}function m(n,e,t,r){return n||e||function(n,e){return d.L.some((function(t){var r=n[t],o=null===e||void 0===e?void 0:e[t];return r&&r!==o||o&&o!==r}))}(t,r)||(null===r||void 0===r?void 0:r[u().app.ITEMS.name])&&v(t,r)||E(t,r)}function T(n,e){var t=p({},n);return v(n,e)&&(t=p(p({},t),{},(0,r.Z)({},u().app.ITEMS.name,e[u().app.ITEMS.name]))),E(n,e)&&(t=p(p({},t),{},(0,r.Z)({},u().app.RECOMMENDATION_REQUEST_ITEMS.name,e[u().app.RECOMMENDATION_REQUEST_ITEMS.name]))),d.L.forEach((function(n){null!==e&&void 0!==e&&e[n]||!t[n]||delete t[n]})),(0,c.tW)(t)}var _=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{prefetch:[]},e=n.prefetch,t=(0,l.useRouter)(),r=t.pathname,o=r.split("/").splice(1).join("/");(0,s.useEffect)((function(){e.forEach((function(n){t.prefetch("/".concat(n))}))}),[]);var i=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.query;return t.push({pathname:"/".concat(n),query:(0,c.tW)(e)}).then((function(n){var e;return null===(e=window)||void 0===e||e.scrollTo(0,0),n}))},a=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.query;return t.replace({pathname:"/".concat(n),query:(0,c.tW)(e)}).then((function(n){var e;return null===(e=window)||void 0===e||e.scrollTo(0,0),n}))},d=function(n){var e=t.asPath.split("?")[1],r=(0,c.rz)(e);if(r){var o;u().app.CHECKOUT_COOKIE.name in r&&(r=o=p({},n));var i=u().IMS.CODE in r||u().IMS.ERROR in r||u().IMS.IJT in r||u().IMS.STATE in r;if(i&&(delete r[u().IMS.CODE],delete r[u().IMS.ERROR],delete r[u().IMS.IJT],delete r[u().IMS.STATE]),m(i,o,r,n)){var a=T(r,n);t.replace("".concat(t.pathname,"?").concat(a),"".concat(t.pathname,"?").concat(a),{shallow:!0})}}};return t.currentRoute=o,t.transitionToRoute||(t.transitionToRoute=i),t.replaceRoute||(t.replaceRoute=a),t.updateQueryParams||(t.updateQueryParams=d),t}},89106:function(n,e,t){"use strict";t.d(e,{G:function(){return l}});var r=t(46829),o=t(93719),i=t(67294),a=t(69355),u=t(12510);function l(){var n=(0,r.useApolloClient)(),e=(0,a.useCookies)(),t=(0,u.useStore)(),l=(0,i.useCallback)((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,o.lZ)(e,t,n,r,i)}),[t,e,n]);return(0,i.useMemo)((function(){return[l]}),[l])}},70734:function(n,e,t){"use strict";t.d(e,{m:function(){return a},Q:function(){return u}});var r=t(27261),o=t(71439);function i(){var n=(0,r.Z)(["\n  mutation createSUSIDynamicContext($input: SUSIDynamicContextInput!) {\n    createSUSIDynamicContext(input: $input) {\n      contextId\n    }\n  }\n"]);return i=function(){return n},n}var a="createSUSIDynamicContext",u=(0,o.gql)(i())},11057:function(n,e,t){"use strict";t.d(e,{Np:function(){return r},tC:function(){return v},SX:function(){return I},Il:function(){return y.I}});var r,o,i,a=t(809),u=t.n(a),l=t(92447),c=t(32292),d=t(86041),s=t(34937),f=t(70734),p=(0,s.defineContents)("DynamicContextVariantContent",{variant:{id:"variant",type:"string"},iconDisplayPolicy:{id:"iconDisplayPolicy",type:"string"},listDisplayPolicy:{id:"listDisplayPolicy",type:"string"},heading:{id:"heading",type:"string"},description:{id:"description",type:"string"},listTitle:{id:"listTitle",type:"string"}}),v=(0,s.defineContents)("SusiDynamicContextContent",{dynamicContextVariants:{id:"dynamicContentVariants",isArray:!0,type:p,placeholderContent:[{variant:"SET_PASSWORD",iconDisplayPolicy:"{numItems, plural, =1 {PRODUCT} other {NONE}}",listDisplayPolicy:"NONE",heading:"{numItems, plural, =1 {{productName}} other {Complete account setup}}",description:"Set your account password to sign in and get started with your creative journey.",listTitle:""},{variant:"SIGN_IN_REQUESTED",listDisplayPolicy:"NONE",iconDisplayPolicy:"ADOBE",heading:"Adobe",description:"Sign in or create an account",listTitle:""},{variant:"SIGN_IN_RETURN_USER",iconDisplayPolicy:"{numItems, plural, =1 {PRODUCT} other {NONE}}",listDisplayPolicy:"TERMS",heading:"{numItems, plural, =1 {{productName}} other {Sign in to continue with your trial}}",description:"{numItems, plural, =1 {We've found your account. Sign in to continue with your trial.} other {}}",listTitle:"Trial terms"},{variant:"SIGN_IN_RETURN_USER_D2P",iconDisplayPolicy:"{numItems, plural, =1 {PRODUCT} other {NONE}}",listDisplayPolicy:"{numItems, plural, =1 {NONE} other {PRODUCTS}}",heading:"{numItems, plural, =1 {{productName}} other {Sign in to continue with your purchase}}",description:"{numItems, plural, =1 {We've found your account. Sign in to continue with your purchase.} other {}}",listTitle:"Summary"}]},productNameLabel:{id:"productNameLabel",type:"string",placeholderContent:"{productName} ({ type, select,  DAY {{unit, plural, =1 {1-day} other {#-day}} trial}  WEEK {{unit, plural, =1 {1-week} other {#-week}} trial} MONTH {{unit, plural, =1 {1-month} other {#-month}} trial} YEAR {{unit, plural, =1 {1-year} other {#-year}} trial} other {{unit, plural, =1 {1-day} other {#-day}} trial}})"}}),E=t(63202),m=t(47554),T=t(67294),_=t(46829);!function(n){n.SIGN_IN_RETURN_USER="SIGN_IN_RETURN_USER",n.SIGN_IN_RETURN_USER_D2P="SIGN_IN_RETURN_USER_D2P",n.SIGN_IN_REQUESTED="SIGN_IN_REQUESTED",n.SET_PASSWORD="SET_PASSWORD"}(r||(r={})),function(n){n.ADOBE="ADOBE",n.PRODUCT="PRODUCT",n.NONE="NONE"}(o||(o={})),function(n){n.PRODUCTS="PRODUCTS",n.NONE="NONE",n.TERMS="TERMS"}(i||(i={}));var I=function(){var n=(0,s.useContentEntry)(v,!0),e=(0,T.useRef)(n);(0,T.useEffect)((function(){e.current=n}));var t=(0,_.useMutation)(f.Q),r=(0,c.Z)(t,1)[0];return{getDynamicContextId:(0,T.useCallback)(function(){var n=(0,l.Z)(u().mark((function n(t){var o,i,a,l;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=A(t,e.current),n.prev=1,n.next=4,r({variables:o});case 4:return a=n.sent,l=a.data,n.abrupt("return",null===l||void 0===l||null===(i=l.createSUSIDynamicContext)||void 0===i?void 0:i.contextId);case 9:return n.prev=9,n.t0=n.catch(1),n.abrupt("return",Promise.resolve(""));case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}(),[r])}},A=function(n,e){var t=n.items,r=n.locale,o=n.variant,i=N(t,o,e);return{input:{locale:r,context:{backgroundColor:"#F5F5F5FF",withAdobeLogoHeader:!0,dcpContainer:O(t,i)}}}},O=function(n,e){var t=C(n,e),r=S(e);return{colorTheme:"DARK",position:"RIGHT",header:{description:{label:null===e||void 0===e?void 0:e.description,size:2},heading:{label:null===e||void 0===e?void 0:e.heading,size:1},icon:t},list:r}},C=function(n,e){var t,r,i;switch(e.iconDisplayPolicy){case o.ADOBE:i=[(0,d.kO)({fillColor:d.Jq.RED})];break;case o.PRODUCT:i=null!==(t=null===(r=n[0])||void 0===r?void 0:r.productIconUrls)&&void 0!==t?t:[];break;case o.NONE:}return i},S=function(n){var e;switch(n.listDisplayPolicy){case i.PRODUCTS:e=R(n);break;case i.TERMS:e=P(n);break;case i.NONE:}return e},P=function(n){var e,t=(0,E.getCheckmarkInGreenCircleAsBase64)(),r=(0,m.getClarityTerms)();return r.length>0&&(e={listHeader:{label:null===n||void 0===n?void 0:n.listTitle,size:5},listElements:{type:"ICONS",elements:r.map((function(n){return{label:n,icon:t}}))}}),e},R=function(n){return{listHeader:{label:null===n||void 0===n?void 0:n.listTitle,size:5},listElements:{type:"BULLETS",elements:n.productNameLabels.map((function(n){return{label:n}}))}}},N=function(){var n,e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,i=t.length,a=null!==(n=null===(e=t[0])||void 0===e?void 0:e.productName)&&void 0!==n?n:"",u=o.search(p),l=null===u||void 0===u?void 0:u.find((function(n){return n.get(p.variant)===r}));if(l)return{heading:l.format(p.heading,{numItems:i,productName:a}),description:l.format(p.description,{numItems:i}),iconDisplayPolicy:l.format(p.iconDisplayPolicy,{numItems:i}),listDisplayPolicy:l.format(p.listDisplayPolicy,{numItems:i}),listTitle:l.get(p.listTitle),productNameLabels:t.map((function(n){var e=n.promotionTerm,t=n.promotionTermValue;return e&&t?o.format(v.productNameLabel,{productName:n.productName,type:n.promotionTerm,unit:n.promotionTermValue}):n.productName}))}},y=t(223)},223:function(n,e,t){"use strict";t.d(e,{I:function(){return g}});var r,o,i=t(809),a=t.n(i),u=t(92447),l=t(32292),c=t(37244),d=t.n(c),s=t(11057),f=t(26265),p=t(38347),v=t(41681),E=t(80129);function m(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function T(n){var e=n.applicationContext,t=function(n){var e=n.defaultCountry,t=n.dynamicContextId,i=n.email,a=n.forceLogin,u=n.language,l=n.returnUrl,c=n.signUp;return{dctx_id:t,eu:!c&&!!i,idp_flow:c?r.CreateAccount:r.Login,locale:u,pcountry:e,prompt:a?void 0:o.None,puser:i,redirect_uri:l}}((0,p.Z)(n,["applicationContext"])),i=(0,v.ft)(e),a=(0,E.stringify)(function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?m(Object(t),!0).forEach((function(e){(0,f.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}({client_id:i.clientId,scope:i.scopes,state:JSON.stringify(i.state),dc:t.eu,el:!0},t));return"".concat(i.domain,"/ims/authorize/v1?").concat(a)}!function(n){n.CreateAccount="create_account",n.Login="login"}(r||(r={})),function(n){n.None="none"}(o||(o={}));var _=t(62482),I=t(65455),A=t(36623),O=t(96029),C=t(61792),S=t(80827),P=t(67294),R=t(62452),N=t(12510),y=t(89106);function g(){var n=(0,N.useStore)(),e=(0,R.eR)(S.NavigationType.DEFAULT),t=(0,y.G)(),r=(0,l.Z)(t,1)[0],o=(0,s.SX)().getDynamicContextId;return(0,P.useMemo)((function(){return[function(){var t=(0,u.Z)(a().mark((function t(i){var u,l,c,d=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=d.length>1&&void 0!==d[1]?d[1]:s.Np.SIGN_IN_REQUESTED,l=d.length>2&&void 0!==d[2]&&d[2],r(),t.next=5,D(o,u,n);case 5:c=t.sent,U(!1,l,i,c,n,e);case 7:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),function(){var t=(0,u.Z)(a().mark((function t(i){var u,l,c,d=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=d.length>1&&void 0!==d[1]?d[1]:s.Np.SIGN_IN_REQUESTED,l=d.length>2&&void 0!==d[2]&&d[2],r(),t.next=5,D(o,u,n);case 5:c=t.sent,U(!0,l,i,c,n,e);case 7:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()]}),[o,e,n,r])}function D(n,e,t){return L.apply(this,arguments)}function L(){return(L=(0,u.Z)(a().mark((function n(e,t,r){var o,i,u,l;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o="",i=r.getState(),u=(0,I.n$)(i),l=(0,A.RL)(i),n.prev=4,n.next=7,e({items:l,locale:u,variant:t});case 7:o=n.sent,n.next=12;break;case 10:n.prev=10,n.t0=n.catch(4);case 12:return n.abrupt("return",o);case 13:case"end":return n.stop()}}),n,null,[[4,10]])})))).apply(this,arguments)}function U(n,e,t,r,o,i){var a=o.getState(),u=(0,C.et)(a).email,l=(0,I.mT)(a),c=(0,I.n$)(a),s=(0,O.vl)(a);i(T({applicationContext:s[d().app.CTX.name],defaultCountry:l,dynamicContextId:r,email:e?u:void 0,forceLogin:!0,language:c,returnUrl:(0,_.mr)((0,_.Yj)(t),s),signUp:n}))}},36902:function(n,e,t){"use strict";t.d(e,{yC:function(){return r},kc:function(){return o}});function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=n.map((function(n){var e,t,r,o;return{errorCodes:null===n||void 0===n||null===(e=n.extensions)||void 0===e?void 0:e.code,status:null===n||void 0===n||null===(t=n.extensions)||void 0===t||null===(r=t.exception)||void 0===r||null===(o=r.statusCode)||void 0===o?void 0:o.toString(),message:null===n||void 0===n?void 0:n.message}}));return e}function o(n){return n.some((function(n){var e;return"401"===(null===n||void 0===n?void 0:n.status)||(null===n||void 0===n||null===(e=n.message)||void 0===e?void 0:e.includes("401"))}))}},30480:function(n,e,t){"use strict";t.d(e,{Q:function(){return i}});var r=t(27261);function o(){var n=(0,r.Z)(["\n  fragment AppliedPromotionFields on AppliedPromotion {\n    status\n    id\n    promotionCode\n    redemptionCode\n    outcomes {\n      discounts {\n        amount\n        countryCode\n        currencyCode\n      }\n      durationAmount\n      durationType\n      durationUnit\n      type\n    }\n  }\n"]);return o=function(){return n},n}var i=(0,t(71439).gql)(o())},98983:function(n,e,t){"use strict";t.d(e,{N:function(){return i}});var r=t(27261);function o(){var n=(0,r.Z)(["\n  fragment validPaymentInstruments on ValidPayment {\n    category\n    type\n    allowedDigitalWallets\n  }\n"]);return o=function(){return n},n}var i=(0,t(71439).gql)(o())},52379:function(n,e,t){"use strict";t.d(e,{RK:function(){return ne},p6:function(){return oe},Yz:function(){return de},bW:function(){return ae}});var r=t(809),o=t.n(r),i=t(26265),a=t(92447),u=t(32292),l=t(27261),c=t(37244),d=t.n(c),s=t(46829),f=t(71439),p=t(56746),v=t(33580),E=t(2385),m=t(69355),T=t(61792),_=t(6056),I=t(36623),A=t(65455),O=t(96029),C=t(36902),S=t(41681),P=t(67348),R=t(23239),N=t(13403),y=t(57663),g=t(62482),D=t(59831),L=t(57332);function U(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=d().app.R_URL.name,t=encodeURIComponent(n),r=(0,g.Yj)("".concat(L.Z.POST_SET_PASSWORD,"?").concat(e,"=").concat(t));return"".concat((0,D.jU)()).concat(r)}var h=t(93719),b=t(54214),M=t(75096),F="enroll100",k="enroll476",w="enroll475validate100",Z="enroll475Validate476",x=t(10975),Y=t(85686),V=t(59180),B=t(30480),G=t(28361),j=t(4190),W=t(99246),H=t(86695),q=t(47565),K=t(62782),$=t(52176),X=t(41609),Q=t.n(X),z=t(68718),J=t.n(z);function nn(n){var e=J()(n,(function(n,e,t){Array.isArray(e)?n[t]=nn(null!==e&&void 0!==e?e:[]):"object"===typeof e&&null!==e?n[t]=nn(null!==e&&void 0!==e?e:{}):("string"===typeof e&&e||"number"===typeof e)&&(n[t]=e)}),Array.isArray(n)?[]:{});return Q()(e)?void 0:e}var en,tn,rn=t(97094),on=t(55077),an=t(276),un=t(67294),ln=t(14157),cn=t(49786),dn=t(83237),sn=t(61274),fn=t(89106),pn=t(57972);function vn(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function En(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?vn(Object(t),!0).forEach((function(e){(0,i.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vn(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function mn(){var n=(0,l.Z)(["\n  query GET_SAVED_PAYMENT_INSTRUMENT {\n    user {\n      wallet {\n        savedPaymentInstruments {\n          id\n        }\n      }\n    }\n  }\n"]);return mn=function(){return n},n}function Tn(){var n=(0,l.Z)(["\n  fragment OfferItemMarketSegment on PersonalizedOffer {\n    offer {\n      id\n      marketSegments\n    }\n  }\n"]);return Tn=function(){return n},n}function _n(){var n=(0,l.Z)(["\n  query GET_COUNTRY_SUPPORTED_LOCALE_QUERY($id: ID!, $language: String!) {\n    country(id: $id) {\n      id\n      supportedLocale(language: $language)\n    }\n  }\n"]);return _n=function(){return n},n}function In(){var n=(0,l.Z)(["\n  query GET_EXISTING_ORDER_QUERY($id: ID!, $nonce: String, $locale: String!) {\n    order(id: $id, nonce: $nonce) {\n      id\n      nonce\n      orderNumber\n      appliedPromotions {\n        ...AppliedPromotionFields\n        tncText(locale: $locale)\n      }\n      ...BillingAddress\n      ...BillingContact\n      ...CartItems\n      ...CartPrice\n      ...PaymentInstrument\n      cartIdentity {\n        email\n        accountType\n        ownerId\n        authenticationAccountId\n        accountCreationInfo {\n          analytics {\n            ac\n          }\n          specialPrivacy {\n            krCol\n            krExp\n            krSp\n            krTpr\n          }\n          completeProfileLink\n          targetClient {\n            clientId\n            scopes\n            callbackUrl\n            contextId\n          }\n        }\n      }\n      country\n      currency\n      locale\n      marketSegment\n      purchaseFlow\n      status\n      statusHint\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return In=function(){return n},n}function An(){var n=(0,l.Z)(["\n  mutation PLACE_ORDER(\n    $inputOrder: PlaceOrderInput!\n    $locale: String!\n    $isAuthenticated: Boolean!\n  ) {\n    placeOrder(input: $inputOrder) {\n      id\n      orderNumber\n      statusHint\n      blockAutoRenewal\n      appliedPromotions {\n        ...AppliedPromotionFields\n        tncText(locale: $locale)\n      }\n      ...BillingAddress\n      ...BillingContact\n      ...CartIdentity\n      ...CartItems\n      ...CartPrice\n      ...PaymentInstrument\n      country\n      currency\n      gettingStartedUrl @include(if: $isAuthenticated)\n      locale\n      marketSegment\n      orderNumber\n      purchaseFlow\n      status\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return An=function(){return n},n}function On(){var n=(0,l.Z)(["\n  mutation INITIALIZE_PAYMENT(\n    $inputOrder: UpdateOrderInput!\n    $locale: String!\n  ) {\n    updateOrder(input: $inputOrder) {\n      id\n      nonce\n      orderNumber\n      status\n      statusHint\n      appliedPromotions {\n        ...AppliedPromotionFields\n        tncText(locale: $locale)\n      }\n      blockAutoRenewal\n      ...BillingAddress\n      ...BillingContact\n      ...CartIdentity\n      ...CartPrice\n      ...PaymentInstrument\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return On=function(){return n},n}function Cn(){var n=(0,l.Z)(["\n  mutation UPDATE_ORDER($inputOrder: UpdateOrderInput!, $locale: String!) {\n    updateOrder(input: $inputOrder) {\n      id\n      nonce\n      orderNumber\n      status\n      statusHint\n      blockAutoRenewal\n      appliedPromotions {\n        ...AppliedPromotionFields\n        tncText(locale: $locale)\n      }\n      ...BillingAddress\n      ...BillingContact\n      ...CartIdentity\n      ...CartItems\n      ...CartPrice\n      ...PaymentInstrument\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Cn=function(){return n},n}function Sn(){var n=(0,l.Z)(["\n  fragment GetStartedUrlFragment on PersonalizedOffer {\n    offer {\n      offerContent {\n        gettingStartedTemplateUrl\n      }\n    }\n  }\n"]);return Sn=function(){return n},n}function Pn(){var n=(0,l.Z)(["\n  fragment OfferItemProductName on PersonalizedOffer {\n    offer {\n      offerContent {\n        productName\n      }\n    }\n  }\n"]);return Pn=function(){return n},n}function Rn(){var n=(0,l.Z)(["\n  fragment UpdateChangePlanOrderFragment on ChangePlan {\n    id\n    orderNumber\n    billingAddress {\n      city\n      countryCode\n      postalCode\n      stateCode\n      street1\n      street2\n      street3\n      street4\n    }\n    billingContact {\n      companyName\n      companyPhone\n      firstName\n      lastName\n      primaryEmail\n    }\n    cart {\n      offerId\n      quantity\n      autoDelegatePrimaryAdmin\n    }\n    locale\n    status\n    workflowReturnUrl\n  }\n"]);return Rn=function(){return n},n}function Nn(){var n=(0,l.Z)(["\n  fragment UpdateOrderUnauthFragment on Order {\n    cartIdentity {\n      email\n      accountCreationInfo {\n        analytics {\n          ac\n        }\n        specialPrivacy {\n          krCol\n          krExp\n          krSp\n          krTpr\n        }\n        targetClient {\n          clientId\n          scopes\n          callbackUrl\n          contextId\n        }\n      }\n    }\n    ...UpdateOrderFragment\n  }\n  ","\n"]);return Nn=function(){return n},n}function yn(){var n=(0,l.Z)(["\n  fragment UpdateOrderAuthFragment on Order {\n    cartIdentity {\n      email\n      accountType\n      ownerId\n      authenticationAccountId\n    }\n    ...UpdateOrderFragment\n  }\n  ","\n"]);return yn=function(){return n},n}function gn(){var n=(0,l.Z)(["\n  fragment UpdateOrderFragment on Order {\n    id\n    orderNumber\n    ...BillingAddress\n    ...BillingContact\n    cart {\n      cartItems {\n        offerId\n        quantity\n      }\n    }\n    country\n    currency\n    locale\n    marketSegment\n    purchaseFlow\n    status\n  }\n  ","\n  ","\n"]);return gn=function(){return n},n}function Dn(){var n=(0,l.Z)(["\n  mutation CREATE_ORDER($inputOrder: CreateOrderInput!, $locale: String!) {\n    createOrder(input: $inputOrder) {\n      id\n      nonce\n      orderNumber\n      appliedPromotions {\n        ...AppliedPromotionFields\n        tncText(locale: $locale)\n      }\n      ...BillingAddress\n      ...BillingContact\n      ...CartItems\n      ...CartPrice\n      ...PaymentInstrument\n      cartIdentity {\n        email\n        accountType\n        ownerId\n        authenticationAccountId\n        accountCreationInfo {\n          analytics {\n            ac\n          }\n          specialPrivacy {\n            krCol\n            krExp\n            krSp\n            krTpr\n          }\n          completeProfileLink\n          targetClient {\n            clientId\n            scopes\n            callbackUrl\n            contextId\n          }\n        }\n      }\n      country\n      currency\n      locale\n      marketSegment\n      purchaseFlow\n      statusHint\n      status\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Dn=function(){return n},n}function Ln(){var n=(0,l.Z)(["\n  fragment CartIdentity on Order {\n    cartIdentity {\n      email\n      accountType\n      ownerId\n      authenticationAccountId\n      accountCreationInfo {\n        analytics {\n          ac\n        }\n        specialPrivacy {\n          krCol\n          krExp\n          krSp\n          krTpr\n        }\n        completeProfileLink\n        targetClient {\n          clientId\n          scopes\n          callbackUrl\n          contextId\n        }\n      }\n    }\n  }\n"]);return Ln=function(){return n},n}function Un(){var n=(0,l.Z)(["\n  fragment PaymentInstrument on Order {\n    paymentInstrument {\n      category\n      ... on CreditCardPaymentInstrument {\n        cardAuthentication {\n          authenticationSessionId\n          authenticationTransactionId\n          category\n          challengeWindowSize\n          processorTransactionId\n          redirectUrl\n          stepUpToken\n          versionOf3Ds\n        }\n        cardShortNumber\n        cardSpan\n        cardToken\n        cardType\n        digitalWallet\n      }\n      ... on PaypalPaymentInstrument {\n        cancelUrl\n        paypalEmail\n        redirectUrl\n        returnUrl\n      }\n      ... on DirectDebitPaymentInstrument {\n        mandateId\n      }\n      ... on OfflinePaymentInstrument {\n        offlineType\n      }\n    }\n  }\n"]);return Un=function(){return n},n}function hn(){var n=(0,l.Z)(["\n  fragment BillingContact on Order {\n    billingContact {\n      companyName\n      firstName\n      lastName\n      primaryEmail\n      primaryPhone\n      pronunciationCompanyName\n      pronunciationFirstName\n      pronunciationLastName\n      taxId\n    }\n  }\n"]);return hn=function(){return n},n}function bn(){var n=(0,l.Z)(["\n  fragment BillingAddress on Order {\n    billingAddress {\n      city\n      countryCode\n      postalCode\n      stateCode\n    }\n  }\n"]);return bn=function(){return n},n}function Mn(){var n=(0,l.Z)(["\n  fragment CartPrice on Order {\n    cartPrice {\n      discountedSubtotalTax\n      discountedSubtotalWithTax\n      discountedSubtotalWithoutTax\n      discountsTotalTax\n      discountsTotalWithoutTax\n      discountsTotalWithTax\n      dueLater {\n        billingDate\n        totalTax\n        totalWithTax\n        totalWithoutTax\n      }\n      dueNext {\n        billingDate\n        totalTax\n        totalWithTax\n        totalWithoutTax\n      }\n      subtotalTax\n      subtotalWithTax\n      subtotalWithoutTax\n      taxCalculated\n      totalTax\n      totalWithTax\n      totalWithoutTax\n      appliedPromotionEndDate\n    }\n  }\n"]);return Mn=function(){return n},n}function Fn(){var n=(0,l.Z)(["\n  fragment CartItems on Order {\n    cart {\n      cartItems {\n        offerId\n        quantity\n        price {\n          discountedUnitPriceWithoutTax\n          discountedUnitPriceWithTax\n          discountsTotalWithTax\n          discountsTotalWithoutTax\n          taxRate\n          dueNext {\n            totalWithoutTax\n            totalWithTax\n          }\n          dueLater {\n            totalWithoutTax\n            totalWithTax\n          }\n        }\n        promotion {\n          promotionTerm\n          promotionTermValue\n          promotionType\n          promotionTermEndDate\n        }\n        conflicts {\n          offerId\n          reasonCode\n          subscriptionId\n        }\n        appliedPromotions {\n          ...AppliedPromotionFields\n          tncText(locale: $locale)\n        }\n        tncCode\n      }\n    }\n  }\n  ","\n"]);return Fn=function(){return n},n}var kn,wn=!1,Zn=(0,f.gql)(Fn(),B.Q),xn=(0,f.gql)(Mn()),Yn=(0,f.gql)(bn()),Vn=(0,f.gql)(hn()),Bn=(0,f.gql)(Un()),Gn=(0,f.gql)(Ln()),jn=(0,f.gql)(Dn(),B.Q,Yn,Vn,xn,Zn,Bn),Wn=(0,f.gql)(gn(),Yn,Vn),Hn=(0,f.gql)(yn(),Wn),qn=(0,f.gql)(Nn(),Wn),Kn=(0,f.gql)(Rn()),$n=(0,f.gql)(Pn()),Xn=(0,f.gql)(Sn()),Qn=(0,f.gql)(Cn(),B.Q,Yn,Vn,Gn,Zn,xn,Bn),zn=(0,f.gql)(On(),B.Q,Yn,Vn,Gn,xn,Bn),Jn=(0,f.gql)(An(),B.Q,Yn,Vn,Gn,Zn,xn,Bn),ne=(0,f.gql)(In(),B.Q,Yn,Vn,xn,Zn,Bn),ee=(0,f.gql)(_n()),te=(0,f.gql)(Tn()),re=(0,f.gql)(mn());function oe(n,e){var t={headers:{}},r=x.A.name,o=r.AUTHORIZATION,i=r.X_ADOBE_FINGERPRINT_TOKEN;return n&&(t.headers[o]="Bearer ".concat(n)),e&&(t.headers[i]=e),Object.keys(t.headers).length?t:{}}function ie(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=(0,C.yC)(n),t=null===e||void 0===e?void 0:e.map((function(n){if(null!==n&&void 0!==n&&n.errorCodes)return n.errorCodes}));return t}function ae(){var n=(0,an.useDispatch)(),e=(0,Y.useLogger)(),t=(0,an.useSelector)(I.NO),r=(0,an.useSelector)(O.vl),l=(0,an.useSelector)(T.PQ),c=(0,an.useSelector)(T.hP),f=(0,an.useStore)(),v=(0,s.useApolloClient)(),_=(0,an.useSelector)(A.mT),C=r[d().app.CLIENT_ID.name],N=r[d().app.ITEMS.name],y=r[d().app.CTX.name],D=r[d().app.ORDER_ID.name],U=(0,S.ft)(y),M=(0,an.useSelector)(A.n$),F=(0,dn.a)().invalidatePaypal,k=(0,fn.G)(),w=(0,u.Z)(k,1)[0],Z=(0,p.useAppError)().setError,x=(0,j.useFeatureFlags)([W.R.UC_COMMERCE_CORE_APP_SHELL,W.R.UC_M09,W.R.UC_I2T_WIZARD,W.R.UC_I2T,W.R.UC_FLEXIBLE_PROMOTIONS,W.R.UC_FLEXIBLE_PROMOTIONS_OVERRIDE]),V=(0,ln.k)(),B=(0,an.useSelector)(b.k),G=(0,un.useState)(void 0),H=G[0],q=G[1],K=(0,cn.h)(te),$=(0,m.useCookies)(),X=(0,h.zl)($).orderNonce,Q=(0,s.useMutation)(jn,{update:function(e,t){var r=t.data.createOrder;n((0,I.al)(r.id))}}),z=(0,u.Z)(Q,1)[0],J=(0,on.useCreateChangePlan)();kn=(0,on.useUpdateChangePlan)();var nn=(0,on.useGetChangePlan)(),rn=(0,sn.V)();(0,un.useEffect)((function(){if(H){var n=H;rn||H.code!==R.ir.INVALID_CONCESSION||(n=(0,R.Kt)(H)),Z(n)}}),[H,Z]),(0,un.useEffect)((function(){function u(n){var e=(0,R.xk)(n,f,v,!1,x);e&&q(e)}function s(){return(s=(0,a.Z)(o().mark((function t(){var a,s,p,m,T,A,O,S,R,y,h,b,k,Z,Y,G,j,H,q,$,Q,rn,on,an,un,ln,cn,dn,sn,fn,pn,vn,mn,Tn,_n,In,An,On,Cn,Sn,Pn,Rn,Nn,yn;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.query({query:ee,variables:{id:_,language:M}});case 2:if(T=t.sent,A=null===T||void 0===T||null===(a=T.data)||void 0===a||null===(s=a.country)||void 0===s?void 0:s.supportedLocale,O=f.getState(),S=null===K||void 0===K||null===(p=K.offer)||void 0===p||null===(m=p.marketSegments)||void 0===m?void 0:m[0],R=O.wallet,y=O.companyInfo,h=Ie(R,y,!1,!1,x),b=N.map((function(n){return{offerId:n[d().app.ITEMS_ID.name],quantity:n[d().app.ITEMS_QUANTITY.name]||1}})),tn={isPlaceOrder:!1,orderResult:void 0},k=oe(c,B),Z={variables:{},context:k},!V){t.next=22;break}return G=(0,g.Bi)((0,g.Yj)(L.Z.TEAMS_PLAN_PLANS),(Y={},(0,i.Z)(Y,d().app.COUNTRY.name,_),(0,i.Z)(Y,d().app.LANGUAGE.name,A),(0,i.Z)(Y,d().app.CLIENT_ID.name,"ace"),Y)),t.next=17,Oe(R,v,k);case 17:j=t.sent,H=r[d().app.CURRENT_SUBSCRIPTION_IDS.name],Z.variables={input:{locale:A,cancelItems:H,cart:b.map((function(n){return n.autoDelegatePrimaryAdmin=!0,n})),paymentInstrument:j,workflowReturnUrl:G}},t.next=24;break;case 22:Z.variables={inputOrder:{billingAddress:(null===h||void 0===h?void 0:h.billingAddress)||{countryCode:_},billingContact:null===h||void 0===h?void 0:h.billingContact,country:_,cart:{cartItems:b},locale:A,marketSegment:S,purchaseFlow:"".concat(U.clientId,"_").concat(C),status:E.iF.InProgress},locale:A},(x[W.R.UC_FLEXIBLE_PROMOTIONS]||x[W.R.UC_FLEXIBLE_PROMOTIONS_OVERRIDE])&&r[d().app.APPLIED_PROMOTION_CODE.name]&&(q=r[d().app.APPLIED_PROMOTION_CODE.name],Z.variables=En(En({},Z.variables),{},{inputOrder:En(En({},Z.variables.inputOrder),{},{promotionCodes:[q]})}));case 24:if(l||($={cartIdentity:{accountCreationInfo:{analytics:{ac:"commerce.adobe.com"},targetClient:{clientId:U.clientId,scopes:U.scopes,callbackUrl:"https://adobe.com"}}}},Z.variables=En(En({},Z.variables),{},{inputOrder:En(En({},Z.variables.inputOrder),$)})),!D){t.next=44;break}if(!V){t.next=33;break}return t.next=29,nn(D,c);case 29:an=t.sent,rn={order:null===an||void 0===an||null===(on=an.data)||void 0===on?void 0:on.changePlan},t.next=41;break;case 33:return un=X&&!l?{id:D,nonce:X,locale:A}:{id:D,locale:A},t.next=36,v.query({query:ne,variables:un,context:En({},oe(c,B))});case 36:ln=t.sent,cn=ln.errors,dn=ln.data,Q=cn,rn=dn;case 41:Q?u(ie(Q)):(n((0,I.al)(D)),fn=null===(sn=rn)||void 0===sn?void 0:sn.order,pn=ue(fn),vn=le(fn,r),pn||F({forceInvalidation:vn,updateOrder:vn,updateQueryParamsInUrl:!0}),pn&&w()),t.next=67;break;case 44:if(t.prev=44,!V){t.next=55;break}return t.next=48,J(Z);case 48:if(_n=t.sent,null===(In=_n.data)||void 0===In||null===(mn=In.createChangePlan)||void 0===mn||!mn.statusHint){t.next=52;break}throw new Error(In.createChangePlan.statusHint);case 52:null!==In&&void 0!==In&&null!==(Tn=In.createChangePlan)&&void 0!==Tn&&Tn.id&&n((0,I.al)(In.createChangePlan.id)),t.next=61;break;case 55:return t.next=57,z(Z);case 57:if(On=t.sent,null===(Cn=On.data)||void 0===Cn||null===(An=Cn.createOrder)||void 0===An||!An.statusHint){t.next=61;break}throw new Error(Cn.createOrder.statusHint);case 61:t.next=67;break;case 63:t.prev=63,t.t0=t.catch(44),u(Ne(t.t0));case 67:if(tn=void 0,!en){t.next=74;break}return Pn=(Sn=en).isPaypalInit,Rn=Sn.isPlaceOrder,Nn=Sn.promiseResolver,yn=Sn.state,en=void 0,t.next=73,de({store:f,apolloClient:v,features:x,isPaypalInit:Pn,isPlaceOrder:Rn,logger:e,isChangePlan:V,state:Rn?En(En({},f.getState()),{},(0,i.Z)({},P.x5,yn[P.x5])):void 0});case 73:Nn&&Nn();case 74:case"end":return t.stop()}}),t,null,[[44,63]])})))).apply(this,arguments)}t&&!D||function(){s.apply(this,arguments)}()}),[])}function ue(n){var e=!1,t=null===n||void 0===n?void 0:n.paymentInstrument;return(null===t||void 0===t?void 0:t.category)===E.DN.Paypal&&null!==t&&void 0!==t&&t.paypalEmail&&(null===n||void 0===n?void 0:n.status)===E.iF.PaymentValidated&&(e=!0),e}function le(n,e){var t=null===n||void 0===n?void 0:n.status;return e[d().app.PAYPAL.name]===d().app.PAYPAL.values.CANCEL&&t===E.iF.PaymentInitialized}function ce(n,e,t,r){var o;return null!==(o=en)&&void 0!==o&&o.promiseResolver&&en.promiseResolver(),{isPaypalInit:n,isPlaceOrder:e,promiseResolver:t,state:r}}function de(n){return se.apply(this,arguments)}function se(){return(se=(0,a.Z)(o().mark((function n(e){var t,r,i,a,u,l,c,d,s,f,p,v,E,m,T,_,A,O,C,S,R,N,y,g;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.store,i=e.apolloClient,a=e.features,u=void 0===a?{}:a,l=e.isPaypalInit,c=void 0!==l&&l,d=e.isPlaceOrder,s=void 0!==d&&d,f=e.cartIdentityInput,p=void 0===f?{}:f,v=e.logger,E=e.isChangePlan,m=e.state,T=void 0===m?r.getState():m,A=new Promise((function(n){_=n})),O=(0,I.NO)(T),!((null===(C=(0,P.$4)(T))||void 0===C?void 0:C.length)>1||1===(null===C||void 0===C?void 0:C.length)&&(null===C||void 0===C?void 0:C[0])!==pn.WalletConstants.FormFieldDataField.TAX_ID)){n.next=6;break}return n.abrupt("return",Promise.resolve());case 6:if(!(wn||null!==(t=(0,H.A)(T))&&void 0!==t&&t.isDialogOpen)){n.next=8;break}return n.abrupt("return",Promise.resolve());case 8:if(O){n.next=13;break}return en=ce(c,s,_,T),n.abrupt("return",A);case 13:if(!tn){n.next=30;break}if(!(tn.isPlaceOrder||null!==(S=en)&&void 0!==S&&S.isPlaceOrder)){n.next=18;break}return n.abrupt("return",Promise.resolve());case 18:if(!s){n.next=26;break}return n.next=21,tn.orderResult;case 21:return n.next=23,fe({store:r,apolloClient:i,cartIdentityInput:p,features:u,isPaypalInit:c,isPlaceOrder:s,logger:v,isChangePlan:E,state:T});case 23:return n.abrupt("return",Promise.resolve());case 26:return en=ce(c,s,_),n.abrupt("return",A);case 28:n.next=39;break;case 30:return n.next=32,fe({store:r,apolloClient:i,cartIdentityInput:p,features:u,isPaypalInit:c,isPlaceOrder:s,logger:v,isChangePlan:E,state:T});case 32:if(!en){n.next=38;break}return N=(R=en).isPaypalInit,y=R.isPlaceOrder,g=R.promiseResolver,en=void 0,n.next=37,de({store:r,apolloClient:i,cartIdentityInput:p,features:u,isPaypalInit:N,isPlaceOrder:y,logger:v,isChangePlan:E,state:y?T:void 0});case 37:g&&g();case 38:return n.abrupt("return",Promise.resolve());case 39:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function fe(n){return pe.apply(this,arguments)}function pe(){return(pe=(0,a.Z)(o().mark((function n(e){var t,r,i,a,u,l,c,s,f,p,v,m,C,S,N,g,D,L,h,F,k,w,Z,x,Y,B,j,H,K,X,Q,z,J,nn,en,rn,on,an,un,ln,cn,dn,sn,fn,pn,vn,mn,Tn,_n,In,An,On,Cn,Sn,Pn,Rn,Nn,yn,gn,Dn,Ln,Un,hn,bn,Mn,Fn,Zn,xn,Yn,Vn,Bn,Gn,jn,Wn,$n,ne,ee,te,re,ie,ae,ue,le,ce,de,se,fe,pe,_e,Oe,Ce,ye,ge,De,Le,Ue,he,be,Me,Fe,ke,we,Ze,xe,Ye,Ve,Be;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u=e.store,l=e.apolloClient,c=e.cartIdentityInput,s=e.features,f=void 0===s?{}:s,p=e.isPaypalInit,v=e.isPlaceOrder,m=e.logger,C=e.isChangePlan,S=e.state,N=void 0===S?u.getState():S,g=(0,I.NO)(N),D=(0,P.e7)(N),L=(0,T.PQ)(N),h=(0,T.hP)(N),F=(0,_.Tm)(N),k=(0,b.k)(N),w=c.krSpecialPrivacy,Z=c.dynamicContextId,g){n.next=10;break}return n.abrupt("return");case 10:if(x=C?{id:"ChangePlan:".concat(g),fragment:Kn,fragmentName:"UpdateChangePlanOrderFragment"}:L?{id:"Order:".concat(g),fragment:Hn,fragmentName:"UpdateOrderAuthFragment"}:{id:"Order:".concat(g),fragment:qn,fragmentName:"UpdateOrderUnauthFragment"},Y=l.readFragment(x),B=Y.id,j=Y.country,H=Y.billingAddress,K=Y.billingContact,X=Y.locale,Q=Y.workflowReturnUrl,z=Y.purchaseFlow,J=Y.status,nn=Y.cartIdentity,en=N.wallet,rn=N.companyInfo,on=Ae(N.digitalWallet,v,null===en||void 0===en||null===(t=en.paymentForm)||void 0===t||null===(r=t.fields)||void 0===r||null===(i=r.phoneNumber)||void 0===i?void 0:i.value,f),an=on||v,un=(0,P.l)(N)||(0,P.DR)(N),ln=un&&an?on:Ie(en,rn,v,C,f),cn=(null===ln||void 0===ln?void 0:ln.billingContact)||{},dn=(null===ln||void 0===ln?void 0:ln.billingAddress)||{},sn=N.user.profile.email,fn=N.paymentAuth,pn=(0,O.vl)(N),vn=Te(N,v,f,fn,j,l,J,pn,C),(mn=(null===vn||void 0===vn||null===(a=vn.paymentInstrument)||void 0===a?void 0:a.category)===G.PaymentFormType.PAYPAL||!1)&&v&&(dn=Se(dn,H),cn=Pe(cn,K)),Tn=(0,y.l6)(N),_n=v?J===E.iF.PendingAuthentication&&null!==fn&&void 0!==fn&&fn.transactionId?E.iF.Authenticated:E.iF.Submitted:mn&&!Tn&&!D&&p?E.iF.InitializePayment:ve(J,Tn)?E.iF.InProgress:J,In={variables:{},context:En({},oe(h,k))},C?(Gn=pn[d().app.CURRENT_SUBSCRIPTION_IDS.name],In.variables={input:En(En({id:B,blockAutoRenewal:F,billingAddress:En(En({},dn),{},{countryCode:null===(Bn=dn)||void 0===Bn?void 0:Bn.countryCode}),billingContact:En({},cn),cancelItems:Gn,cart:(0,I.fq)(N).map((function(n){return{offerId:n.offerId,quantity:n.quantity||1,autoDelegatePrimaryAdmin:n.nonRemovable}})),locale:X},vn),{},{status:v?E.iF.Submitted:_n,workflowReturnUrl:Q}),locale:X}):(In.variables={inputOrder:En(En({id:B,orderNumber:Y.orderNumber,blockAutoRenewal:F,billingAddress:En(En({},dn),{},{countryCode:j}),billingContact:En({},cn),country:j,cart:{cartItems:(0,I.xA)(N)},locale:X,marketSegment:(0,I.CA)(N)},vn),{},{purchaseFlow:z,status:_n}),locale:X},An=(0,q.j)(N,f[W.R.UC_FLEXIBLE_PROMOTIONS]),(f[W.R.UC_FLEXIBLE_PROMOTIONS]||f[W.R.UC_FLEXIBLE_PROMOTIONS_OVERRIDE])&&null!==An&&void 0!==An&&An.length&&(In.variables=En(En({},In.variables),{},{inputOrder:En(En({},In.variables.inputOrder),{},{promotionCodes:An})})),v&&(Cn=(0,I.Jm)(N),Sn=l.readFragment({id:"PersonalizedOffer:".concat(V.xb.COMMITMENT_VARIANTS,":").concat(Cn),fragment:Xn}),Pn=Sn.offer,Rn=Pn.offerContent.gettingStartedTemplateUrl||(0,A.dm)(N).returnUrl,On=Re(Rn,N),L?In.variables=En(En({},In.variables),{},{inputOrder:En(En({},In.variables.inputOrder),{gettingStartedUrl:On})}):On=U(On),(Nn=(0,M.dO)(N))&&(In.variables=En(En({},In.variables),{},{inputOrder:En(En({},In.variables.inputOrder),{validationId:Nn})}))),L?yn={cartIdentity:{email:sn||void 0,accountType:nn.accountType,ownerId:nn.ownerId,authenticationAccountId:nn.authenticationAccountId}}:(yn={cartIdentity:{email:sn||void 0,accountCreationInfo:{analytics:{ac:nn.accountCreationInfo.analytics.ac},targetClient:{clientId:nn.accountCreationInfo.targetClient.clientId,scopes:nn.accountCreationInfo.targetClient.scopes,callbackUrl:null!==(gn=On)&&void 0!==gn?gn:nn.accountCreationInfo.targetClient.callbackUrl,contextId:Z}}}},"KR"===j&&(w||null!==(Dn=nn.accountCreationInfo)&&void 0!==Dn&&Dn.specialPrivacy)&&(Vn={specialPrivacy:{krCol:null!==(Ln=null===w||void 0===w?void 0:w.infoCollection)&&void 0!==Ln?Ln:null===(Un=nn.accountCreationInfo)||void 0===Un||null===(hn=Un.specialPrivacy)||void 0===hn?void 0:hn.krCol,krSp:null!==(bn=null===w||void 0===w?void 0:w.infoTransferOutsideCountryToServiceProviders)&&void 0!==bn?bn:null===(Mn=nn.accountCreationInfo)||void 0===Mn||null===(Fn=Mn.specialPrivacy)||void 0===Fn?void 0:Fn.krSp,krExp:null!==(Zn=null===w||void 0===w?void 0:w.infoTransferOutsideCountryToServiceProviders)&&void 0!==Zn?Zn:null===(xn=nn.accountCreationInfo)||void 0===xn||null===(Yn=xn.specialPrivacy)||void 0===Yn?void 0:Yn.krExp,krTpr:!1}},yn.cartIdentity.accountCreationInfo=En(En({},yn.cartIdentity.accountCreationInfo),Vn))),In.variables=En(En({},In.variables),{},{inputOrder:En(En({},In.variables.inputOrder),yn)},v?{isAuthenticated:L}:{})),n.prev=31,!C){n.next=38;break}return n.next=35,kn(In);case 35:re=n.sent,n.next=47;break;case 38:return ue=null===(ie=In.variables)||void 0===ie||null===(ae=ie.inputOrder)||void 0===ae?void 0:ae.status,jn=v?Jn:ue===E.iF.InitializePayment?zn:Qn,le=l.mutate(En({mutation:jn},In)),tn={isPlaceOrder:v,orderResult:le},n.next=44,le;case 44:ce=n.sent,de=ce.data,re=de;case 47:if(se=C?null===(Wn=re.data)||void 0===Wn?void 0:Wn.updateChangePlan:re.placeOrder,v&&se?(Ce=(0,q.Y)(se),null===m||void 0===m||m.info({label:"order-notes",notes:{orderNumber:null===se||void 0===se?void 0:se.orderNumber,co:j,purchaseFlow:z,auth:(0,T.Yw)(N),st:null===se||void 0===se?void 0:se.status,new:!(0,T.PQ)(N),tam:Ee(se),psn:me(l,(0,I.xA)(N)),wf:(0,I.IG)(N),promotionCodes:Ce,paymentInstrument:{category:null===se||void 0===se||null===(fe=se.paymentInstrument)||void 0===fe?void 0:fe.category,offlineType:null===se||void 0===se||null===(pe=se.paymentInstrument)||void 0===pe?void 0:pe.offlineType,digitalWallet:null===se||void 0===se||null===(_e=se.paymentInstrument)||void 0===_e?void 0:_e.digitalWallet},savedPaymentInstrument:void 0!==(null===vn||void 0===vn||null===(Oe=vn.paymentInstrument)||void 0===Oe?void 0:Oe.id),statusHint:null===se||void 0===se?void 0:se.statusHint}})):(he=C?null===(ye=re.data)||void 0===ye?void 0:ye.updateChangePlan:re.updateOrder,null===m||void 0===m||m.info({label:"order-update-notes",notes:{orderNumber:null===he||void 0===he?void 0:he.orderNumber,co:j,purchaseFlow:z,auth:(0,T.Yw)(N),st:null===he||void 0===he?void 0:he.status,new:!(0,T.PQ)(N),tam:Ee(he),psn:me(l,(0,I.xA)(N)),wf:(0,I.IG)(N),paymentInstrument:{category:null===he||void 0===he||null===(ge=he.paymentInstrument)||void 0===ge?void 0:ge.category,offlineType:null===he||void 0===he||null===(De=he.paymentInstrument)||void 0===De?void 0:De.offlineType,digitalWallet:null===he||void 0===he||null===(Le=he.paymentInstrument)||void 0===Le?void 0:Le.digitalWallet},savedPaymentInstrument:void 0!==(null===vn||void 0===vn||null===(Ue=vn.paymentInstrument)||void 0===Ue?void 0:Ue.id),statusHint:null===he||void 0===he?void 0:he.statusHint}})),!(v&&f[W.R.P_UC_PSD2_FAKE_403_FOR_NON_3DS_ORDER]&&f[W.R.UC_M09])||null!==($n=In.variables)&&void 0!==$n&&null!==(ne=$n.inputOrder)&&void 0!==ne&&null!==(ee=ne.paymentInstrument)&&void 0!==ee&&null!==(te=ee.creditCard)&&void 0!==te&&te.cardAuthentication){n.next=52;break}throw re.placeOrder.statusHint=$.k.FAILED_PAYER_AUTHENTICATION_REQUIRED,new Error(re.placeOrder.statusHint);case 52:if(C){n.next=56;break}if(be=Object.values(re)[0],Me=be.status,!(Fe=be.statusHint)||Me===E.iF.PaymentInitialized||p){n.next=56;break}throw new Error(Fe);case 56:wn=v,n.next=66;break;case 59:if(n.prev=59,n.t0=n.catch(31),Ve=Ne(n.t0),v&&(null!==n.t0&&void 0!==n.t0&&null!==(ke=n.t0.graphQLErrors)&&void 0!==ke&&ke.length||null!==n.t0&&void 0!==n.t0&&null!==(we=n.t0.networkError)&&void 0!==we&&null!==(Ze=we.result)&&void 0!==Ze&&null!==(xe=Ze.errors)&&void 0!==xe&&xe.length)&&(null===m||void 0===m||m.info({label:"order-notes",notes:{auth:(0,T.Yw)(N),st:_n,new:!(0,T.PQ)(N),tam:null,psn:me(l,(0,I.xA)(N)),wf:(0,I.IG)(N),savedPaymentInstrument:void 0!==(null===vn||void 0===vn||null===(Be=vn.paymentInstrument)||void 0===Be?void 0:Be.id),statusHint:null===Ve||void 0===Ve?void 0:Ve[0]}})),!(Ye=jn===Jn||jn===zn||C&&v?(0,R.xk)(Ve,u,l,v,f):(0,R.Fn)(Ve,u,f))){n.next=66;break}throw Ye;case 66:return n.prev=66,tn=void 0,n.finish(66);case 69:case"end":return n.stop()}}),n,null,[[31,59,66,69]])})))).apply(this,arguments)}function ve(n,e){return(n===E.iF.PaymentValidated||n===E.iF.PaymentInitialized)&&!e||n===E.iF.PendingAuthentication}function Ee(n){var e,t;return(null===n||void 0===n||null===(e=n.cart)||void 0===e||null===(t=e.cartItems)||void 0===t?void 0:t.some((function(n){var e=n.conflicts;return null===e||void 0===e?void 0:e.some((function(n){return"TRIAL_LIMIT_EXCEEDED"===n.reasonCode}))})))||!1}function me(n,e){return e.map((function(e){var t,r=e.offerId,o=(n.readFragment({id:"PersonalizedOffer:".concat(V.xb.COMMITMENT_VARIANTS,":").concat(r),fragment:$n})||{}).offer;return null===o||void 0===o||null===(t=o.offerContent)||void 0===t?void 0:t.productName}))}function Te(n,e){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=arguments.length>8&&void 0!==arguments[8]&&arguments[8],d=null===n||void 0===n?void 0:n.wallet,s=null===d||void 0===d?void 0:d.submitted,f=null===n||void 0===n||null===(t=n.digitalWallet)||void 0===t?void 0:t.submitted;if(!s&&!f){if(r[W.R.UC_M09]){var p,v=null===d||void 0===d||null===(p=d.paymentForm)||void 0===p?void 0:p.formType;if(v===G.PaymentFormType.DIRECT_DEBIT){var m=(0,K.N)(n,a,v,i);return m?{paymentInstrument:{category:G.PaymentFormType.DIRECT_DEBIT,directDebit:{}}}:{}}}return{}}var T=(null===s||void 0===s?void 0:s.paymentInstrument)||{},_=T.category;if(_===G.PaymentFormType.PAYPAL){var I=T,A=null===I||void 0===I?void 0:I.payerId,C=(0,O.nv)(n);return{paymentInstrument:{category:_,id:null===s||void 0===s?void 0:s.id,paypal:En(En({},(0,N.v)(l,c,C,r)),{},{paypalEmail:e&&A?A:void 0})}}}if(e)switch(_){case G.PaymentFormType.CREDIT:var S=_e(a,i,u,o);if((0,P.l)(n)||(0,P.DR)(n)){var R,y,g,D,L,U=T;if((null===U||void 0===U?void 0:U.digitalWallet)===G.DigitalWallet.APPLE_PAY||(null===U||void 0===U?void 0:U.digitalWallet)===G.DigitalWallet.GOOGLE_PAY)return{paymentInstrument:{category:E.DN.CreditCard,creditCard:{cardAuthentication:S,digitalWallet:null===U||void 0===U?void 0:U.digitalWallet,cardShortNumber:null===f||void 0===f||null===(R=f.paymentInstrument)||void 0===R?void 0:R.cardDisplayLastFourDigits,cardType:null===f||void 0===f||null===(y=f.paymentInstrument)||void 0===y?void 0:y.cardType,cardToken:null===f||void 0===f||null===(g=f.paymentInstrument)||void 0===g?void 0:g.cardToken,cardExpirationMonth:null===f||void 0===f||null===(D=f.paymentInstrument)||void 0===D?void 0:D.cardExpirationMonth,cardExpirationYear:null===f||void 0===f||null===(L=f.paymentInstrument)||void 0===L?void 0:L.cardExpirationYear}}}}var h=T;return{paymentInstrument:{category:_,id:null===s||void 0===s?void 0:s.id,creditCard:{cardAuthentication:S,cardExpirationMonth:null===h||void 0===h?void 0:h.cardExpirationMonth,cardExpirationYear:null===h||void 0===h?void 0:h.cardExpirationYear,cardShortNumber:null===h||void 0===h?void 0:h.cardShortNumber,cardSpan:null===h||void 0===h?void 0:h.cardSpan,cardToken:null===h||void 0===h?void 0:h.cardToken,cardType:null===h||void 0===h?void 0:h.cardType}}};case G.PaymentFormType.DIRECT_DEBIT:var b=T,M=b.bankAccountToken,F=b.bankAccountSapToken;return{paymentInstrument:{category:G.PaymentFormType.DIRECT_DEBIT,id:null===s||void 0===s?void 0:s.id,directDebit:{bankAccountSapToken:F,bankAccountToken:M}}};case E.DN.Offline:var k=T,w=k.offlineType;if(w===G.PaymentFormType.CVS)return{paymentInstrument:{category:E.DN.Offline,id:null===s||void 0===s?void 0:s.id,offline:{offlineType:G.PaymentFormType.CVS}}};if(w===G.PaymentFormType.BANK_TRANSFER)return{paymentInstrument:{category:E.DN.Offline,id:null===s||void 0===s?void 0:s.id,offline:{offlineType:G.PaymentFormType.BANK_TRANSFER}}};if(w===G.PaymentFormType.BOLETO)return{paymentInstrument:{category:E.DN.Offline,id:null===s||void 0===s?void 0:s.id,offline:{offlineType:G.PaymentFormType.BOLETO}}}}}function _e(n,e,t,r){var o;return(0,rn.BG)(n,e)&&null!==r&&void 0!==r&&r.deviceSessionId&&(o={authenticationSessionId:r.deviceSessionId,category:r.vendor,redirectUrl:r.paymentAuthReturnUrl},t===E.iF.PendingAuthentication&&r.transactionId&&(o=En(En({},o),{},{processorTransactionId:r.transactionId}))),o}function Ie(n,e,t,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i={billingContact:{},billingAddress:{}};if(t){var a=(null===n||void 0===n?void 0:n.submitted)||{},u=a.billingContact,l=a.billingAddress;i={billingContact:{lastName:null===u||void 0===u?void 0:u.lastName,firstName:null===u||void 0===u?void 0:u.firstName,pronunciationFirstName:null===u||void 0===u?void 0:u.pronunciationFirstName,pronunciationLastName:null===u||void 0===u?void 0:u.pronunciationLastName,primaryEmail:null===u||void 0===u?void 0:u.primaryEmail,taxId:null===u||void 0===u?void 0:u.taxId,primaryPhone:null===u||void 0===u?void 0:u.primaryPhone},billingAddress:{countryCode:null===l||void 0===l?void 0:l.countryCode,postalCode:null===l||void 0===l?void 0:l.postalCode,stateCode:null===l||void 0===l?void 0:l.stateCode,street1:null===l||void 0===l?void 0:l.street1,city:null===l||void 0===l?void 0:l.city}}}else{var c,d,s,f,p,v,E,m,T,_,I=(null===n||void 0===n?void 0:n.paymentForm)||{},A=I.fields,O=I.selectedPaymentInstrument;if(A&&0!==Object.keys(A).length)i={billingContact:{lastName:null===(c=A.lastName)||void 0===c?void 0:c.value,firstName:null===(d=A.firstName)||void 0===d?void 0:d.value,pronunciationFirstName:null===(s=A.firstNamePronounce)||void 0===s?void 0:s.value,pronunciationLastName:null===(f=A.lastNamePronounce)||void 0===f?void 0:f.value,taxId:null===(p=A.taxId)||void 0===p?void 0:p.value,primaryPhone:null===(v=A.phoneNumber)||void 0===v?void 0:v.value},billingAddress:{countryCode:null===(E=A.country)||void 0===E?void 0:E.value,postalCode:null!==(m=A.postalCode)&&void 0!==m&&m.value?null===(T=A.postalCode)||void 0===T?void 0:T.value:null===O||void 0===O||null===(_=O.billingAddress)||void 0===_?void 0:_.postalCode}};else if(O){var C=O.billingContact,S=O.billingAddress;i={billingContact:{lastName:null===C||void 0===C?void 0:C.lastName,firstName:null===C||void 0===C?void 0:C.firstName,pronunciationFirstName:null===C||void 0===C?void 0:C.pronunciationFirstName,pronunciationLastName:null===C||void 0===C?void 0:C.pronunciationLastName,taxId:null===C||void 0===C?void 0:C.taxId,primaryPhone:null===C||void 0===C?void 0:C.phoneNumber},billingAddress:{countryCode:null===S||void 0===S?void 0:S.countryCode,postalCode:null===S||void 0===S?void 0:S.postalCode}}}}if((o[W.R.UC_I2T_WIZARD]||r)&&e&&0!==Object.keys(e).length){var P,R,N=null===e||void 0===e||null===(P=e.companyName)||void 0===P?void 0:P.value,y=null===e||void 0===e||null===(R=e.businessPhone)||void 0===R?void 0:R.value;N&&(i.billingContact.companyName=N),y&&(i.billingContact.companyPhone=y)}return nn(i)}function Ae(n,e){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e){var i=(null===n||void 0===n?void 0:n.submitted)||{},a=i.billingContact,u=i.billingAddress,l=null===a||void 0===a?void 0:a.lastName;o[W.R.UC_GOOGLE_PAY_PSD2_ENROLLMENT_SUCCESS]?l=F:o[W.R.UC_GOOGLE_PAY_PSD2_ENROLLMENT_FAILURE]?l=k:o[W.R.UC_GOOGLE_PAY_PSD2_VALIDATION_FAILURE]?l=Z:o[W.R.UC_GOOGLE_PAY_PSD2_VALIDATION_SUCCESS]&&(l=w);var c=l!==(null===a||void 0===a?void 0:a.lastName)?"ERROR":null===a||void 0===a?void 0:a.firstName;t={billingContact:{lastName:l,firstName:c,pronunciationFirstName:null===a||void 0===a?void 0:a.pronunciationFirstName,pronunciationLastName:null===a||void 0===a?void 0:a.pronunciationLastName,primaryEmail:null===a||void 0===a?void 0:a.primaryEmail,primaryPhone:r},billingAddress:{countryCode:null===u||void 0===u?void 0:u.countryCode,postalCode:null===u||void 0===u?void 0:u.postalCode,stateCode:null===u||void 0===u?void 0:u.stateCode,street1:null===u||void 0===u?void 0:u.street1,city:null===u||void 0===u?void 0:u.city}}}else if((null===n||void 0===n?void 0:n.paymentType)===v.DigitalPaymentsTypes.APPLE_PAY){var d,s=(null===n||void 0===n?void 0:n.selected)||{},f=s.billingContact;t=f?{billingContact:{lastName:null===f||void 0===f?void 0:f.familyName,firstName:null===f||void 0===f?void 0:f.givenName,pronunciationFirstName:null===f||void 0===f?void 0:f.phoneticGivenName,pronunciationLastName:null===f||void 0===f?void 0:f.phoneticFamilyName,primaryEmail:null===f||void 0===f?void 0:f.emailAddress,primaryPhone:r},billingAddress:{countryCode:null===f||void 0===f?void 0:f.countryCode,postalCode:null===f||void 0===f?void 0:f.postalCode,stateCode:null===f||void 0===f?void 0:f.administrativeArea,street1:null===f||void 0===f||null===(d=f.addressLines)||void 0===d?void 0:d[0],city:null===f||void 0===f?void 0:f.subLocality}}:{}}return nn(t)}function Oe(n,e,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,a.Z)(o().mark((function n(e,t,r){var i,a,u,l,c,d,s,f,p;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u=null===e||void 0===e||null===(i=e.paymentForm)||void 0===i?void 0:i.selectedPaymentInstrument){n.next=6;break}return n.next=4,t.query({query:re,context:r});case 4:f=n.sent,u=null===f||void 0===f||null===(l=f.data)||void 0===l||null===(c=l.user)||void 0===c||null===(d=c.wallet)||void 0===d||null===(s=d.savedPaymentInstruments)||void 0===s?void 0:s[0];case 6:return p={id:null===(a=u)||void 0===a?void 0:a.id,category:E.DN.Saved},n.abrupt("return",p);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Se(n,e){return n.postalCode||(n.postalCode=null===e||void 0===e?void 0:e.postalCode),n.countryCode||(n.countryCode=null===e||void 0===e?void 0:e.countryCode),n}function Pe(n,e){return n.firstName&&n.lastName||(n.firstName=null===e||void 0===e?void 0:e.firstName,n.lastName=null===e||void 0===e?void 0:e.lastName),n}function Re(n,e){var t={cloud:(0,I.Kq)(e),workflow:(0,I.IG)(e),checkoutContext:(0,A.Jj)(e),orderNumber:(0,I.F$)(e),orderId:(0,I.NO)(e)};return n.replace(/\{\{(.*?)}}/g,(function(n,e){return t[e]||""}))}function Ne(n){var e,t,r,o;return null!==n&&void 0!==n&&null!==(e=n.graphQLErrors)&&void 0!==e&&e.length?ie(n.graphQLErrors):null!==n&&void 0!==n&&null!==(t=n.networkError)&&void 0!==t&&null!==(r=t.result)&&void 0!==r&&null!==(o=r.errors)&&void 0!==o&&o.length?ie(n.networkError.result.errors):[n.message]}},41365:function(n,e,t){"use strict";t.d(e,{U:function(){return u}});var r=t(27261),o=t(71439),i=t(98983);function a(){var n=(0,r.Z)(["\n  query GET_VALID_PAYMENT_INSTRUMENTS($paymentsInput: ValidPaymentsInput!) {\n    validPayments(input: $paymentsInput) {\n      ...validPaymentInstruments\n    }\n  }\n  ","\n"]);return a=function(){return n},n}var u=(0,o.gql)(a(),i.N)},47565:function(n,e,t){"use strict";t.d(e,{j:function(){return a},Y:function(){return u}});var r=t(2385),o=t(96029),i=t(36623);function a(n,e){if(e){var t,r=(0,i.PL)(n),a=(0,i.NO)(n),u=(0,o.m5)(n);return r?t=[r]:!a&&u&&(t=[u]),t}}function u(n){var e,t;if(null!==n&&void 0!==n&&n.appliedPromotions){var o=(null===n||void 0===n||null===(e=n.cart)||void 0===e?void 0:e.cartItems)||[],i={};return o.forEach((function(n){null!==n&&void 0!==n&&n.appliedPromotions&&n.appliedPromotions.forEach((function(e){e.status===r.E_.Valid&&(i[e.id]?i[e.id].push(n.offerId):i[e.id]=[n.offerId])}))})),null===(t=n.appliedPromotions)||void 0===t?void 0:t.map((function(n){return{promotionId:n.id,promotionCode:n.promotionCode,status:n.status,appliedOfferIds:i[n.id]||[]}}))}}},62782:function(n,e,t){"use strict";t.d(e,{B:function(){return i},N:function(){return a}});var r=t(41365),o=t(36623);function i(n,e){return!!n&&!!n.find((function(n){return n.type===e||n.category===e}))}function a(n,e,t,a){var u={countryCode:a,offerIds:(0,o.xA)(n).map((function(n){return n.offerId}))},l=e.readQuery({query:r.U,variables:{paymentsInput:u}});return i((null===l||void 0===l?void 0:l.validPayments)||[],t)}},23996:function(n,e,t){"use strict";t.d(e,{e:function(){return r}});var r={DEFAULT_CLOUD:"CREATIVE",DOCUMENT:"DOCUMENT"}},20236:function(n,e,t){"use strict";t.d(e,{e:function(){return r}});var r={AUX_SID_COOKIE:"aux_sid",BUNDLE_SOURCE:"bsrc",CHECKOUT_IN_APP_COOKIE:"ucia",COOKIE_LONG_TTL:"lttl",COOKIE_SHORT_TTL:"sttl",GET_PREVIOUS_PAGE_VALUE:"gpv",IFRAME_DASHBOARD_COOKIE:"ucifd",PRELOAD_COOKIE:"apppl",SMOKE_REGION_COOKIE:"smkRgn",STEP_WIZARD_COOKIE:"sw",SHOW_APPLE_PAY_COOKIE:"sap",SHOW_GOOGLE_PAY_COOKIE:"sgp"}},52176:function(n,e,t){"use strict";var r;t.d(e,{k:function(){return r}}),function(n){n.UNAUTHORIZED="UNAUTHORIZED",n.USER_SWAPPED="USER_SWAPPED",n.CPF_CNPJ_INVALID="CPF_CNPJ_INVALID",n.COUNTRY_INFO_MISMATCH="COUNTRY_INFO_MISMATCH",n.FAILED_PAYER_AUTHENTICATION_REQUIRED="FAILED_PAYER_AUTHENTICATION_REQUIRED",n.TAX_SYSTEM_UNAVAILABLE="TAX_SYSTEM_UNAVAILABLE",n.UNSUPPORTED_PAYMENT_TYPE="UNSUPPORTED_PAYMENT_TYPE",n.PAYPAL_SERVICE_ERROR="PAYPAL_SERVICE_ERROR",n.INVALID_CONCESSION="INVALID_CONCESSION",n.IMS_DOWN="IMS_DOWN",n.ORDER_AUTH_INVALID_IBAN="ORDER_AUTH_INVALID_IBAN",n.ORDER_FAILED_VALIDATION="ORDER_FAILED_VALIDATION",n.ORDER_FAILED_INPUT_VALIDATION="ORDER_FAILED_INPUT_VALIDATION",n.PAYMENT_SYSTEM_UNAVAILABLE="PAYMENT_SYSTEM_UNAVAILABLE",n.PAYMENT_TOKENIZATION_ERROR="PAYMENT_TOKENIZATION_ERROR",n.PURCHASE_INELIGIBLE="PURCHASE_INELIGIBLE",n.SERVICE_ERROR="SERVICE_ERROR",n.TAX_INVALID_ADDRESS="TAX_INVALID_ADDRESS",n.TRIAL_INELIGIBLE="TRIAL_INELIGIBLE",n.TAX_ID_INVALID="TAX_ID_INVALID",n.TAX_ID_CORRECTED="TAX_ID_CORRECTED",n.CART_ITEMS_EMPTY="CART_ITEMS_EMPTY",n.COUNTRY_SERVICE_DOWN="COUNTRY_SERVICE_DOWN",n.INVALID_ORDER_STATUS="INVALID_ORDER_STATUS",n.ORDER_AUTH_INVALID_DATA="ORDER_AUTH_INVALID_DATA",n.ORDER_DB_EXCEPTION="ORDER_DB_EXCEPTION",n.ORDER_NOT_FOUND="ORDER_NOT_FOUND",n.PAYMENT_INIT_FAILED="PAYMENT_INIT_FAILED",n.PAYPAL_COUNTRY_MISMATCH="PAYPAL_COUNTRY_MISMATCH"}(r||(r={}))},99246:function(n,e,t){"use strict";t.d(e,{R:function(){return r}});var r={P_UC_AEM_AUTHOR:"p_uc_aem_author",P_UC_FORCE_IMS_HEALTHY:"p_uc_force_ims_healthy",P_UC_FORCE_IMS_UNHEALTHY:"p_uc_force_ims_unhealthy",P_UC_APP_CONTEXT_LOCAL_DEV:"p_uc_app_context_local_dev",P_UC_PSD2_FAKE_403_FOR_NON_3DS_ORDER:"p_uc_psd2_fake_403_for_non_3ds_order",P_UC_USE_TEST_CAMPAIGNS:"p_uc_use_test_campaigns",UC_040521:"uc_040521",UC_052621:"uc_052621",UC_AEM_PUBLISH:"uc_aem_publish",UC_AUX_SID:"uc_aux_sid",UC_BTS_REDIRECT_UK:"uc_bts_redirect_uk",UC_COMMERCE_CORE_APP_SHELL:"uc_commerce_core_app_shell",UC_DELAY_APP_LOADED:"uc_delay_app_loaded",UC_FLEXIBLE_PROMOTIONS:"uc_flexible_promotions",UC_FLEXIBLE_PROMOTIONS_OVERRIDE:"uc_flexible_promotions_override",UC_I2T:"uc_i2t",UC_I2T_WIZARD:"uc_i2t_wizard",UC_I2T_PES:"uc_i2t_pes",UC_I2T_QA_DELAY:"uc_i2t_qa_delay",UC_I2T_AC_DELAY:"uc_i2t_ac_delay",UC_I2T_FAST_FOLLOW_FEB:"uc_i2t_fast_follow_feb",UC_I2T_FAST_FOLLOW_MARCH:"uc_i2t_fast_follow_march",UC_M08:"uc_m08",UC_M09:"uc_m09",UC_M5:"uc_m5",UC_M5_RTP2:"uc_m5_rtp2",UC_PERSONALIZED_CONTENT:"uc_personalized_content",UC_SUPPORTED_OFFERS:"uc_supported_offers",UC_SUPPORTED_PRODUCT_ARRANGEMENT_CODES:"uc_supported_product_arrangement_codes",UC_SUPPORT_PROMOTIONS:"uc_support_promotions",UC_APPLE_PAY:"uc_apple_pay",UC_FORCE_APPLE_PAY:"uc_force_apple_pay",UC_GOOGLE_PAY:"uc_google_pay",UC_GOOGLE_PAY_PSD2_VALIDATION_FAILURE:"uc_gpay_psd2_validation_failure",UC_GOOGLE_PAY_PSD2_VALIDATION_SUCCESS:"uc_gpay_psd2_validation_success",UC_GOOGLE_PAY_PSD2_ENROLLMENT_FAILURE:"uc_gpay_psd2_enrollment_failure",UC_GOOGLE_PAY_PSD2_ENROLLMENT_SUCCESS:"uc_gpay_psd2_enrollment_success",UC_FORCE_GOOGLE_PAY:"uc_force_google_pay",UC_SWITCH_PLAN_URL_UPDATE:"uc_switch_plan_url_update",UC_CONTENT_LOGGING:"uc_content_logging",UC_FORCE_SEGMENTATION_CHALLENGER:"uc_force_segmentation_challenger",UC_FORCE_ALL_APPS_OPTIMIZATION:"uc_force_all_apps_optimization",UC_FORCE_WALLET_ACCORDION:"uc_force_wallet_accordion",UC_BUG_FIX:"uc_bug_fix",UC_USE_ANALYTICS_STATE_HOOK:"uc_use_analytics_hooks"}},49338:function(n,e,t){"use strict";var r;t.d(e,{L:function(){return r}}),function(n){n[n.SPACEBAR=32]="SPACEBAR",n[n.ENTER=13]="ENTER"}(r||(r={}))},59180:function(n,e,t){"use strict";t.d(e,{xb:function(){return r},ph:function(){return o},_b:function(){return a}});var r,o,i=t(57332);!function(n){n.ADDONS="UC_ADDONS",n.BUNDLES="UC_BUNDLES",n.COMMITMENT_VARIANTS="UC_COMMITMENT_VARIANTS",n.RECOMMENDATION="UC_RECOMMENDATION",n.SEGMENTATION="UC_SEGMENTATION",n.UPSELLS="UC_UPSELLS"}(r||(r={})),function(n){n.ADDONS="UC_INTEGRATIONTESTS_ADDONS",n.BUNDLES="UC_INTEGRATIONTESTS_BUNDLES",n.COMMITMENT_VARIANTS="UC_INTEGRATIONTESTS_COMMITMENT_VARIANTS",n.SEGMENTATION="UC_INTEGRATIONTESTS_SEGMENTATION",n.UPSELLS="UC_INTEGRATIONTESTS_UPSELLS"}(o||(o={}));var a=function(n){switch(n){case i.Z.SEGMENTATION:return r.SEGMENTATION;case i.Z.BUNDLE:return r.BUNDLES;default:return r.COMMITMENT_VARIANTS}}},84248:function(n,e,t){"use strict";var r;t.d(e,{R:function(){return r}}),function(n){n.DEFAULT="DEFAULT",n.PERPETUAL="PERPETUAL",n.TRIAL="TRIAL",n.BASE="BASE",n.PROMOTION="PROMOTION"}(r||(r={}))},90376:function(n,e,t){"use strict";var r;t.d(e,{c:function(){return r}}),function(n){n.TRIAL="trial",n.CHECKOUT="checkout"}(r||(r={}))},68896:function(n,e,t){"use strict";t.d(e,{p:function(){return r}});var r={BEST_VALUE:"BEST_VALUE"}},8703:function(n,e,t){"use strict";var r,o;t.d(e,{v:function(){return r},q:function(){return o}}),function(n){n.EDU="edu",n.INDIVIDUAL="individual",n.TEAM="team",n.TEAM_EDU="teamEdu",n.TRIAL="trial",n.TRIAL_EDU="trialEdu"}(r||(r={})),function(n){n.BUSINESS_TRIAL="businessTrial",n.CHANGE_PLAN="changePlan",n.TEAM_ADMIN="teamAdmin",n.TRIAL_ABUSE="trialAbuse",n.UNSUPPORTED_COUNTRY="unsupportedCountry"}(o||(o={}))},5435:function(n,e,t){"use strict";t.d(e,{Es:function(){return r},AW:function(){return o}});var r="APP:BASIC_SYSTEM_FATAL_ERROR",o="APP:DEFAULT_SYSTEM_FATAL_ERROR";e.ZP={BASIC_SYSTEM_ERROR:r,DEFAULT_SYSTEM_ERROR:o,I2T_SYSTEM_ERROR:"APP:I2T_SYSTEM_FATAL_ERROR",NO_OFFER_FOUND_FATAL_ERROR:"APP:NO_OFFER_FOUND_FATAL_ERROR",SESSION_TIMEOUT_FATAL_ERROR:"APP:SESSION_TIMEOUT_FATAL_ERROR",UNSUPPORTED_COUNTRY_ERROR:"APP:COUNTRY_NOT_SUPPORTED_FATAL_ERROR"}},94797:function(n,e,t){"use strict";t.d(e,{K6:function(){return _},A0:function(){return I},cs:function(){return O},S2:function(){return C},x5:function(){return S}});var r,o=t(26265),i=t(5435),a=t(56746),u=t(69355),l=t(36902),c=t(62482),d=t(49644),s=t(96029),f=t(19291),p=t(98192),v=t(93719);function E(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function m(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?E(Object(t),!0).forEach((function(e){(0,o.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var T=function(){return new a.AppError("System Error",a.ErrorType.FATAL,i.ZP.DEFAULT_SYSTEM_ERROR)},_=function(){return new a.AppError("I2T System Error",a.ErrorType.FATAL,i.ZP.I2T_SYSTEM_ERROR)},I=function(n,e,t){var r,o=(0,u.buildCookies)(),l=e.getState(),d=(0,s.vl)(l);if(null!==t&&void 0!==t&&t.currentRoute)r=t.currentRoute;else{if(!(0,f.Lf)())return T();r=document.location.pathname.split("/")[2]}(0,v.lZ)(o,e,n,{},p.L);var E=(0,c.mr)((0,c.Yj)(r),d),_=(null===t||void 0===t?void 0:t.extensions)||{},I=(null===t||void 0===t?void 0:t.message)||"App: Session Timeout Fatal",A=(null===t||void 0===t?void 0:t.code)||i.ZP.SESSION_TIMEOUT_FATAL_ERROR,O=m(m({},_),{},{contentVariables:{ctaButtonUrl:E}});return new a.AppError(I,a.ErrorType.FATAL,A,O)},A=(r={},(0,o.Z)(r,i.ZP.BASIC_SYSTEM_ERROR,(function(){return new a.AppError("System Error",a.ErrorType.FATAL,i.ZP.BASIC_SYSTEM_ERROR)})),(0,o.Z)(r,i.ZP.DEFAULT_SYSTEM_ERROR,T),(0,o.Z)(r,i.ZP.I2T_SYSTEM_ERROR,_),(0,o.Z)(r,i.ZP.UNSUPPORTED_COUNTRY_ERROR,(function(){return new a.AppError("Unsupported Country",a.ErrorType.FATAL,i.ZP.UNSUPPORTED_COUNTRY_ERROR)})),(0,o.Z)(r,i.ZP.SESSION_TIMEOUT_FATAL_ERROR,I),(0,o.Z)(r,i.ZP.NO_OFFER_FOUND_FATAL_ERROR,d.n),(0,o.Z)(r,"401",I),(0,o.Z)(r,"404",T),(0,o.Z)(r,"500",T),r),O=function(n,e,t,r){return(A[n]||T)(e,t,r)},C=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=(0,l.yC)(n);return(0,l.kc)(i)?O("401",e,t,r):o?void 0:O("500",e,t,r)},S=function(){return{code:"INVALID_LICENSES",type:a.ErrorType.FORM,extensions:{silent:!0}}}},66738:function(n,e,t){"use strict";t.d(e,{I:function(){return r},w:function(){return i}});var r,o=t(56746);function i(){return new o.AppError("Invalid Email",o.ErrorType.FORM,r.INVALID_EMAIL_FORM_ERROR,{silent:!0})}!function(n){n.INVALID_EMAIL_FORM_ERROR="EMAIL:INVALID_EMAIL_FORM_ERROR"}(r||(r={}))},49644:function(n,e,t){"use strict";t.d(e,{n:function(){return o}});var r=t(56746),o=function(){return new r.AppError("Offer Not Found",r.ErrorType.FATAL,"APP:NO_OFFER_FOUND_FATAL_ERROR")}},23239:function(n,e,t){"use strict";t.d(e,{ir:function(){return r},mA:function(){return M},Fn:function(){return F},xk:function(){return k},Kt:function(){return w}});var r,o=t(26265),i=t(56746),a=t(99246),u=t(96029),l=t(65455),c=t(67348),d=t(47565),s=t(94797),f=t(52176),p=t(28361);function v(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function E(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?v(Object(t),!0).forEach((function(e){(0,o.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function m(n){var e=Object.values(f.k);return n.filter((function(n){return e.includes(n)}))[0]}function T(n,e){return n===f.k.IMS_DOWN||n===f.k.TAX_ID_CORRECTED||n===f.k.TAX_SYSTEM_UNAVAILABLE||n===f.k.TAX_ID_INVALID||n===f.k.INVALID_CONCESSION&&e}function _(n,e){var t={analyticsErrorMessage:e,orderCode:e,contentVariables:{learnMoreUrl:(0,l.dm)(n.getState()).learnMoreUrl}};return new i.AppError("Orders: Non Fatal Error",i.ErrorType.NON_FATAL,r.DEFAULT_NON_FATAL_ERROR,t)}function I(n,e){var t={analyticsErrorMessage:e,silent:!0,orderCode:e,contentVariables:{learnMoreUrl:(0,l.dm)(n.getState()).learnMoreUrl}};return new i.AppError("Orders: Non Fatal Error",i.ErrorType.NON_FATAL,r.DEFAULT_NON_FATAL_ERROR,t)}function A(n,e){var t={analyticsErrorMessage:e,silent:!0,orderCode:e,contentVariables:{}};return new i.AppError("Orders: Trial Ineligible Non Fatal Error",i.ErrorType.NON_FATAL,"ORDER:TRIAL_INELIGIBLE",t)}function O(n,e){var t={analyticsErrorMessage:e,orderCode:e,contentVariables:{learnMoreUrl:(0,l.dm)(n.getState()).learnMoreUrl}};return new i.AppError("Orders: Fatal Error",i.ErrorType.FATAL,r.DEFAULT_FATAL_ERROR,t)}function C(n){var e={analyticsErrorMessage:n,orderCode:n,contentVariables:{salesPhoneNumber:""}};return new i.AppError("Orders: Fatal Error",i.ErrorType.FATAL,r.COUNTRY_INFO_MISMATCH_FATAL_ERROR,e)}function S(n,e,t){var o={message:"Orders: Session Timeout Fatal",code:r.SESSION_TIMEOUT_FATAL_ERROR,extensions:{analyticsErrorMessage:t,orderCode:t}};return(0,s.A0)(e,n,o)}function P(n,e){var t={analyticsErrorMessage:e,orderCode:e,contentVariables:{}};return(0,c.l)(n.getState())?_(n,e):new i.AppError("Orders: Tax Invalid Address Non Fatal Error",i.ErrorType.NON_FATAL,r.TAX_INVALID_ADDRESS_NON_FATAL_ERROR,t)}function R(n){var e={analyticsErrorMessage:n,orderCode:n,persistError:!0,allowPurchase:!0,contentVariables:{}};return new i.AppError("Orders: Tax System Unavailable Non Fatal",i.ErrorType.NON_FATAL,r.TAX_SYSTEM_UNAVAILABLE_NON_FATAL_ERROR,e)}function N(n){var e={analyticsErrorMessage:n,orderCode:n,contentVariables:{}};return new i.AppError("Orders: Unsupported Payment Type Non Fatal",i.ErrorType.NON_FATAL,r.UNSUPPORTED_PAYMENT_TYPE_NON_FATAL_ERROR,e)}function y(n,e){var t={analyticsErrorMessage:e,orderCode:e,contentVariables:{learnMoreUrl:(0,l.dm)(n.getState()).learnMoreUrl}};return new i.AppError("Orders PSD2: Payer Authentication Required",i.ErrorType.NON_FATAL,r.FAILED_PAYER_AUTHENTICATION_REQUIRED_NON_FATAL_ERROR,t)}function g(n){var e={analyticsErrorMessage:n,orderCode:n};return new i.AppError("PayPal Failure",i.ErrorType.NON_FATAL,r.PAYMENT_INIT_FAILED_NON_FATAL_ERROR,e)}function D(n){var e={analyticsErrorMessage:n,orderCode:n,silent:!0};return new i.AppError("PayPal Country Mismatch Failure",i.ErrorType.FATAL,r.PAYPAL_COUNTRY_MISMATCH_FATAL_ERROR,e)}function L(n,e){var t,r=n.getState();return(null===(t=(0,c.Ve)(r))||void 0===t?void 0:t.formType)===p.PaymentFormType.DIRECT_DEBIT?O(n,e):_(n,e)}function U(n,e){var t={analyticsErrorMessage:e,orderCode:e,contentVariables:{learnMoreUrl:(0,l.dm)(n.getState()).learnMoreUrl}};return new i.AppError("Orders: Payment System Unavailable",i.ErrorType.NON_FATAL,r.DEFAULT_NON_FATAL_ERROR,t)}function h(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.getState(),l=(0,d.j)(o,!0),c=(0,u.m5)(o),s=null!==l&&void 0!==l&&l.length?l[0]:c,f={analyticsErrorMessage:"".concat(e,":").concat(s),orderCode:e,silent:!!t[a.R.UC_FLEXIBLE_PROMOTIONS_OVERRIDE]};return new i.AppError("Promotion Code is Invalid",i.ErrorType.NON_FATAL,r.INVALID_CONCESSION,f)}function b(n,e,t,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=m(n);if(!T(i,r))switch(i){case f.k.UNAUTHORIZED:case f.k.USER_SWAPPED:return S(e,t,i);case f.k.PAYMENT_INIT_FAILED:return g(i);case f.k.PAYPAL_COUNTRY_MISMATCH:return D(i);case f.k.COUNTRY_INFO_MISMATCH:return C(i);case f.k.TAX_INVALID_ADDRESS:return P(e,i);case f.k.UNSUPPORTED_PAYMENT_TYPE:return N(i);case f.k.FAILED_PAYER_AUTHENTICATION_REQUIRED:return y(e,i);case f.k.PURCHASE_INELIGIBLE:return I(e,i);case f.k.TRIAL_INELIGIBLE:return A(0,i);case f.k.INVALID_CONCESSION:return h(e,i,o);case f.k.SERVICE_ERROR:return L(e,i);case f.k.PAYMENT_SYSTEM_UNAVAILABLE:return U(e,i);case f.k.CART_ITEMS_EMPTY:case f.k.COUNTRY_SERVICE_DOWN:case f.k.INVALID_ORDER_STATUS:case f.k.ORDER_AUTH_INVALID_DATA:case f.k.ORDER_DB_EXCEPTION:case f.k.ORDER_NOT_FOUND:return O(e,i);case f.k.ORDER_FAILED_INPUT_VALIDATION:case f.k.ORDER_AUTH_INVALID_IBAN:case f.k.ORDER_FAILED_VALIDATION:default:return _(e,i)}}function M(n,e){switch(n){case f.k.PAYMENT_INIT_FAILED:return g(n);case f.k.PAYPAL_COUNTRY_MISMATCH:return D(n);case f.k.SERVICE_ERROR:return function(n){var e={analyticsErrorMessage:n,orderCode:f.k.PAYPAL_SERVICE_ERROR,originalOrderCode:n,silent:!0};return new i.AppError("PayPal Get Details Failure",i.ErrorType.FATAL,r.PAYPAL_GET_DETAILS_FAILED_FATAL_ERROR,e)}(n);default:return _(e,n)}}function F(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=m(n);return r===f.k.TAX_SYSTEM_UNAVAILABLE?R(r):r===f.k.INVALID_CONCESSION?h(e,r,t):void 0}function k(n,e,t,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return b(n,e,t,r,o)}function w(n){return E(E({},n),{},{extensions:E(E({},n.extensions),{},{silent:!1})})}!function(n){n.COUNTRY_INFO_MISMATCH_FATAL_ERROR="ORDER:COUNTRY_INFO_MISMATCH_FATAL_ERROR",n.CPF_CNPJ_INVALID_NON_FATAL_ERROR="ORDER:CPF_CNPJ_INVALID_NON_FATAL_ERROR",n.DEFAULT_NON_FATAL_ERROR="ORDER:DEFAULT_NON_FATAL_ERROR",n.DEFAULT_FATAL_ERROR="ORDER:DEFAULT_FATAL_ERROR",n.FAILED_PAYER_AUTHENTICATION_REQUIRED_NON_FATAL_ERROR="ORDER:FAILED_PAYER_AUTHENTICATION_REQUIRED_NON_FATAL_ERROR",n.INVALID_CONCESSION="ORDER:INVALID_CONCESSION_NON_FATAL_ERROR",n.KDV_INN_INVALID_NON_FATAL_ERROR="ORDER:KDV_INN_INVALID_NON_FATAL_ERROR",n.PAYPAL_COUNTRY_MISMATCH_FATAL_ERROR="ORDER:PAYPAL_COUNTRY_MISMATCH_FATAL_ERROR",n.PAYMENT_INIT_FAILED_NON_FATAL_ERROR="ORDER:PAYMENT_INIT_FAILED_NON_FATAL_ERROR",n.RVAT_INN_INVALID_NON_FATAL_ERROR="ORDER:RVAT_INN_INVALID_NON_FATAL_ERROR",n.SESSION_TIMEOUT_FATAL_ERROR="ORDER:SESSION_TIMEOUT_FATAL_ERROR",n.PAYPAL_GET_DETAILS_FAILED_FATAL_ERROR="ORDER:PAYPAL_GET_DETAILS_FAILED_FATAL_ERROR",n.TAX_INVALID_ADDRESS_NON_FATAL_ERROR="ORDER:TAX_INVALID_ADDRESS_NON_FATAL_ERROR",n.TAX_INVALID_ID_NON_FATAL_ERROR="ORDER:TAX_INVALID_ID_NON_FATAL_ERROR",n.TAX_SYSTEM_UNAVAILABLE_NON_FATAL_ERROR="ORDER:TAX_SYSTEM_UNAVAILABLE_NON_FATAL_ERROR",n.UNSUPPORTED_PAYMENT_TYPE_NON_FATAL_ERROR="ORDER:UNSUPPORTED_PAYMENT_TYPE_NON_FATAL_ERROR"}(r||(r={}))},41681:function(n,e,t){"use strict";t.d(e,{$M:function(){return f},Fy:function(){return p},qd:function(){return v},qE:function(){return E},ft:function(){return m},ki:function(){return o},Q0:function(){return _}});var r,o,i=t(26265),a=t(59831),u=t(20544),l={local:"https://ims-na1-stg1.adobelogin.com",stage:"https://ims-na1-stg1.adobelogin.com",production:"https://ims-na1.adobelogin.com"},c={local:"https://adobeid-na1-stg1.services.adobe.com",stage:"https://adobeid-na1-stg1.services.adobe.com",production:"https://adobeid-na1.services.adobe.com"},d={local:"https://auth-stg1.services.adobe.com",stage:"https://auth-stg1.services.adobe.com",production:"https://auth.services.adobe.com"},s=["account_cluster.read","additional_info.authenticatingAccount","additional_info.roles","additional_info.vat_id","AdobeID","openid","sao.stock","update_profile.countryCode","bis.read.pan","bis.read.pi"].join(",");function f(n){return(0,a.Pi)(n)}function p(){return l[(0,u.D)()]}function v(){return c[(0,u.D)()]}function E(){return d[(0,u.D)()]}function m(n){return{domain:p(),clientId:f(n),scopes:s,state:{ac:"commerce.adobe.com"}}}!function(n){n.BUSINESS_TRIAL="BUSINESS_TRIAL",n.UNIFIED_CHECKOUT_V2="UNIFIED_CHECKOUT_V2"}(o||(o={}));var T=(r={},(0,i.Z)(r,o.BUSINESS_TRIAL,{clientId:"commerce_apps_amsterdam_client",scopes:["AdobeID","openid","read_organizations","additional_info.roles"].join(",")}),(0,i.Z)(r,o.UNIFIED_CHECKOUT_V2,{clientId:"unified_checkout_client",scopes:["AdobeID","openid,sao.stock","additional_info.roles","additional_info.vat_id","additional_info.dob","update_profile.countryCode","additional_info.authenticatingAccount","account_cluster.read"].join(",")}),r);function _(n){return T[n||o.UNIFIED_CHECKOUT_V2]}},52253:function(n,e,t){"use strict";t.d(e,{_F:function(){return l},RC:function(){return c},ps:function(){return d},U9:function(){return s},Fp:function(){return f},g2:function(){return p},$k:function(){return o},ss:function(){return i},yi:function(){return v},tO:function(){return E}});var r,o,i,a=t(26265),u=t(8703),l={ANNUAL:"ANNUAL",CART:"digitalData.cart",DEFAULT_SEGMENT:"defaultPod",PRIMARY_EVENT_NAME:"digitalData.primaryEvent.eventInfo.eventName",PRIMARY_USER:"digitalData.primaryUser",SELECTED_SEGMENT:"selectedPod",YEAR:"YEAR"},c={EVENT_LINK_TYPE:"event",EVENT_STATE_TYPE:"state"},d={ADD:"Add",ADD_MORE_PRODUCTS:"AddMoreProducts",ADDED:"Added",ADDITIONAL_OFFER:"AdditionalOffer",ADDITIONAL_PRODUCT:"AdditionalProduct",BACK:"Back",BANNER_SWITCH_OFFER_CLICK_EVENT_NAME:"Banner:SwitchOffer",BANNER_SWITCH_OFFER_CLICK_EVENT_ACTION:"Banner:SwitchOffer:Click",BUY_NOW_BANNER_CLICK:"BuyNowBanner:Click",BUY_NOW_BANNER:"BuyNow",CHANGE_COUNTRY:"ChangeCountry",CANCEL:"Cancel",CHECKOUT_MODAL_CLOSE_CLICK:"CheckoutModalClose:Click",CHECKOUT_MODAL_CLOSE_ACTION:"CheckoutModalClose:Click",CLICK:"Click",CONTACT_US_CLICK:"OrderConfirmation:ContactUs:Click",CONTINUE:"Continue",CONTINUE_LINK:"ContinueLink",COMPLETE_PURCHASE_WEB:"CompletePurchaseWeb",COUNTRY_CHANGE:"CountryChange",DOWNLOAD_NOW_CLICK:"OrderConfirmation:DownloadNow:Click",EXPLORE_NAME:"Explore",FATAL_ERROR:"FatalError",GET_STARTED:"GetStarted",GET_STARTED_CLICK:"OrderConfirmation:GetStarted:Click",ITEM_REMOVED:"Item Removed",LEARN_MORE_CLICK:"Subscription:LearnMore:click",LEARN_MORE_ACTION:"SubscriptionLearnMore",LOAD:"onLoad",MODAL:"Modal",NOT_NOW:"NotNow",ON_BANNER_CLOSE_NAME:"onBannerClose",ON_BANNER_CLOSE_ACTION:"onBannerClose:Click",OPEN_NAME:"Open",PAYPAL_ACCOUNT_CANCEL:"PayPalAccountCancel",PAYPAL_ACCOUNT_CONTINUE:"PayPalAccountContinue",PLAN_PICK_ROUTE:"PlanPick",PRIVACY_POLICY_CLICK:"Footer:PrivacyPolicy:Click",PRIVACY_POLICY_ACTION:"PrivacyPolicy",PROFILE_MENU:"AccountIcon",REMOVE:"Remove",REMOVED:"Removed",REVIEW_ADDITIONAL_PRODUCT:"ReviewAdditionProduct",SEGMENTATION_TAB:"Pod",SEGMENTATION_TAB_CLICK:"SegmentPod:Click",SEGMENTATION_TAB_INDIVIDUAL:"Individual",SEGMENTATION_TAB_SCHOOL_UNIVERSITY:"SchoolUniversities",SEGMENTATION_TAB_STUDENTS_TEACHERS:"StudentsTeachers",SEGMENTATION_TAB_TEAM:"Teams",SELECT:"Select",SET_PASSWORD_CLICK:"OrderConfirmation:SetPassword:Click",SIGNIN_CLICK_EVENT_NAME:"SignIn",SIGNIN_CLICK_EVENT_ACTION:"SignIn:click",START_TRIAL:"StartFreeTrial",SUBSCRIBE:"AgreeAndSubscribe",SUBSCRIPTION:"Subscription",TERMS_OF_USE_CLICK:"Footer:TermsOfUse:Click",TERMS_OF_USE_ACTION:"TermsOfUse",TRY_NOW_BANNER_CLICK:"TryNowBanner:Click",TRY_NOW_BANNER:"TryNow",UPDATE:"Update",UPGRADE:"Upgrade",UPGRADE_PLAN:"UpgradeSelectPlan",VERIFICATION:"Verification"},s={APP_IDENTIFIER:"digitalData.unifiedCheckout.appIdentifierForUC",CART_ADD_TO_LOCATION:"digitalData.unifiedCheckout.cartAddToLocation",CHECKOUT_FLOW_TYPE:"digitalData.unifiedCheckout.checkoutFlowType",PREVIOUS_PAGE_BEFORE_UC:"digitalData.previousPage.pageInfo.pageName"},f={ADOBE_COM:"commerce.adobe.com",ADOBE_ID:"@AdobeID",ANYWARE_CHECKOUT:"AnywareCheckout",APP_VERSION_IN_APP:"UCv3 \u2013 in App",APP_VERSION_WEB:"UCv3 \u2013 web",AUTH_STATE_AUTHENTICATED:"authenticated",AUTH_STATE_LOGGED_OUT:"loggedOut",BEST_VALUE:"Best Value",CART:"Cart",CART_ATTR_EDITABLE:"Editable",CART_ITEM_REMOVED:"Cart Item Removed",CART_UPDATED:"Cart Updated",CUSTOMER_RETURNING_STATUS_NEW:"New",CUSTOMER_RETURNING_STATUS_RETURNING:"Repeat",CUSTOMER_TYPE_NEW:"New Customer",CUSTOMER_TYPE_RETURNING:"Returning Customer",LOGIN_ENTRY_DIRECT_ADOBE_ID:"DirectAdobeID",LOGIN_ENTRY_DIRECT_PAYPAL:"DirectPayPal",LOGIN_ENTRY_EMAIL_CONTINUE:"EmailContinue",MONTHLY_PAID_MONTHLY:"MonthlyPaidMonthly",PAGE_ACADEMIC:"Academic",PAGE_CONFIRMATION:"Confirmation",PAGE_EMAIL:"Email",PAGE_PAYMENT:"Payment",PAGE_SEGMENTATION:"GetStarted:Segmentation",PAGE_COMMITMENT:"Commitment",PAGE_RECOMMENDATION:"Upgrade:Recommendation",PAGE_BUNDLE:"Bundle",PAGE_ADDON:"Addon",PAGE_UPGRADE_PLAN:"UpgradePlan",PAGE_PRICE_TAX_LOAD:"PriceTax_OnLoad",TWP_CHANNEL_IN_APP:"InApp",TWP_CHANNEL_WEB:"Web",TWP_BUY:"Buy",TWP_TRY:"Try",WORKFLOW_EDU:"EDU",WORKFLOW_INDIVIDUAL:"Individual",WORKFLOW_TEAM:"Team",WORKFLOW_TEAM_EDU:"EDU:Team",YEARLY_PAID_MONTHLY:"YearlyPaidMonthly",YEARLY_PAID_UPFRONT:"YearlyPaidUpfront"},p={ERROR_CODE_DELIMITER:";",EVENTS_DELIMITER:",",MARKETING_PERMISSION_DELIMITER:"-",PROP_DELIMITER:":",QUANTITY_LIST_DELIMITER:"|",SKU_DELIMITER:";"};!function(n){n.MONTH="Month",n.YEAR="Year"}(o||(o={})),function(n){n.MONTHLY="Monthly",n.ANNUAL="Yearly"}(i||(i={}));var v=(r={},(0,a.Z)(r,u.v.INDIVIDUAL,"Individual"),(0,a.Z)(r,u.v.EDU,"Students and Teachers"),(0,a.Z)(r,u.v.TEAM,"Teams"),r),E={TYPE1:"type1",TYPE2:"type2",TYPE2E:"type2e",TYPE3:"type3"}},298:function(n,e,t){"use strict";t.d(e,{il:function(){return F},LD:function(){return V},B2:function(){return K},um:function(){return z},kl:function(){return J},Nf:function(){return en},K8:function(){return tn},Yd:function(){return dn},lG:function(){return sn},W6:function(){return pn}});var r=t(26265),o=t(35487),i=t.n(o),a=t(27361),u=t.n(a),l=t(41609),c=t.n(l),d=t(82492),s=t.n(d),f=t(37244),p=t.n(f),v=t(52253),E=t(2385),m=t(20236),T=t(36623),_=t(41681),I=t(65455),A=t(57663),O=t(96029),C=t(61792),S=t(97127),P=t(24817),R=t(84248),N=t(68896),y=t(56),g=t(8703);function D(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function L(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?D(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var U={analytics:{actionBlockId:"",campaignId:"",containerId:"",controlGroupId:"",treatmentId:"",variationId:""},commitment:"",currency:{code:""},customerSegment:"",marketSegment:"",offerId:"",offerPrice:{displayPriceWithoutTax:0,discountedUnitPriceWithTax:0,discountedUnitPriceWithoutTax:0,unitPriceWithTax:0,unitPriceWithoutTax:0},offerType:"",processingInstructions:{trialReminderDays:0},productArrangement:{cloud:"",code:"",family:""},promotion:{promotionTerm:"",promotionTermValue:""},term:""},h="",b=[],M=function(n){return"change-plan"===(0,O.vl)(n)[p().app.STARTING_STEP.name]||S.Z4.some((function(n){return n.valueOf()===h}))},F=function(n){b=n},k=function(n){return(0,C.PQ)(n)?v.Fp.CUSTOMER_RETURNING_STATUS_RETURNING:v.Fp.CUSTOMER_RETURNING_STATUS_NEW},w=function(n,e){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=[];e&&o.push(e);var i=null===n||void 0===n||null===(t=n.personalizedContent)||void 0===t?void 0:t.containerAnalytics;return i&&(o=o.concat(i)),r&&(o=o.concat(r)),o},Z=function(n,e){var t,r,o=(0,T.FP)(e),i=(0,O.vl)(e),a=null===o||void 0===o||null===(t=o.cart)||void 0===t?void 0:t.cartItems.find((function(e){return n===e.offerId})),u=i[p().app.APPLIED_PROMOTION_CODE.name];return(null===a||void 0===a||null===(r=a.appliedPromotions)||void 0===r?void 0:r.map((function(n){return{promoCode:n.id,promoName:n.promotionCode,promoValid:"".concat((null===n||void 0===n?void 0:n.status)===E.E_.Valid),promoAutoApproved:"".concat(u===n.promotionCode)}})))||[]},x=function(n){var e;null!==(e=window)&&void 0!==e&&e.digitalData&&(window.digitalData.product=null);var t=function(n){var e=(0,T.fq)(n),t=M(n);return 0===(null===e||void 0===e?void 0:e.length)&&t?b:e}(n);return null===t||void 0===t?void 0:t.map((function(e){var t,r,o,i,a,u,l,c,d,s=(null===e||void 0===e?void 0:e.offer)||(0,T.rL)(e);return{productInfo:{description:null===s||void 0===s||null===(t=s.offerContent)||void 0===t||null===(r=t.productDescription)||void 0===r?void 0:r.plaintext,offerId:null===s||void 0===s?void 0:s.id,productName:null===s||void 0===s||null===(o=s.offerContent)||void 0===o?void 0:o.productName,commitment:null===s||void 0===s?void 0:s.commitment,term:null===s||void 0===s?void 0:s.term,productArrangementCode:null===s||void 0===s?void 0:s.productArrangementCode,offerType:null===s||void 0===s?void 0:s.offerType},promoInfo:Z(e.offerId,n),quantity:null===e||void 0===e?void 0:e.quantity,price:{basePrice:H(s,null===e||void 0===e?void 0:e.quantity),discountedUnitPriceWithTax:null===s||void 0===s||null===(i=s.offerPrice)||void 0===i?void 0:i.discountedUnitPriceWithTax,discountedUnitPriceWithoutTax:null===s||void 0===s||null===(a=s.offerPrice)||void 0===a?void 0:a.discountedUnitPriceWithoutTax,unitPriceWithTax:null===s||void 0===s||null===(u=s.offerPrice)||void 0===u?void 0:u.unitPriceWithTax,unitPriceWithoutTax:null===s||void 0===s||null===(l=s.offerPrice)||void 0===l?void 0:l.unitPriceWithoutTax},attributes:{promotionTerm:null===s||void 0===s||null===(c=s.promotion)||void 0===c?void 0:c.promotionTerm,promotionTermValue:null===s||void 0===s||null===(d=s.promotion)||void 0===d?void 0:d.promotionTermValue}}}))},Y=function(n){var e=null===n||void 0===n?void 0:n.serviceAccounts;return null===e||void 0===e?void 0:e.map((function(n){return{serviceCode:n.serviceCode,serviceLevel:n.serviceLevel,serviceStatus:n.serviceStatus}}))},V=function(n){var e,t,r,o,i,a,u,l,c,d,s,f,p,v,E,m,_,I,A,O;null!==n&&void 0!==n&&null!==(e=n.analytics)&&void 0!==e&&e.actionBlockId&&(U.analytics.actionBlockId=null===n||void 0===n||null===(E=n.analytics)||void 0===E?void 0:E.actionBlockId,U.analytics.campaignId=null===n||void 0===n||null===(m=n.analytics)||void 0===m?void 0:m.campaignId,U.analytics.containerId=null===n||void 0===n||null===(_=n.analytics)||void 0===_?void 0:_.containerId,U.analytics.controlGroupId=null===n||void 0===n||null===(I=n.analytics)||void 0===I?void 0:I.controlGroupId,U.analytics.treatmentId=null===n||void 0===n||null===(A=n.analytics)||void 0===A?void 0:A.treatmentId,U.analytics.variationId=null===n||void 0===n||null===(O=n.analytics)||void 0===O?void 0:O.variationId);U.commitment=null===n||void 0===n?void 0:n.commitment,U.currency.code=null===n||void 0===n||null===(t=n.currency)||void 0===t?void 0:t.code,U.customerSegment=null===n||void 0===n?void 0:n.customerSegment,U.marketSegment=null===n||void 0===n||null===(r=n.marketSegments)||void 0===r?void 0:r[0],U.offerId=null===n||void 0===n?void 0:n.id,U.offerPrice.displayPriceWithoutTax=(0,T.rp)(null===n||void 0===n?void 0:n.offerPrice,null===n||void 0===n?void 0:n.offerType),U.offerPrice.discountedUnitPriceWithTax=null===n||void 0===n||null===(o=n.offerPrice)||void 0===o?void 0:o.discountedUnitPriceWithTax,U.offerPrice.discountedUnitPriceWithoutTax=null===n||void 0===n||null===(i=n.offerPrice)||void 0===i?void 0:i.discountedUnitPriceWithoutTax,U.offerPrice.unitPriceWithTax=null===n||void 0===n||null===(a=n.offerPrice)||void 0===a?void 0:a.unitPriceWithTax,U.offerPrice.unitPriceWithoutTax=null===n||void 0===n||null===(u=n.offerPrice)||void 0===u?void 0:u.unitPriceWithoutTax,U.offerType=null===n||void 0===n?void 0:n.offerType,U.productArrangement.cloud=null===n||void 0===n||null===(l=n.productArrangement)||void 0===l?void 0:l.cloud,U.productArrangement.code=(null===n||void 0===n||null===(c=n.productArrangement)||void 0===c?void 0:c.code)||(null===n||void 0===n?void 0:n.productArrangementCode),U.productArrangement.family=(null===n||void 0===n||null===(d=n.productArrangement)||void 0===d?void 0:d.family)||(null===n||void 0===n||null===(s=n.offerContent)||void 0===s?void 0:s.productName),U.promotion.promotionTerm=null===n||void 0===n||null===(f=n.promotion)||void 0===f?void 0:f.promotionTerm,U.promotion.promotionTermValue=null===n||void 0===n||null===(p=n.promotion)||void 0===p?void 0:p.promotionTermValue,U.term=null===n||void 0===n?void 0:n.term,U.processingInstructions.trialReminderDays=null===n||void 0===n||null===(v=n.processingInstructions)||void 0===v?void 0:v.trialReminderDays},B=function(){var n,e=null!==(n=window)&&void 0!==n&&n.digitalData?u()(window.digitalData,v.U9.PREVIOUS_PAGE_BEFORE_UC):"",t=i()().get(m.e.GET_PREVIOUS_PAGE_VALUE),r="";return t?r=t:c()(e)||(r=e),r},G=function(n,e){var t,r,o,i=(null===n||void 0===n?void 0:n.offerType)===R.R.TRIAL?v.Fp.TWP_TRY:v.Fp.TWP_BUY;e||(null===n||void 0===n?void 0:n.offerType)!==R.R.TRIAL||(null===n||void 0===n?void 0:n.customerSegment)!==E.op.Team?t="".concat(null===n||void 0===n||null===(r=n.promotion)||void 0===r?void 0:r.promotionTermValue," ").concat(null===n||void 0===n||null===(o=n.promotion)||void 0===o?void 0:o.promotionTerm):t="7 DAY";var a=v.Fp.TWP_CHANNEL_WEB;return[i,i===v.Fp.TWP_TRY?t:void 0,a].filter(Boolean).join(v.g2.QUANTITY_LIST_DELIMITER)},j=function(n){return(0,C.PQ)(n)?v.Fp.AUTH_STATE_AUTHENTICATED:v.Fp.AUTH_STATE_LOGGED_OUT},W=function(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e?"".concat(v.g2.PROP_DELIMITER,"Upgrade"):"",r=null===n||void 0===n?void 0:n.marketSegment;return e&&!r&&(r="COM"),"".concat(null===n||void 0===n?void 0:n.customerSegment).concat(v.g2.PROP_DELIMITER).concat(r).concat(t)},H=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=(0,T.rp)(null===n||void 0===n?void 0:n.offerPrice,null===n||void 0===n?void 0:n.offerType),r=t*e;return r},q=function(n,e){var t,r,o,i,a,u,l,c,d,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,m=(0,C.et)(n),_=(0,O.vl)(n),A=(0,T.fq)(n),S="cc_desktop"===_[p().app.CLIENT_ID.name]&&_[p().app.CTX.name]===p().app.CTX.values.APP,P=M(n),R=P?null===A||void 0===A||null===(t=A[A.length-1])||void 0===t?void 0:t.quantity:1,N=P?{cartAddToLocation:B()}:{},y={};void 0!==s&&(y=s?{ucTestVersion:"Challenger"}:{ucTestVersion:"Control"});var g={};void 0!==f&&(g=f?{ucTestVersionGP:"Challenger-Google"}:{ucTestVersionGP:"Control-Google"});var D=null===U||void 0===U||null===(r=U.offerPrice)||void 0===r?void 0:r.displayPriceWithoutTax;return{unifiedCheckout:L(L(L({previousPageToUC:S?"CCD:Apps":B(),twpParameters:G(U,e),checkoutFlowtype:W(U,P),appIdentifierForUC:cn(n),ucAppVersion:rn(n),isUCIdentifiedAdobeID:on(n),cartLoginEntryDetail:an(n),accountType:un(n)},N),y),g),sophiaResponse:{fromPage:w(n,null===U||void 0===U?void 0:U.analytics,E)},primaryUser:{primaryProfile:{profileInfo:{profileID:null===m||void 0===m?void 0:m.userId,returningStatus:k(n),authState:j(n),adobeIMSUserProfile:{account_type:null===m||void 0===m?void 0:m.accountType,countryCode:null===m||void 0===m?void 0:m.countryCode,preferred_languages:null===m||void 0===m?void 0:m.preferredLanguages,serviceAccounts:Y(m)},customerMarketPermission:null===(o=(0,C.et)(n))||void 0===o?void 0:o.mrktPerm,marketingPermission:null===(i=(0,C.et)(n))||void 0===i?void 0:i.mrktPerm}}},page:{pageInfo:{pageName:Q(h),siteSection:v.Fp.ANYWARE_CHECKOUT,language:(0,I.Im)(n)}},primaryProduct:{productInfo:{description:(null===U||void 0===U||null===(a=U.productArrangement)||void 0===a?void 0:a.cloud)||null,offerId:null===U||void 0===U?void 0:U.offerId,productName:(null===U||void 0===U||null===(u=U.productArrangement)||void 0===u?void 0:u.family)||null,commitmentType:null===U||void 0===U?void 0:U.commitment,billingFrequency:null===U||void 0===U?void 0:U.term,productCode:(null===U||void 0===U||null===(l=U.productArrangement)||void 0===l?void 0:l.code)||null,customerSegment:null===U||void 0===U?void 0:U.customerSegment,marketSegment:null===U||void 0===U?void 0:U.marketSegment},promoInfo:Z(null===U||void 0===U?void 0:U.offerId,n),quantity:R,price:{basePrice:D*R,currency:null===U||void 0===U||null===(c=U.currency)||void 0===c?void 0:c.code}},product:x(n),currency:{code:null===U||void 0===U||null===(d=U.currency)||void 0===d?void 0:d.code},ims:{client:{clientID:ln(n)}},form:{primary:{formInfo:{phoneNumberSet:(0,I.mD)(n)}}},cart:{cartAttribute:(0,C.PQ)(n)?v.Fp.CART_ATTR_EDITABLE:void 0,customerOrderID:(0,T.NO)(n)}}},K=function(n,e,t){var r,o,i,a,u,l,c,d,s,f,p=(0,T.fq)(n);M(n)?(o=null===p||void 0===p||null===(a=p[p.length-1])||void 0===a?void 0:a.offerId,i=(null===p||void 0===p||null===(u=p[p.length-1])||void 0===u||null===(l=u.offerVariants)||void 0===l?void 0:l.offers)||[]):(o=null===p||void 0===p||null===(c=p[0])||void 0===c?void 0:c.offerId,i=(null===p||void 0===p||null===(d=p[0])||void 0===d||null===(s=d.offerVariants)||void 0===s?void 0:s.offers)||[]);for(var v=0;v<i.length;v++){var E,m=null===(E=i[v])||void 0===E?void 0:E.offer;if((null===m||void 0===m?void 0:m.id)===o){f=m;break}}V(f),X(n,[]),null!==(r=window)&&void 0!==r&&r.digitalData&&$(n,e,t)},$=function(n,e,t){var r=function(n,e){switch(n){case"REMOVE_ITEM":var t=pn("".concat(v.Fp.CART,":").concat(v.ps.ITEM_REMOVED),v.Fp.CART_ITEM_REMOVED);return s()(window.digitalData,q(e,void 0),t);case"SET_TAX_ID_SUPPORTED":var r=z(v.Fp.PAGE_PRICE_TAX_LOAD);return s()(window.digitalData,q(e,void 0),r);case"UPDATE_ORDER":var o=pn("".concat(v.Fp.CART,":").concat(v.ps.UPDATE),v.Fp.CART_UPDATED);return s()(window.digitalData,q(e,void 0),o)}}(t,n);(0,y.lj)(r,!0,e)},X=function(n,e){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;null!==(t=window)&&void 0!==t&&t.digitalData&&(window.digitalData=s()(window.digitalData,q(n,e,r,o)))},Q=function(n){var e=n.replace(/\//g,":");return e=e?"".concat(e,":"):"","".concat(v.Fp.ADOBE_COM,":").concat(v.Fp.ANYWARE_CHECKOUT,":").concat(e).concat(v.ps.LOAD)},z=function(n){return n?(h=n,{page:{pageInfo:{pageName:Q(n)}}}):{}},J=function(n,e,t,r,o,i,a,u){var l;return{transaction:{purchaseOrderStatus:n,trialEndDate:e,orderNumber:t,orderProductNames:r,orderCommitments:o,total:{currency:i},revenueFromOrder:a,paymentMethod:u,product:null!==(l=window)&&void 0!==l&&l.digitalData?window.digitalData.product:[]}}},nn=function(n){return{unifiedCheckout:{flowTypeAttributes:n}}},en=function(n,e,t,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:void 0;V(n),X(t,i,u,l);var d=s()(q(t,i,u,l,c),e,o);return a&&(h=a,d.page.pageInfo.pageName=Q(a)),d},tn=function(n,e,t,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:void 0;h=a;var c=en(n,e,t,r,o,i,a,u,l);(0,y.lj)(c,!0,r===v.RC.EVENT_LINK_TYPE)},rn=function(n){var e=(0,O.vl)(n)[p().app.CTX.name];return(0,P.Z0)(e)?v.Fp.APP_VERSION_IN_APP:v.Fp.APP_VERSION_WEB},on=function(n){return(0,C.PQ)(n)?v.Fp.CUSTOMER_TYPE_RETURNING:v.Fp.CUSTOMER_TYPE_NEW},an=function(n){return(0,A.l6)(n)?v.Fp.LOGIN_ENTRY_DIRECT_PAYPAL:(0,C.PQ)(n)?v.Fp.LOGIN_ENTRY_DIRECT_ADOBE_ID:v.Fp.LOGIN_ENTRY_EMAIL_CONTINUE},un=function(n){var e=(0,C.et)(n),t=null===e||void 0===e?void 0:e.accountType,r=null===e||void 0===e?void 0:e.countryCode;switch(t){case v.tO.TYPE1:case v.tO.TYPE2:case v.tO.TYPE2E:case v.tO.TYPE3:return"".concat(t,":").concat(r);default:return"default"}},ln=function(n){var e=(0,O.vl)(n)[p().app.CTX.name];return(0,_.$M)(e)},cn=function(n){var e;return null!==(e=(0,O.vl)(n)[p().app.APPCTXID.name])&&void 0!==e?e:""},dn=function(n,e){var t,o,i,a=(null===n||void 0===n||null===(t=n.offer)||void 0===t?void 0:t.customerSegment)||"",u=(null===n||void 0===n||null===(o=n.offer)||void 0===o?void 0:o.marketSegments)||[],l=a===E.op.Team,c=u.includes(E.ii.Edu);i=l?c?g.v.TEAM_EDU:g.v.TEAM:c?g.v.EDU:g.v.INDIVIDUAL;var d=v.yi[i];return nn((0,r.Z)({},e?v._F.DEFAULT_SEGMENT:v._F.SELECTED_SEGMENT,d))},sn=function(n,e){var t,r,o=n||{},i=o.commitment,a=o.term;return nn(e?{defaultSubscriptionPlan:v.$k[i],defaultBillingFrequency:v.ss[a],bannerInfo:fn(n||{}),productName:(null===n||void 0===n||null===(t=n.offerContent)||void 0===t?void 0:t.productName)||"",productArrangementCode:(null===n||void 0===n?void 0:n.productArrangementCode)||""}:{selectedSubscriptionPlan:v.$k[i],selectedBillingFrequency:v.ss[a],bannerInfo:fn(n||{}),productName:(null===n||void 0===n||null===(r=n.offerContent)||void 0===r?void 0:r.productName)||"",productArrangementCode:(null===n||void 0===n?void 0:n.productArrangementCode)||""})},fn=function(n){var e=n.commitment,t=n.term,r=n.tags,o=(null===r||void 0===r?void 0:r.includes(N.p.BEST_VALUE))?v.Fp.BEST_VALUE:"",i=t===v._F.ANNUAL?v.Fp.YEARLY_PAID_UPFRONT:v.Fp.YEARLY_PAID_MONTHLY;return{bannerName:o,bannerCommitmentType:e===v._F.YEAR?i:v.Fp.MONTHLY_PAID_MONTHLY}},pn=function(n,e){var t=(new Date).toISOString(),r={primaryEvent:{eventInfo:{eventName:null,eventAction:null,timeStamp:t,start:t,end:t}},event:[{eventInfo:{eventName:null,eventAction:null,timeStamp:t,start:t,end:t}}]};return n&&(r.primaryEvent.eventInfo.eventName=n,r.event[0].eventInfo.eventName=n),e&&(r.primaryEvent.eventInfo.eventAction=e,r.event[0].eventInfo.eventAction=e),r}},54589:function(n,e,t){"use strict";t.d(e,{F:function(){return s},y:function(){return f}});var r=t(37244),o=t.n(r),i=t(73864),a=t(11051),u=t(41681),l=t(62482),c=t(97803),d=o().app.CTX.values,s=new Map([[d.APP,a.CommerceAppContextIds.IN_APP],[d.FULLPAGE,a.CommerceAppContextIds.IN_WEB],[d.IFRAME,a.CommerceAppContextIds.IN_IFRAME]]),f=function(n,e){var t=d.APP,r="".concat(i.APP_FULL_PATH,"/").concat(n),o=(0,l.mr)(r,e),s="".concat(o).concat("&nglims=1");return{errorCode:a.ErrorCode.SESSION_TIMEOUT,targetUrl:o,unauthTargetUrl:s,targetImsClientId:c.$.UNIFIED_CHECKOUT_CLIENT_APP,targetImsScope:(0,u.ft)(t).scopes,targetResponseType:"token"}}},90325:function(n,e,t){"use strict";t.d(e,{V$:function(){return p},LR:function(){return v},IG:function(){return E},QK:function(){return m},Mo:function(){return T},eD:function(){return _},Zv:function(){return I},mJ:function(){return A},Xx:function(){return O},it:function(){return C},W1:function(){return S},qj:function(){return R}});var r=t(18446),o=t.n(r),i=t(78718),a=t.n(i),u=t(37244),l=t.n(u),c=t(2385),d=t(8703);function s(n,e){var t;if("undefined"===typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"===typeof n)return f(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(n,e)}(n))||e&&n&&"number"===typeof n.length){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return a=n.done,n},e:function(n){u=!0,i=n},f:function(){try{a||null==t.return||t.return()}finally{if(u)throw i}}}}function f(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function p(n,e){var t,r,o,i=l().app,a=i.MARKET_SEGMENT,u=n[i.CUSTOMER_SEGMENT.name]||c.op.Individual,d=n[a.name],s=e.find((function(n){var e,t;return(null===n||void 0===n||null===(e=n.offer)||void 0===e?void 0:e.customerSegment)===u&&(null===n||void 0===n||null===(t=n.offer)||void 0===t?void 0:t.marketSegments.includes(d))}));return(null===s||void 0===s||null===(t=s.offer)||void 0===t?void 0:t.id)||(null===(r=e[0])||void 0===r||null===(o=r.offer)||void 0===o?void 0:o.id)}var v=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.find((function(e){var t;return(null===e||void 0===e||null===(t=e.offer)||void 0===t?void 0:t.id)===n}))},E=function(n){var e,t=(null===n||void 0===n?void 0:n.customerSegment)===c.op.Team,r=null===n||void 0===n||null===(e=n.marketSegments)||void 0===e?void 0:e.includes(c.ii.Edu);return t?r?d.v.TEAM_EDU:d.v.TEAM:r?d.v.EDU:d.v.INDIVIDUAL},m=function(n){return null===n||void 0===n?void 0:n.includes("INCLUSIVE")},T=function(n){if(null!==n&&void 0!==n&&n.showTaxDisclaimer)return null===n||void 0===n?void 0:n.taxTerm};function _(n){return!(null===n||void 0===n||!n.offers.find((function(n){return n.offer.offerType===c.m_.Promotion})))}function I(n){var e;return null===n||void 0===n||null===(e=n.offers.find((function(n){return n.offer.offerType===c.m_.Promotion})))||void 0===e?void 0:e.offer.pricePoint}function A(n){var e,t=[{commitment:c.y3.Year,term:c.A2.Annual,offerType:c.m_.Promotion},{commitment:c.y3.Year,term:c.A2.Monthly,offerType:c.m_.Base},{commitment:c.y3.Month,term:c.A2.Monthly,offerType:c.m_.Base}],r=!0,i=s(n.offers);try{var u=function(){var n=e.value,i=a()(n.offer,["commitment","term","offerType"]);if(!(r=!!t.find((function(n){return o()(n,i)}))))return"break"};for(i.s();!(e=i.n()).done;){if("break"===u())break}}catch(l){i.e(l)}finally{i.f()}return r}function O(n){var e=0;return n.offers.forEach((function(n){var t,r;(null===n||void 0===n||null===(t=n.offer)||void 0===t||null===(r=t.offerPrice)||void 0===r?void 0:r.percentDiscount)>e&&(e=n.offer.offerPrice.percentDiscount)})),e||void 0}function C(n,e,t){var r;return null===n||void 0===n||null===(r=n.offers)||void 0===r?void 0:r.find((function(n){var r,o;return(null===n||void 0===n||null===(r=n.offer)||void 0===r?void 0:r.commitment)===e&&(null===n||void 0===n||null===(o=n.offer)||void 0===o?void 0:o.term)===t}))}function S(n){var e,t=null===n||void 0===n||null===(e=n.result)||void 0===e?void 0:e[0],r=(null===t||void 0===t?void 0:t.offers)||[];return{data:{sourceIntent:null===n||void 0===n?void 0:n.sourceIntent,sourceOffer:P(null===t||void 0===t?void 0:t.sourceOffer),offers:r.map((function(n){return P(n.offer)}))}}}function P(n){return a()(n,["analytics","id","commitment","term","language","offerType","offerPriceDisplay","platform","customerSegment","marketSegments","pricePoint"])}function R(n){return{data:n.map((function(n){return{sourceIntent:n.segmentationOffer.sourceIntent,sourceOffer:P(n.segmentationOffer.offer),offers:n.bundleOffers.map((function(n){return{sourceIntent:n.sourceIntent,offers:P(n.offer)}}))}}))}}},97094:function(n,e,t){"use strict";t.d(e,{BG:function(){return O},TW:function(){return C},rR:function(){return S},g4:function(){return P},oN:function(){return R},ah:function(){return y}});var r=t(809),o=t.n(r),i=t(92447),a=t(27261),u=t(71439),l=t(99246),c=t(86695),d=t(67348),s=t(67294),f=t(44325),p=t(28361),v=t(276),E=t(5764);function m(){var n=(0,a.Z)(["\n  fragment PaymentAuthOrderFragment on Order {\n    paymentInstrument {\n      ... on CreditCardPaymentInstrument {\n        cardAuthentication {\n          challengeWindowSize\n          stepUpToken\n          versionOf3Ds\n        }\n      }\n    }\n    status\n  }\n"]);return m=function(){return n},n}function T(){var n=(0,a.Z)(["\n  fragment PaymentAuthCountryFragment on Country {\n    strongCustomerAuthenticationLive\n    strongCustomerAuthenticationRequired\n  }\n"]);return T=function(){return n},n}var _=(0,u.gql)(T()),I=(0,u.gql)(m()),A="psd2",O=function(n,e){var t,r=n.readFragment({id:"Country:".concat(e),fragment:_});return null!==(t=(null===r||void 0===r?void 0:r.strongCustomerAuthenticationLive)&&(null===r||void 0===r?void 0:r.strongCustomerAuthenticationRequired))&&void 0!==t&&t},C=function(n,e){return n.readFragment({id:"Order:".concat(e),fragment:I})},S=function(){return(0,s.useRef)()};function P(n,e,t,r){var o=null===n||void 0===n?void 0:n.paymentInstrument,i=null===o||void 0===o?void 0:o.cardAuthentication,a=null===i||void 0===i?void 0:i.challengeWindowSize,u=t?f.PaymentAuthComponentVariant.TRIAL_PURCHASE:f.PaymentAuthComponentVariant.DIRECT_TO_PAID_PURCHASE;e.current.showDialog(null===i||void 0===i?void 0:i.stepUpToken,a,u),r.info({label:A,psdAuthInfo:{challengeWindowSizeId:a,versionOf3Ds:null===i||void 0===i?void 0:i.versionOf3Ds}},"psd2 auth info")}function R(n){return N.apply(this,arguments)}function N(){return(N=(0,i.Z)(o().mark((function n(e){var t,r,i,a,u,s,f,v,E,m,T,_,I;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=e.apolloClient,a=e.country,u=e.featureFlags,s=e.logger,f=e.store,v=e.storeState,E=void 0===v?f.getState():v,m=null===(t=(0,d.uM)(E))||void 0===t||null===(r=t.paymentInstrument)||void 0===r?void 0:r.category,T=m===p.PaymentFormType.CREDIT||m===p.PaymentFormType.GOOGLE_PAY,!(u[l.R.UC_M09]&&O(i,a)&&T)){n.next=12;break}if(s.info({label:"psd2"},"psd2 order requires device collection"),null===(_=(0,c.A)(E))||void 0===_||!_.deviceSessionId){n.next=9;break}s.info({label:A},"psd2 device session id retrieved prior to order placement"),n.next=12;break;case 9:return n.next=11,new Promise((function(n){return setTimeout(n,2e3)}));case 11:s.info({label:A},null!==(I=(0,c.A)(f.getState()))&&void 0!==I&&I.deviceSessionId?"psd2 device session id retrieved after waiting":"psd2 device collection timed out or failed");case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var y=function(){var n=(0,E.R_)().setLoading,e=(0,v.useSelector)(c.A);(0,s.useEffect)((function(){!e||e.isDialogOpen||e.transactionId||n(!1)}),[e,n])}},13403:function(n,e,t){"use strict";t.d(e,{v:function(){return l},w:function(){return s}});var r=t(37244),o=t.n(r),i=t(99246),a=t(62482),u=t(57332);function l(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(r[i.R.UC_COMMERCE_CORE_APP_SHELL]){var l=t||c(n,e);return d(l)}var s=e?u.Z.TEAMS_PLAN_PAYMENT:u.Z.PAYMENT,f=(0,a.Yj)(s),p=(0,a.mr)(f,n),v=o().app.PAYPAL;return{returnUrl:"".concat(p,"&").concat(v.name,"=").concat(v.values.ACCEPT),cancelUrl:"".concat(p,"&").concat(v.name,"=").concat(v.values.CANCEL)}}function c(n,e){var t=e?u.Z.TEAMS_PLAN_PAYMENT:u.Z.PAYMENT,r=(0,a.Yj)(t),i=(0,a.mr)(r,n),l=n[o().app.CTX.name]===o().app.CTX.values.APP,c=(0,a.tl)(n,u.Z.PAYPAL);return l?c:i}function d(n){var e=n.indexOf("?")>-1?"&":"?",t=o().app.PAYPAL;return{returnUrl:"".concat(n).concat(e).concat(t.name,"=").concat(t.values.ACCEPT),cancelUrl:"".concat(n).concat(e).concat(t.name,"=").concat(t.values.CANCEL)}}function s(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o().app.PAYPAL,i=(0,a.Yj)(u.Z.PAYMENT),l=(0,a.mr)(i,t);return"".concat(l,"&").concat(r.name,"=").concat(r.values.ACCEPT,"&token=").concat(e,"&oId=").concat(n)}},93719:function(n,e,t){"use strict";t.d(e,{zl:function(){return I},O4:function(){return A},$v:function(){return O},RJ:function(){return C},lZ:function(){return P}});var r=t(27261),o=t(26265),i=t(71439),a=t(73864),u=t(11426),l=t(20236),c=t(19547),d=t(36623),s=t(96029),f=t(62482),p=t(61792);function v(){var n=(0,r.Z)(["\n  fragment CurrentOrderNonceFragment on Order {\n    nonce\n  }\n"]);return v=function(){return n},n}function E(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}var m=604800;function T(n,e,t,r){n.set(t,e,c.CookieTypes.REQUIRED,{maxAge:r,secure:!0,path:a.APP_FULL_PATH,sameSite:"None"})}function _(n,e){var t=e.cartItems,r=e.email,i=e.emailStatus,a=e.isAuthenticated,u=e.orderNonce,c=e.paramsToAdd,d=e.paramsToRemove,s=e.queryParams,p=e.bundleSource;!function(n,e){var t=e.cartItems,r=e.paramsToAdd,o=e.paramsToRemove,i=e.queryParams,a=(0,f.O5)(i,t,r,o);!function(n,e){T(n,e,l.e.COOKIE_LONG_TTL,m)}(n,{query:a})}(n,{cartItems:t,paramsToAdd:c,paramsToRemove:d,queryParams:s}),function(n,e){var t=e.email,r=e.emailStatus,o=e.isAuthenticated,i=e.orderNonce;if(!o&&t&&r){!function(n,e){T(n,e,l.e.COOKIE_SHORT_TTL,3600)}(n,i?{email:t,emailStatus:r,orderNonce:i}:{email:t,emailStatus:r})}}(n,{email:r,emailStatus:i,isAuthenticated:a,orderNonce:u}),function(n,e){e&&T(n,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?E(Object(t),!0).forEach((function(e){(0,o.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}({},e),l.e.BUNDLE_SOURCE,m)}(n,p)}function I(n){return n.get(l.e.COOKIE_SHORT_TTL)||{}}function A(n){return n.get(l.e.BUNDLE_SOURCE)}function O(n){var e={path:a.APP_FULL_PATH};n.remove(l.e.BUNDLE_SOURCE,e)}function C(n){var e={path:a.APP_FULL_PATH};n.remove(l.e.COOKIE_LONG_TTL,e),n.remove(l.e.COOKIE_SHORT_TTL,e)}var S=(0,i.gql)(v());function P(n,e,t,r,o){var i=e.getState(),a=(0,d.fq)(i),l=(0,d.NO)(i),c=(0,p.et)(i),f=c.email,v=c.emailStatus,E=(0,p.PQ)(i),m=(0,s.vl)(i);_(n,{cartItems:a,email:f,emailStatus:v,isAuthenticated:E,orderNonce:function(n,e,t){if(e&&!t){var r=n.readFragment({id:"Order:".concat(e),fragment:S});return null===r||void 0===r?void 0:r.nonce}}(t,l,E),paramsToAdd:r,paramsToRemove:o,queryParams:m,bundleSource:(0,u.o6)(i)})}},41899:function(n,e,t){"use strict";t.d(e,{T:function(){return r}});var r=(0,t(34937).defineContents)("BundlePageContent",{pageTitle:{id:"pageTitle",type:"string",placeholderContent:"{ type, select,\n      DAY {Pick a plan - your first {trialTerm, plural, =1 {day is} other {# days are}} free.}\n      WEEK {Pick a plan - your first {trialTerm, plural, =1 {week is} other {# weeks are}} free.}\n      MONTH {Pick a plan - your first {trialTerm, plural, =1 {month is} other {# months are}} free.}\n      other {Pick a plan.}\n    }"},buttonContinue:{id:"buttonContinue",type:"string",placeholderContent:"Continue"},buttonBack:{id:"buttonBack",type:"string",placeholderContent:"Back"}})},9556:function(n,e,t){"use strict";t.d(e,{up:function(){return f},d7:function(){return p},DA:function(){return v}});var r=t(27261),o=t(30480),i=t(71439),a=t(90376),u=t(59180);function l(){var n=(0,r.Z)(["\n  query GET_BUNDLE_DATA($offersInput: PersonalizedOffersInput!) {\n    bundleOffers(input: $offersInput) {\n      ...BundleOffers\n    }\n  }\n  ","\n"]);return l=function(){return n},n}function c(){var n=(0,r.Z)(["\n  query GET_BUNDLE_PAGE_DATA($offersInput: PersonalizedOffersInput!) {\n    bundleOffers(input: $offersInput) {\n      ...BundleOffers\n      resolvedSourceOfferIds @client\n      sourceIntent\n    }\n  }\n  ","\n"]);return c=function(){return n},n}function d(){var n=(0,r.Z)(["\n  fragment BundleOffers on BundleOffersResult {\n    result {\n      offers {\n        offer {\n          customerSegment\n          marketSegments\n          commitment\n          currency {\n            code\n            delimiterValue\n            formatString\n            precision\n            symbol\n          }\n          id\n          analytics {\n            actionBlockId\n            campaignId\n            containerId\n            controlGroupId\n            treatmentId\n            variationId\n          }\n          appliedPromotions {\n            ...AppliedPromotionFields\n          }\n          materialId\n          offerContent {\n            backgroundImageUrl\n            fulfillableItems {\n              code\n              description\n              displayCategory\n              iconUrl\n              name\n            }\n            marketingValues\n            productName\n            productIconUrls\n          }\n          offerPriceDisplay {\n            displayUnitPrice\n            displayBaseUnitPrice\n            priceDisplay\n            showTaxDisclaimer\n            taxTerm\n          }\n          offerType\n          pricePoint\n          processingInstructions {\n            trial {\n              trialReminderEnabled\n              trialReminderDays\n            }\n          }\n          productArrangement {\n            cloud\n          }\n          productArrangementCode\n          promotion {\n            promotionTerm\n            promotionTermEndDate\n            promotionTermValue\n            promotionType\n          }\n          tags\n          term\n        }\n        sourceIntent\n      }\n      sourceOfferId\n      sourceOffer {\n        id\n        currency {\n          code\n          delimiterValue\n          formatString\n          precision\n          symbol\n        }\n        productArrangementCode\n      }\n    }\n  }\n  ","\n"]);return d=function(){return n},n}var s=(0,i.gql)(d(),o.Q),f=(0,i.gql)(c(),s),p=(0,i.gql)(l(),s);function v(n){var e=n.country,t=n.locale,r=n.offerIds,o=n.userId,i=n.clientId,l=n.svar,c=n.promotionCodes,d=n.useTestCampaign;return{offersInput:{clientId:i,country:e,locale:t,sourceOfferIds:r,sourceIntent:void 0!==d&&d?u.ph.BUNDLES:void 0,svar:l,promotionCodes:c,userId:o,processingInstructions:[a.c.TRIAL]}}}},11426:function(n,e,t){"use strict";t.d(e,{o6:function(){return E},tT:function(){return m},x0:function(){return T},Nt:function(){return _},Nk:function(){return I}});var r,o,i=t(26265),a=t(93719),u=t(19291),l=t(12510),c=t(67294),d=t(69355);function s(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function f(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?s(Object(t),!0).forEach((function(e){(0,i.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}!function(n){n.CLEAR_BUNDLE_SOURCE_OFFER="CLEAR_BUNDLE_SOURCE_OFFER",n.SET_BUNDLE_SOURCE_OFFER="SET_BUNDLE_SOURCE_OFFER",n.SET_IS_BUNDLE_OFFER_SELECTED="SET_IS_BUNDLE_OFFER_SELECTED"}(o||(o={}));var p="bundleSource",v=(r={},(0,i.Z)(r,o.CLEAR_BUNDLE_SOURCE_OFFER,(function(n,e,t){return f(f({},t),{},{sourceOfferId:"",sourceProductName:"",isBundleOfferSelected:!1})})),(0,i.Z)(r,o.SET_BUNDLE_SOURCE_OFFER,(function(n,e,t){return f(f({},t),{},{sourceOfferId:e.id,sourceProductName:e.name})})),(0,i.Z)(r,o.SET_IS_BUNDLE_OFFER_SELECTED,(function(n,e,t){return f(f({},t),{},{isBundleOfferSelected:e.isBundleOfferSelected})})),r),E=function(n){return n.bundleSource},m=function(n){var e;return null===(e=n.bundleSource)||void 0===e?void 0:e.sourceOfferId},T=function(n){var e;return null===(e=n.bundleSource)||void 0===e?void 0:e.sourceProductName},_=function(n){var e,t;return null!==(e=null===(t=n.bundleSource)||void 0===t?void 0:t.isBundleOfferSelected)&&void 0!==e&&e},I=function(){var n=(0,d.useCookies)(),e=(0,a.O4)(n),t=(0,l.useStore)(),r=(0,l.useStoreSlice)(p,v,null!==e&&void 0!==e?e:{sourceOfferId:"",sourceProductName:"",isBundleOfferSelected:!1}).dispatch;return e&&E(t.getState())&&(0,u.Lf)()&&(0,a.$v)(n),{clearBundleSourceOffer:(0,c.useCallback)((function(){r({type:o.CLEAR_BUNDLE_SOURCE_OFFER})}),[r]),setBundleSourceOffer:(0,c.useCallback)((function(n,e){r({type:o.SET_BUNDLE_SOURCE_OFFER,id:n,name:e})}),[r]),setIsBundleOfferSelected:(0,c.useCallback)((function(n){r({type:o.SET_IS_BUNDLE_OFFER_SELECTED,isBundleOfferSelected:n})}),[r])}}},33482:function(n,e,t){"use strict";t.d(e,{R:function(){return o},M:function(){return i}});var r=t(41899);function o(n){var e,t;return((null===n||void 0===n||null===(e=n.result)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.offers)||[]).map((function(n){return n.offer}))}function i(n,e,t){var o,i,a=e.find((function(e){return e.id===n})),u=(null===a||void 0===a||null===(o=a.promotion)||void 0===o?void 0:o.promotionTerm)||"",l=(null===a||void 0===a||null===(i=a.promotion)||void 0===i?void 0:i.promotionTermValue)||0;return t.format(r.T.pageTitle,{type:u,trialTerm:l})}},44890:function(n,e,t){"use strict";t.d(e,{hA:function(){return E},Yu:function(){return m},yz:function(){return T},y3:function(){return _},Mw:function(){return I}});var r=t(26265),o=t(27261),i=t(71439),a=t(2385),u=t(90376),l=t(59180);function c(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function d(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?c(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function s(){var n=(0,o.Z)(["\n  query GET_RECOMMENDATION_PAGE_DATA_AFTER_AUTH(\n    $addonOffersInput: PersonalizedOffersInput!\n    $upsellOffersInput: PersonalizedOffersInput!\n  ) {\n    addonOffers(input: $addonOffersInput) {\n      ...AddonOffers\n    }\n    upsellOffers(input: $upsellOffersInput) {\n      ...UpsellOffers\n    }\n  }\n  ","\n  ","\n"]);return s=function(){return n},n}function f(){var n=(0,o.Z)(["\n  fragment RecommendationRepresentativeOffer on PersonalizedOffer {\n    offer {\n      offerType\n      marketSegments\n      customerSegment\n      promotion {\n        promotionTerm\n        promotionTermValue\n      }\n      processingInstructions {\n        trial {\n          trialReminderEnabled\n          trialReminderDays\n        }\n      }\n    }\n  }\n"]);return f=function(){return n},n}function p(){var n=(0,o.Z)(["\n  fragment UpsellOffers on UpsellOffersResult {\n    result {\n      offers {\n        comparedWithSourcePrice {\n          annualDeltaWithoutTax\n          annualDeltaWithTax\n          monthlyDeltaWithoutTax\n          monthlyDeltaWithTax\n        }\n        offer {\n          commitment\n          currency {\n            code\n            delimiterValue\n            formatString\n            precision\n            symbol\n          }\n          id\n          analytics {\n            actionBlockId\n            campaignId\n            containerId\n            controlGroupId\n            treatmentId\n            variationId\n          }\n          materialId\n          offerContent {\n            backgroundImageUrl\n            ctas {\n              actionLabel {\n                json\n              }\n              id\n              label\n            }\n            fulfillableItems {\n              code\n              description\n              displayCategory\n              iconUrl\n              name\n            }\n            productDescription {\n              json\n            }\n            productIconUrls\n            productName\n            productTitle {\n              json\n            }\n          }\n          offerPriceDisplay {\n            displayUnitPrice\n            priceDisplay\n            showTaxDisclaimer\n            taxTerm\n          }\n          promotion {\n            promotionTerm\n            promotionTermValue\n          }\n          offerType\n          productArrangementCode\n          term\n          tncCode\n        }\n        sourceIntent\n      }\n      sourceOfferId\n      sourceOffer {\n        offerContent {\n          productName\n        }\n      }\n    }\n    sourceIntent\n  }\n"]);return p=function(){return n},n}function v(){var n=(0,o.Z)(["\n  fragment AddonOffers on AddonOffersResult {\n    result {\n      offers {\n        offer {\n          commitment\n          currency {\n            code\n            delimiterValue\n            formatString\n            precision\n            symbol\n          }\n          id\n          analytics {\n            actionBlockId\n            campaignId\n            containerId\n            controlGroupId\n            treatmentId\n            variationId\n          }\n          materialId\n          offerContent {\n            ctas {\n              actionLabel {\n                json\n              }\n              id\n              label\n            }\n            productDescription {\n              json\n            }\n            productIconUrls\n            productName\n            productTitle {\n              json\n            }\n          }\n          offerPriceDisplay {\n            displayUnitPrice\n            priceDisplay\n            showTaxDisclaimer\n            taxTerm\n          }\n          processingInstructions {\n            trial {\n              trialReminderDays\n            }\n          }\n          promotion {\n            promotionTerm\n            promotionTermValue\n          }\n          offerType\n          productArrangementCode\n          term\n          tncCode\n        }\n        sourceIntent\n      }\n      sourceOfferId\n    }\n    sourceIntent\n  }\n"]);return v=function(){return n},n}var E=(0,i.gql)(v()),m=(0,i.gql)(p()),T=(0,i.gql)(f()),_=(0,i.gql)(s(),E,m);function I(n){var e=n.country,t=n.locale,r=n.offerIds,o=n.userId,i=n.clientId,c=n.svar,s=n.promotionCodes,f=n.useTestCampaign,p={country:e,locale:t,sourceOfferIds:r,userId:o,clientId:i,svar:c,promotionCodes:s,processingInstructions:[u.c.TRIAL]};return{addonOffersInput:d(d({},p),{},{sourceIntent:f?l.ph.ADDONS:void 0}),upsellOffersInput:d(d({},p),{},{sourceIntent:f?l.ph.UPSELLS:void 0}),segmentInput:a.ii.Com}}},22965:function(n,e,t){"use strict";t.d(e,{j_:function(){return f},WC:function(){return p},tH:function(){return v},VQ:function(){return m}});var r=t(27261),o=t(30480),i=t(71439),a=t(2385),u=t(84248),l=t(90376),c=t(59180);function d(){var n=(0,r.Z)(["\n  query GET_SEGMENTATION_BUNDLE_PAGE_DATA(\n    $code: String!\n    $country: String!\n    $locale: String!\n    $offerType: OfferType\n    $bundleSourceIntent: String\n    $segmentationSourceIntent: String\n    $userId: String\n    $clientId: String\n    $svar: String\n    $marketSegmentAltPriceInput: PersonalizedOffersInput!\n    $segmentInput: String!\n    $processingInstructions: [String!]\n  ) {\n    segmentationBundleOffers(\n      input: {\n        code: $code\n        country: $country\n        locale: $locale\n        offerType: $offerType\n        bundleSourceIntent: $bundleSourceIntent\n        segmentationSourceIntent: $segmentationSourceIntent\n        userId: $userId\n        clientId: $clientId\n        svar: $svar\n        processingInstructions: $processingInstructions\n      }\n    ) {\n      id\n      segmentationOffer {\n        sourceIntent\n        offer {\n          id\n          analytics {\n            actionBlockId\n            campaignId\n            containerId\n            controlGroupId\n            treatmentId\n            variationId\n          }\n          commitment\n          customerSegment\n          currency {\n            code\n            delimiterValue\n            formatString\n            precision\n            symbol\n          }\n          marketSegmentAltPrice(\n            input: $marketSegmentAltPriceInput\n            marketSegment: $segmentInput\n          ) {\n            offerPriceDisplay {\n              displayUnitPrice\n            }\n          }\n          marketSegments\n          materialId\n          offerContent {\n            backgroundImageUrl\n            fulfillableItems {\n              code\n              description\n              displayCategory\n              iconUrl\n              name\n            }\n            productDescription {\n              plainText\n              json\n            }\n            productIconUrls\n            productName\n          }\n          offerPriceDisplay {\n            displayUnitPrice\n            displayBaseUnitPrice\n            priceDisplay\n            showTaxDisclaimer\n            taxTerm\n          }\n          offerType\n          processingInstructions {\n            trial {\n              trialReminderEnabled\n              trialReminderDays\n            }\n          }\n          productArrangement {\n            cloud\n            code\n            family\n          }\n          productArrangementCode\n          promotion {\n            promotionTerm\n            promotionTermValue\n          }\n          term\n        }\n      }\n      bundleOffers {\n        sourceIntent\n        sourceOfferId\n        offer {\n          customerSegment\n          marketSegments\n          commitment\n          currency {\n            code\n            delimiterValue\n            formatString\n            precision\n            symbol\n          }\n          id\n          analytics {\n            actionBlockId\n            campaignId\n            containerId\n            controlGroupId\n            treatmentId\n            variationId\n          }\n          materialId\n          offerContent {\n            backgroundImageUrl\n            fulfillableItems {\n              code\n              description\n              displayCategory\n              iconUrl\n              name\n            }\n            marketingValues\n            productName\n            productIconUrls\n          }\n          offerPriceDisplay {\n            displayUnitPrice\n            displayBaseUnitPrice\n            priceDisplay\n            showTaxDisclaimer\n            taxTerm\n          }\n          offerType\n          pricePoint\n          processingInstructions {\n            trial {\n              trialReminderEnabled\n              trialReminderDays\n            }\n          }\n          productArrangement {\n            cloud\n          }\n          productArrangementCode\n          promotion {\n            promotionTerm\n            promotionTermEndDate\n            promotionTermValue\n            promotionType\n          }\n          tags\n          term\n        }\n      }\n    }\n  }\n"]);return d=function(){return n},n}function s(){var n=(0,r.Z)(["\n  query GET_SEGMENTATION_PAGE_DATA(\n    $code: String!\n    $country: String!\n    $locale: String!\n    $offerType: OfferType\n    $sourceIntent: String\n    $userId: String\n    $clientId: String\n    $promotionCodes: [String!]\n    $svar: String\n    $marketSegmentAltPriceInput: PersonalizedOffersInput!\n    $segmentInput: String!\n  ) {\n    segmentationOffers(\n      input: {\n        code: $code\n        country: $country\n        locale: $locale\n        offerType: $offerType\n        sourceIntent: $sourceIntent\n        userId: $userId\n        clientId: $clientId\n        promotionCodes: $promotionCodes\n        svar: $svar\n      }\n    ) {\n      sourceIntent\n      result {\n        offers {\n          offer {\n            id\n            analytics {\n              actionBlockId\n              campaignId\n              containerId\n              controlGroupId\n              treatmentId\n              variationId\n            }\n            appliedPromotions {\n              ...AppliedPromotionFields\n            }\n            commitment\n            customerSegment\n            currency {\n              code\n              delimiterValue\n              formatString\n              precision\n              symbol\n            }\n            marketSegmentAltPrice(\n              input: $marketSegmentAltPriceInput\n              marketSegment: $segmentInput\n            ) {\n              offerPriceDisplay {\n                displayUnitPrice\n              }\n            }\n            marketSegments\n            materialId\n            offerContent {\n              backgroundImageUrl\n              fulfillableItems {\n                code\n                description\n                displayCategory\n                iconUrl\n                name\n              }\n              productDescription {\n                plainText\n                json\n              }\n              productIconUrls\n              productName\n            }\n            offerPriceDisplay {\n              displayUnitPrice\n              displayBaseUnitPrice\n              priceDisplay\n              showTaxDisclaimer\n              taxTerm\n            }\n            offerType\n            processingInstructions {\n              trial {\n                trialReminderEnabled\n                trialReminderDays\n              }\n            }\n            productArrangement {\n              cloud\n              code\n              family\n            }\n            productArrangementCode\n            promotion {\n              promotionTerm\n              promotionTermValue\n            }\n            term\n          }\n          sourceIntent\n        }\n      }\n    }\n  }\n  ","\n"]);return s=function(){return n},n}var f=(0,i.gql)(s(),o.Q);function p(n,e,t,r,o,i,a,u){var l=arguments.length>8&&void 0!==arguments[8]&&arguments[8],d=E(n,e,t,r,o,i,u,a);return l&&(d.sourceIntent=l?c.ph.SEGMENTATION:void 0),d}function v(n,e,t,r,o,i,a,u){var l=arguments.length>8&&void 0!==arguments[8]&&arguments[8],d=E(n,e,t,r,o,i,u,a);return l&&(d.segmentationSourceIntent=l?c.ph.SEGMENTATION:void 0,d.bundleSourceIntent=l?c.ph.BUNDLES:void 0),d}function E(n,e,t,r,o,i,c,d){var s;return{code:e,country:n,locale:t,offerType:(r=null===(s=r)||void 0===s?void 0:s.toUpperCase())&&u.R[r]?u.R[r]:u.R.BASE,userId:o,clientId:i,processingInstructions:[l.c.TRIAL],promotionCodes:c,svar:d,marketSegmentAltPriceInput:{country:n,locale:t,sourceOfferIds:[]},segmentInput:a.ii.Com}}var m=(0,i.gql)(d())},75096:function(n,e,t){"use strict";t.d(e,{UU:function(){return o},T4:function(){return i},dO:function(){return a}});var r=t(22222),o="academic",i=(0,r.createSelector)((function(n){return n.academic}),(function(n){return!!n&&Object.values(n).some((function(n){if("string"!==typeof n)return!(null===n||void 0===n||!n.touched||null===n||void 0===n||!n.error)}))})),a=function(n){var e;return null===n||void 0===n||null===(e=n.academic)||void 0===e?void 0:e.validationId}},36623:function(n,e,t){"use strict";t.d(e,{al:function(){return S},uD:function(){return P},$C:function(){return R},fC:function(){return N},Wt:function(){return y},NO:function(){return g},W4:function(){return D},V4:function(){return U},lr:function(){return h},F$:function(){return b},FP:function(){return M},a1:function(){return F},Lh:function(){return k},CA:function(){return w},Kq:function(){return Z},IG:function(){return x},f7:function(){return Y},SA:function(){return V},Jm:function(){return B},M8:function(){return G},jd:function(){return j},Zw:function(){return W},OS:function(){return H},HU:function(){return q},Xp:function(){return K},tN:function(){return $},qr:function(){return X},KJ:function(){return Q},fq:function(){return z},xA:function(){return J},PL:function(){return nn},RL:function(){return en},rL:function(){return tn},rp:function(){return rn},SQ:function(){return on},fu:function(){return p}});var r,o=t(26265),i=t(81834),a=t(23996),u=t(57307),l=t(22222),c=t(2385),d=t(24817),s=t(96029),f=t(8703),p="cartMeta",v="cart",E="SET_ORDER_ID",m="SET_RECOMMENDATION_REQUESTS_OFFERS_META",T="SET_SELECTED_OFFER_ID",_="SET_WORKFLOW",I="SET_CART_ACTION_CLICKED",A={orderId:"",recommendationRequestsOffersMeta:[],selectedOfferId:"",sliceName:v,workflow:"",cartActionClicked:!1},O=(0,u.oM)({name:p,initialState:A,reducers:(r={},(0,o.Z)(r,E,(function(n,e){n.orderId=e.payload})),(0,o.Z)(r,m,(function(n,e){n.recommendationRequestsOffersMeta=e.payload})),(0,o.Z)(r,T,(function(n,e){n.selectedOfferId=e.payload})),(0,o.Z)(r,_,(function(n,e){n.workflow=e.payload})),(0,o.Z)(r,I,(function(n,e){n.cartActionClicked=e.payload})),r)});function C(n){return!!n.cart}var S=O.actions.SET_ORDER_ID,P=O.actions.SET_RECOMMENDATION_REQUESTS_OFFERS_META,R=O.actions.SET_SELECTED_OFFER_ID,N=O.actions.SET_WORKFLOW,y=O.actions.SET_CART_ACTION_CLICKED,g=function(n){return n[p].orderId},D=function(n){return n[p].recommendationRequestsOffersMeta},L=function(n){var e;return null===(e=n[p])||void 0===e?void 0:e.selectedOfferId},U=function(n){return n[p].sliceName},h=function(n){return n[p].workflow},b=function(n){return C(n)?Q(n).order.orderNumber:""},M=function(n){return C(n)?Q(n).order:null},F=function(n){var e,t;return C(n)?null===(e=Q(n).order)||void 0===e||null===(t=e.cartPrice)||void 0===t?void 0:t.subtotalWithoutTax:null},k=function(n){var e,t;return C(n)?null===(e=Q(n).order)||void 0===e||null===(t=e.cartPrice)||void 0===t?void 0:t.subtotalWithTax:null},w=function(n){return function(n){if(C(n)){var e,t,r,o=null===(e=z(n)[0])||void 0===e||null===(t=e.offerVariants)||void 0===t||null===(r=t.offers[0])||void 0===r?void 0:r.offer;return null===o||void 0===o?void 0:o.marketSegments.includes(c.ii.Edu)}return!1}(n)?c.ii.Edu:c.ii.Com},Z=function(n){if(C(n)){var e=z(n),t=[];if(e.forEach((function(n){var e=n.offerVariants.offers[0].offer;if("PROMO_FMF"!==e.pricePoint){var r=e.productArrangement.cloud;r&&!t.includes(r)&&t.push(r)}})),t.includes(a.e.DEFAULT_CLOUD))return a.e.DEFAULT_CLOUD;if(t.includes(a.e.DOCUMENT))return a.e.DOCUMENT}return""},x=function(n){if(C(n)){var e,t,r,o=null===(e=z(n)[0])||void 0===e||null===(t=e.offerVariants)||void 0===t||null===(r=t.offers[0])||void 0===r?void 0:r.offer,i=(null===o||void 0===o?void 0:o.customerSegment)===c.op.Team,a=null===o||void 0===o?void 0:o.marketSegments.includes(c.ii.Edu);return i?a?f.v.TEAM_EDU:f.v.TEAM:Y(n)?a?f.v.TRIAL_EDU:f.v.TRIAL:a?f.v.EDU:f.v.INDIVIDUAL}return""},Y=function(n){return z(n).every((function(n){return n.offerVariants.sourceOffer.offerType===i.OfferType.TRIAL}))},V=function(n){return z(n).some((function(n){return n.offerVariants.sourceOffer.offerType===i.OfferType.TRIAL}))},B=function(n){return C(n)?Q(n).items[0].offerId:(0,s.yq)(n).length?(0,s.yq)(n)[0]:L(n)},G=function(n){return(0,s.yq)(n).length?(0,s.yq)(n):[L(n)]},j=function(n){var e,t,r,o;return C(n)?null===(e=z(n)[0])||void 0===e||null===(t=e.offerVariants)||void 0===t||null===(r=t.offers)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.offer:null},W=function(n){var e;return C(n)?null===(e=Q(n))||void 0===e?void 0:e.isTaxInclusive:null},H=function(n){return function(n){var e;return(null===n||void 0===n||null===(e=n.marketSegments)||void 0===e?void 0:e.includes(c.ii.Edu))||!1}(j(n))},q=function(n){var e,t=j(n);return(null===(e=t)||void 0===e?void 0:e.customerSegment)===c.op.Team},K=function(n){return(null===n||void 0===n?void 0:n.offerType)===i.OfferType.TRIAL},$=function(n){return(null===n||void 0===n?void 0:n.offerType)===i.OfferType.PROMOTION},X=function(n){var e,t=j(n);return(null===(e=t)||void 0===e?void 0:e.commitment)===i.Commitment.PERPETUAL},Q=function(n){return n.cart},z=function(n){return C(n)?Q(n).items:[]},J=function(n){var e=(0,d.pH)(n);return z(n).map((function(n,t){return{offerId:n.offerId,quantity:n.quantity,generateGraceLicense:0===t&&e}}))},nn=function(n){var e;return null===(e=Q(n))||void 0===e?void 0:e.promotionCode},en=(0,l.createSelector)(z,(function(n){return n.map((function(n){var e=tn(n),t=e.offerContent,r=e.promotion;return{productIconUrls:t.productIconUrls,productName:t.productName,promotionTerm:null===r||void 0===r?void 0:r.promotionTerm,promotionTermValue:null===r||void 0===r?void 0:r.promotionTermValue}}))})),tn=function(n){var e=n.offerId,t=n.offerVariants.offers.find((function(n){return n.offer.id===e}));return null===t||void 0===t?void 0:t.offer},rn=function(n,e){return e===i.OfferType.PROMOTION&&null!==n&&void 0!==n&&n.discountedUnitPriceWithoutTax?n.discountedUnitPriceWithoutTax:null===n||void 0===n?void 0:n.unitPriceWithoutTax},on=function(n,e){return e===i.OfferType.PROMOTION&&null!==n&&void 0!==n&&n.discountedUnitPriceWithTax?n.discountedUnitPriceWithTax:null===n||void 0===n?void 0:n.unitPriceWithTax};e.ZP=O.reducer},65455:function(n,e,t){"use strict";t.d(e,{oo:function(){return u},ZP:function(){return g},Qd:function(){return P},S2:function(){return D},Jj:function(){return S},mT:function(){return m},n$:function(){return T},_2:function(){return _},dm:function(){return v},eE:function(){return N},E6:function(){return R},Im:function(){return I},eX:function(){return A},jz:function(){return O},Nl:function(){return L},mN:function(){return C},mD:function(){return y},ym:function(){return U},wJ:function(){return E},Qo:function(){return p}});var r,o=t(26265),i=t(37244),a=t.n(i);!function(n){n.FULL_PAGE="fullPage",n.HYBRID="hybrid",n.IFRAME="iframe",n.IN_APP="inApp"}(r||(r={}));var u,l=t(57307),c=t(96029),d=t(24817),s="SET_CONFIGURATION_DATA";!function(n){n.IMPLICIT="IMPLICIT",n.EXPLICIT="EXPLICIT",n.SOFT="SOFT"}(u||(u={}));var f=(0,l.oM)({name:"CONFIGURATION_DATA",initialState:{urls:{termsOfUseUrl:"",privacyPolicyUrl:"",privacyPersonalizedUrl:"",privacyFamilyOfCompaniesUrl:"",returnUrl:"",learnMoreUrl:"",adobeAccountUrl:"",customerSupportUrl:"",desktopTrialDownloadUrl:"",resellersUrl:"",faqUrl:"",otherProductsUrl:""}},reducers:(0,o.Z)({},s,(function(n,e){return e.payload}))}),p=f.actions.SET_CONFIGURATION_DATA,v=function(n){return n.configurationData.urls},E=function(n){return n.configurationData.typekitId},m=function(n){return n.configurationData.country},T=function(n){return n.configurationData.language},_=function(n){return n.configurationData.locale},I=function(n){return n.configurationData.imsLocale},A=function(n){var e,t,r=(0,c.vl)(n);return null===(e=n.configurationData)||void 0===e||null===(t=e.guestInAppPurchaseAllowedClients)||void 0===t?void 0:t.includes(r[a().app.CLIENT_ID.name])},O=function(n){var e,t,r=(0,c.vl)(n);return null===(e=n.configurationData)||void 0===e||null===(t=e.nglWorkflowClients)||void 0===t?void 0:t.includes(r[a().app.CLIENT_ID.name])},C=function(n){var e=u.SOFT;return n.configurationData.explicitOptInCountries&&(e=u.EXPLICIT),n.configurationData.implicitOptInCountries&&(e=u.IMPLICIT),e},S=function(n){var e,t,o=(0,c.vl)(n),i=o[a().app.CTX.name];if(null!==(e=n.configurationData)&&void 0!==e&&e.forceHybridFlow||a().app.APPCTXID.name in o&&!(0,d.Z0)(i))t=r.HYBRID;else switch(i){case a().app.CTX.values.APP:t=r.IN_APP;break;case a().app.CTX.values.IFRAME:t=r.IFRAME;break;default:t=r.FULL_PAGE}return t},P=function(n){var e=n.configurationData;return{preferFamilyName:e.preferFamilyName,reverseGraduationFields:e.reverseGraduationFields,supportsSchoolSearch:e.supportsSchoolSearch}},R=function(n){return n.configurationData.explicitRenewalConfig},N=function(n){return n.configurationData.excludeFromPaymentCountryDropdown},y=function(n){return n.configurationData.phoneNumbers},g=f.reducer,D=function(n){return n.configurationData.businessTrialSupportedCountries},L=function(n){return n.configurationData.isSupportedCountry},U=function(n){return n.configurationData.supportedProductArragementCodes||[]}},40705:function(n,e,t){"use strict";t.d(e,{WM:function(){return A},jO:function(){return O},Pl:function(){return C},vZ:function(){return S}});var r,o=t(26265),i=t(99246),a=t(55957),u=t(57332);function l(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function c(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?l(Object(t),!0).forEach((function(e){(0,o.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var d="personalizedContent",s="SET_CONTENT_VARIATIONS",f="SET_CONTENT_ANALYTICS",p={contentVariations:{},containerAnalytics:[]},v=(r={},(0,o.Z)(r,s,(function(n,e,t){return c(c({},t),{},{contentVariations:e.payload})})),(0,o.Z)(r,f,(function(n,e,t){return c(c({},t),{},{containerAnalytics:e.payload})})),r),E=(0,a.payloadAction)(s),m=(0,a.payloadAction)(f),T=function(n){var e;return null===(e=n.personalizedContent)||void 0===e?void 0:e.contentVariations},_=function(n,e){var t=T(n);return(null===t||void 0===t?void 0:t[e])||""},I=function(n,e,t){var r=_(n,e);return null===r||void 0===r?void 0:r.includes(t)},A=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!e[i.R.UC_FORCE_SEGMENTATION_CHALLENGER]||I(n,u.Z.SEGMENTATION,"SegmentationChallenger")},O=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!1;return"ccsn_direct_individual"===(null===e||void 0===e?void 0:e.productArrangementCode)&&(r=!!t[i.R.UC_FORCE_ALL_APPS_OPTIMIZATION]||I(n,u.Z.COMMITMENT,"all_apps_optimization")),r},C=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[i.R.UC_FORCE_WALLET_ACCORDION]||I(n,u.Z.PAYMENT,"accordion_wallet")},S=function(n,e){var t=n.createSlice(d,v,e||p);return function(n,e){return{getPersonalizedContentVariationsState:function(){return T(n.getState())},getPersonalizedContentAnalyticsData:function(){return function(n){var e;return null===(e=n.personalizedContent)||void 0===e?void 0:e.containerAnalytics}(n.getState())},getPersonalizedContentVariationByAEMQueryName:function(e){return _(n.getState(),e)},getIsPersonalizedContentVariationActive:function(e,t){return I(n.getState(),e,t)},getShouldRenderSegmentationChallenger:function(e){return A(n.getState(),e)},getShouldShowAllAppsOptimization:function(e,t){return O(n.getState(),e,t)},setPersonalizedContentVariationsState:function(n){return e(E(n))},setPersonalizedContentAnalyticsData:function(n){return e(m(n))}}}(n,t.dispatch)}},86695:function(n,e,t){"use strict";t.d(e,{F:function(){return r},A:function(){return o}});var r="paymentAuth",o=function(n){return null===n||void 0===n?void 0:n.paymentAuth}},57663:function(n,e,t){"use strict";t.d(e,{p6:function(){return l},sH:function(){return c},l6:function(){return d},V4:function(){return s}});var r,o=t(26265),i="SET_PAYPAL_RETURN_STATE",a="SET_PAYPAL_RETURN_LOADING_STATE",u=(0,t(57307).oM)({name:"PAYPAL",initialState:{isPaypalReturn:!1,isPaypalReturnLoading:!1},reducers:(r={},(0,o.Z)(r,i,(function(n,e){n.isPaypalReturn=e.payload})),(0,o.Z)(r,a,(function(n,e){n.isPaypalReturnLoading=e.payload})),r)}),l=u.actions.SET_PAYPAL_RETURN_STATE,c=u.actions.SET_PAYPAL_RETURN_LOADING_STATE;e.ZP=u.reducer;var d=function(n){var e;return null===(e=n.paypalState)||void 0===e?void 0:e.isPaypalReturn},s=function(n){var e;return null===(e=n.paypalState)||void 0===e?void 0:e.isPaypalReturnLoading}},77081:function(n,e,t){"use strict";t.d(e,{wC:function(){return o},Of:function(){return i},Gg:function(){return a},Oy:function(){return u},YL:function(){return l}});var r=t(26265),o="session";function i(n){var e,t=n.req,i=n.res;return(0,r.Z)({},o,{realDocumentReferrer:(null===t||void 0===t||null===(e=t.headers)||void 0===e?void 0:e.referer)||"",clientSessionId:(null===i||void 0===i?void 0:i.clientSessionId)||""})}var a=function(n){return n.session},u=function(n){var e;return null===(e=n.session)||void 0===e?void 0:e.clientSessionId},l=function(n){var e;return null===(e=n.session)||void 0===e?void 0:e.realDocumentReferrer}},61792:function(n,e,t){"use strict";t.d(e,{$l:function(){return _},Iv:function(){return I},Ux:function(){return A},Or:function(){return O},M8:function(){return C},rZ:function(){return S},cL:function(){return P},oY:function(){return R},fK:function(){return N},PR:function(){return y},Yw:function(){return g},hP:function(){return D},et:function(){return L},gV:function(){return U},FD:function(){return h},Ax:function(){return b},PQ:function(){return M},OQ:function(){return F},H0:function(){return k},Tk:function(){return w},D7:function(){return Z}});var r,o=t(26265),i=t(57307),a=t(22222);function u(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}var l="SET_USER_IMS_PROFILE",c="SET_USER_EMAIL_ADDRESS",d="SET_USER_EMAIL_STATUS",s="SET_USER_ID",f="SET_USER_ACCESS_TOKEN",p="SET_USER_DEVICE_DETAILS",v="SET_USER_AUTH_SOURCE",E="SET_USER_COUNTRY_CHANGE_ALLOWED",m="SET_UNSUPPORTED_ACCOUNT_TYPE",T=(0,i.oM)({name:"USER",initialState:{accessToken:"",authSource:"",device:{},profile:{accountType:"",email:"",preferredLanguages:[]},countryChangeAllowed:!0,unsupportedAccountType:!1},reducers:(r={},(0,o.Z)(r,l,(function(n,e){n.profile=e.payload})),(0,o.Z)(r,c,(function(n,e){n.profile.email=e.payload})),(0,o.Z)(r,d,(function(n,e){n.profile.emailStatus=e.payload})),(0,o.Z)(r,s,(function(n,e){n.profile.userId=e.payload})),(0,o.Z)(r,f,(function(n,e){n.accessToken=e.payload})),(0,o.Z)(r,v,(function(n,e){n.authSource=e.payload})),(0,o.Z)(r,p,(function(n,e){n.device=function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?u(Object(t),!0).forEach((function(e){(0,o.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}({},e.payload)})),(0,o.Z)(r,E,(function(n,e){n.countryChangeAllowed=e.payload})),(0,o.Z)(r,m,(function(n,e){n.unsupportedAccountType=e.payload})),r)}),_=T.actions.SET_USER_IMS_PROFILE,I=T.actions.SET_USER_ID,A=T.actions.SET_USER_EMAIL_ADDRESS,O=T.actions.SET_USER_EMAIL_STATUS,C=T.actions.SET_USER_ACCESS_TOKEN,S=T.actions.SET_USER_AUTH_SOURCE,P=T.actions.SET_USER_DEVICE_DETAILS,R=T.actions[E],N=T.actions.SET_UNSUPPORTED_ACCOUNT_TYPE;(0,i.PH)("CHECK_COPPA_STATUS");e.ZP=T.reducer;var y=function(n){return n.user},g=function(n){return n.user.authSource},D=function(n){return n.user.accessToken},L=function(n){return n.user.profile},U=function(n){return n.user.profile.email},h=function(n){return n.user.profile.vatId},b=function(n){return n.user.device},M=function(n){return!!n.user.accessToken},F=function(n){return n.user.countryChangeAllowed},k=function(n){var e,t,r;return(null!==(e=null===(t=n.user)||void 0===t||null===(r=t.profile)||void 0===r?void 0:r.roles)&&void 0!==e?e:[]).some((function(n){return"org_admin"===n.namedRole}))},w=function(n){var e,t,r;return(null!==(e=null===(t=n.user)||void 0===t||null===(r=t.profile)||void 0===r?void 0:r.serviceAccounts)&&void 0!==e?e:[]).some((function(n){return"stock"===n.serviceCode}))},Z=function(n){return n.user.unsupportedAccountType};(0,a.createSelector)([L,M],(function(n,e){return{userIsAuthenticated:e,email:n.email,firstName:n.firstName,lastName:n.lastName,countryCode:n.countryCode}})),(0,a.createSelector)(b,(function(n){return Boolean(n.isMobile)})),(0,a.createSelector)(b,(function(n){return Boolean(n.isDesktop)}))},67348:function(n,e,t){"use strict";t.d(e,{x5:function(){return i},Ve:function(){return a},uM:function(){return u},Qd:function(){return l},Po:function(){return c},$4:function(){return d},wr:function(){return s},sy:function(){return f},ds:function(){return p},ai:function(){return v},l:function(){return E},DR:function(){return m},AK:function(){return T},e7:function(){return _},UN:function(){return I},UX:function(){return A},s$:function(){return O},SA:function(){return C},fG:function(){return S}});var r=t(22222),o=t(28361),i="wallet",a=function(n){var e;return null===n||void 0===n||null===(e=n.wallet)||void 0===e?void 0:e.paymentForm},u=function(n){var e;return null===n||void 0===n||null===(e=n.wallet)||void 0===e?void 0:e.submitted},l=function(n){var e,t;return Boolean(null===n||void 0===n||null===(e=n.wallet)||void 0===e||null===(t=e.submitted)||void 0===t?void 0:t.paymentInstrument)},c=(0,r.createSelector)(a,(function(n){if(n&&n.fields){var e=n.fields;return Object.values(e).some((function(n){return!(null===n||void 0===n||!n.touched||null===n||void 0===n||!n.error)}))}return!1})),d=(0,r.createSelector)(a,(function(n){if(n&&n.fields){var e=n.fields;return Object.keys(e).filter((function(n){var t,r;return!(null===(t=e[n])||void 0===t||!t.touched||null===(r=e[n])||void 0===r||!r.error)}))}return[]})),s=function(n){var e,t;return null===n||void 0===n||null===(e=n.wallet)||void 0===e||null===(t=e.paymentForm)||void 0===t?void 0:t.formType},f=function(n){var e,t,r,o,i,u,l=a(n),c="";return null===l||void 0===l||null===(e=l.fields)||void 0===e||null===(t=e.postalCode)||void 0===t||!t.value||null!==l&&void 0!==l&&null!==(r=l.fields)&&void 0!==r&&null!==(o=r.postalCode)&&void 0!==o&&o.error?null!==l&&void 0!==l&&null!==(i=l.selectedPaymentInstrument)&&void 0!==i&&null!==(u=i.billingAddress)&&void 0!==u&&u.postalCode&&(c=l.selectedPaymentInstrument.billingAddress.postalCode):c=l.fields.postalCode.value,c},p=function(n){var e,t,r,o,i,u,l=a(n),c="";return null===l||void 0===l||null===(e=l.fields)||void 0===e||null===(t=e.taxId)||void 0===t||!t.value||null!==l&&void 0!==l&&null!==(r=l.fields)&&void 0!==r&&null!==(o=r.taxId)&&void 0!==o&&o.error?null!==l&&void 0!==l&&null!==(i=l.selectedPaymentInstrument)&&void 0!==i&&null!==(u=i.billingContact)&&void 0!==u&&u.taxId&&(c=l.selectedPaymentInstrument.billingContact.taxId):c=l.fields.taxId.value,c},v=(0,r.createSelector)(a,(function(n){return(null===n||void 0===n?void 0:n.formType)===o.PaymentFormType.PAYPAL})),E=(0,r.createSelector)(a,(function(n){return(null===n||void 0===n?void 0:n.formType)===o.PaymentFormType.APPLE_PAY})),m=(0,r.createSelector)(a,(function(n){return(null===n||void 0===n?void 0:n.formType)===o.PaymentFormType.GOOGLE_PAY})),T=function(n){var e,t;return null===n||void 0===n||null===(e=n.wallet)||void 0===e||null===(t=e.paymentForm)||void 0===t?void 0:t.workflowState},_=(0,r.createSelector)(T,(function(n){return"WALLET"===n})),I=function(n){var e,t=a(n),r=null===t||void 0===t?void 0:t.fields;return r&&(e=Object.keys(r).reduce((function(n,e){var t=(r[e]||{}).value;return n[e]=t,n}),{})),e},A=function(n){var e=a(n);return(null!==e&&void 0!==e?e:{}).formType},O=function(n){var e,t,r=a(n);return null===r||void 0===r||null===(e=r.fields)||void 0===e||null===(t=e.tokenizerConnectionStatus)||void 0===t?void 0:t.value},C=function(n){var e=n.wallet;return null===e||void 0===e?void 0:e.error},S=(0,r.createSelector)(_,(function(n){var e,t,r,o,i=null===(e=n.wallet)||void 0===e||null===(t=e.paymentForm)||void 0===t||null===(r=t.selectedPaymentInstrument)||void 0===r?void 0:r.paymentInstrument,a=null!==(o=null===i||void 0===i?void 0:i.cardSpan)&&void 0!==o?o:"";return 12===a.length?a.slice(0,8):a.slice(0,6)}),(function(n){var e,t,r,o;return null===(e=n.wallet)||void 0===e||null===(t=e.paymentForm)||void 0===t||null===(r=t.fields)||void 0===r||null===(o=r.cardBin)||void 0===o?void 0:o.value}),(function(n,e,t){return n?e:t}))},2385:function(n,e,t){"use strict";var r,o,i,a,u,l,c,d,s,f,p,v,E,m,T,_,I,A,O,C,S,P,R,N,y,g,D,L,U,h,b,M,F,k,w;t.d(e,{ii:function(){return i},y3:function(){return d},A2:function(){return s},op:function(){return f},m_:function(){return p},_6:function(){return v},iF:function(){return T},f5:function(){return _},E_:function(){return R},wt:function(){return L},uG:function(){return h},c0:function(){return b},DN:function(){return M},iU:function(){return w}}),function(n){n.Available="AVAILABLE",n.Claimed="CLAIMED",n.Invalid="INVALID",n.Used="USED"}(r||(r={})),function(n){n.Private="PRIVATE",n.Public="PUBLIC"}(o||(o={})),function(n){n.Com="COM",n.Edu="EDU",n.Gov="GOV"}(i||(i={})),function(n){n.TaxExclusive="TAX_EXCLUSIVE",n.TaxInclusive="TAX_INCLUSIVE",n.TaxInclusiveDetails="TAX_INCLUSIVE_DETAILS"}(a||(a={})),function(n){n.Gst="GST",n.Iva="IVA",n.Kdv="KDV",n.Sst="SST",n.Tax="TAX",n.Vat="VAT"}(u||(u={})),function(n){n.Email="EMAIL",n.Mail="MAIL",n.Phone="PHONE"}(l||(l={})),function(n){n.UnifiedCheckoutV3="UNIFIED_CHECKOUT_V3"}(c||(c={})),function(n){n.Month="MONTH",n.None="NONE",n.Perpetual="PERPETUAL",n.ThreeYears="THREE_YEARS",n.TwoYears="TWO_YEARS",n.Year="YEAR"}(d||(d={})),function(n){n.Annual="ANNUAL",n.Month="MONTH",n.Monthly="MONTHLY",n.None="NONE",n.PerpetualYear="PERPETUAL_YEAR",n.ThreeYears="THREE_YEARS",n.TwoYears="TWO_YEARS",n.Year="YEAR"}(s||(s={})),function(n){n.Enterprise="ENTERPRISE",n.Individual="INDIVIDUAL",n.Team="TEAM"}(f||(f={})),function(n){n.Base="BASE",n.Promotion="PROMOTION",n.Trial="TRIAL"}(p||(p={})),function(n){n.I2TActiveOffers="I2T_ACTIVE_OFFERS",n.I2TCartAddMoreProducts="I2T_CART_ADD_MORE_PRODUCTS",n.I2TUpgrades="I2T_UPGRADES",n.I2TUpgradeCart="I2T_UPGRADE_CART",n.I2TUpsells="I2T_UPSELLS",n.UcAddons="UC_ADDONS",n.UcBundles="UC_BUNDLES",n.UcCommitmentVariants="UC_COMMITMENT_VARIANTS",n.UcMarketSegmentVariants="UC_MARKET_SEGMENT_VARIANTS",n.UcSegmentation="UC_SEGMENTATION",n.UcUpsells="UC_UPSELLS",n.AacOfferDiscoveryPurchase="aac_offer_discovery_purchase"}(v||(v={})),function(n){n.Type1="TYPE1",n.Type2="TYPE2",n.Type2E="TYPE2E",n.Type3="TYPE3"}(E||(E={})),function(n){n.IneligibleDuplicate="INELIGIBLE_DUPLICATE",n.IneligibleDuplicateDowngrade="INELIGIBLE_DUPLICATE_DOWNGRADE",n.IneligibleDuplicateUpgrade="INELIGIBLE_DUPLICATE_UPGRADE",n.IneligibleIncluded="INELIGIBLE_INCLUDED",n.IneligibleProcessing="INELIGIBLE_PROCESSING",n.IneligibleSwitch="INELIGIBLE_SWITCH",n.TrialLimitExceeded="TRIAL_LIMIT_EXCEEDED"}(m||(m={})),function(n){n.Authenticated="AUTHENTICATED",n.Cancelled="CANCELLED",n.Fulfilled="FULFILLED",n.HeldForManualAuth="HELD_FOR_MANUAL_AUTH",n.HeldOfflinePayment="HELD_OFFLINE_PAYMENT",n.HeldUnauthorized="HELD_UNAUTHORIZED",n.HeldUnverified="HELD_UNVERIFIED",n.InitializePayment="INITIALIZE_PAYMENT",n.InProgress="IN_PROGRESS",n.Open="OPEN",n.PaymentInitialized="PAYMENT_INITIALIZED",n.PaymentValidated="PAYMENT_VALIDATED",n.PendingAuthentication="PENDING_AUTHENTICATION",n.Preview="PREVIEW",n.Submitted="SUBMITTED"}(T||(T={})),function(n){n.Day="DAY",n.Month="MONTH",n.PaymentTerm="PAYMENT_TERM",n.Week="WEEK",n.Year="YEAR"}(_||(_={})),function(n){n.Direct="DIRECT",n.Enterprise="ENTERPRISE"}(I||(I={})),function(n){n.Active="ACTIVE",n.Inactive="INACTIVE"}(A||(A={})),function(n){n.Direct="DIRECT",n.Enterprise="ENTERPRISE",n.Indirect="INDIRECT",n.Reseller="RESELLER"}(O||(O={})),function(n){n.Direct="DIRECT",n.Indirect="INDIRECT"}(C||(C={})),function(n){n.CurrentCommitment="CURRENT_COMMITMENT",n.Finite="FINITE"}(S||(S={})),function(n){n.FixedDiscount="FIXED_DISCOUNT",n.FreeTime="FREE_TIME",n.PercentageDiscount="PERCENTAGE_DISCOUNT"}(P||(P={})),function(n){n.Invalid="INVALID",n.Valid="VALID"}(R||(R={})),function(n){n.Annual="ANNUAL",n.Monthly="MONTHLY",n.ThreeYears="THREE_YEARS",n.TwoYears="TWO_YEARS",n.Unknown="UNKNOWN",n.Usage="USAGE"}(N||(N={})),function(n){n.Left="LEFT",n.Right="RIGHT"}(y||(y={})),function(n){n.Dark="DARK",n.Light="LIGHT"}(g||(g={})),function(n){n.Bullets="BULLETS",n.Checks="CHECKS",n.Icons="ICONS"}(D||(D={})),function(n){n.ApplePay="APPLE_PAY",n.GooglePay="GOOGLE_PAY"}(L||(L={})),function(n){n.Cardinal="CARDINAL"}(U||(U={})),function(n){n.Amex="AMEX",n.BankTransfer="BANK_TRANSFER",n.Boleto="BOLETO",n.Cup="CUP",n.Cvs="CVS",n.Diners="DINERS",n.DirectDebit="DIRECT_DEBIT",n.Discover="DISCOVER",n.Elo="ELO",n.Jcb="JCB",n.Krlc="KRLC",n.Mastercard="MASTERCARD",n.Paypal="PAYPAL",n.Po="PO",n.Visa="VISA"}(h||(h={})),function(n){n.Accepted="ACCEPTED",n.Canceled="CANCELED",n.Unknown="UNKNOWN"}(b||(b={})),function(n){n.Bank="BANK",n.CreditCard="CREDIT_CARD",n.DirectDebit="DIRECT_DEBIT",n.None="NONE",n.Offline="OFFLINE",n.Paypal="PAYPAL",n.Po="PO",n.Saved="SAVED"}(M||(M={})),function(n){n.Active="ACTIVE",n.AdminSwitch="ADMIN_SWITCH",n.Inactive="INACTIVE",n.InProgress="IN_PROGRESS"}(F||(F={})),function(n){n.AdobeDirect="ADOBE_DIRECT",n.Telesales="TELESALES"}(k||(k={})),function(n){n.Initial="INITIAL",n.Post="POST",n.SwitchPlan="SWITCH_PLAN"}(w||(w={}))},14453:function(){}}]);